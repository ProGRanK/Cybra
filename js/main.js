function stick() {
    if ($(".nav-sticky").length) {
        var a = $(".nav-sticky").offset().top;
        $(window).scrollTop();
        a > 70 ?
            ($(".nav-sticky").addClass("sticky"),
                $(".navbar-brand img").attr(
                    "src",
                    $('meta[name="logo-dark"]').attr("content")
                )) :
            ($(".navbar-brand img").attr("src", defaultLogo),
                $(".nav-sticky").removeClass("sticky"));
    }
}

function hasScrolled() {
    var a = $(this).scrollTop();
    Math.abs(lastScrollTop - a) <= delta ||
        (a > lastScrollTop && a > navbarHeight ?
            $("body")
            .removeClass("")
            .addClass("scrolling-down") :
            a + $(window).height() < $(document).height() &&
            $("body")
            .removeClass("")
            .addClass("scrolling-up"),
            (lastScrollTop = a));
}

function alignVertical() {
    $(".fullscreen").height($(window).height()),
        $(".align-vertical").each(function() {
            var a = $(this);
            (height = a.height()),
            (parentHeight = a.parent().height()),
            (padAmount = parentHeight / 2 - height / 2),
            a.css("padding-top", padAmount);
        });
}
if (
    ((window.Modernizr = (function(a, b, c) {
            function d(a) {
                s.cssText = a;
            }

            function e(a, b) {
                return typeof a === b;
            }

            function f(a, b) {
                return !!~("" + a).indexOf(b);
            }

            function g(a, b) {
                for (var d in a) {
                    var e = a[d];
                    if (!f(e, "-") && s[e] !== c) return "pfx" == b ? e : !0;
                }
                return !1;
            }

            function h(a, b, d) {
                for (var f in a) {
                    var g = b[a[f]];
                    if (g !== c)
                        return d === !1 ? a[f] : e(g, "function") ? g.bind(d || b) : g;
                }
                return !1;
            }

            function i(a, b, c) {
                var d = a.charAt(0).toUpperCase() + a.slice(1),
                    f = (a + " " + u.join(d + " ") + d).split(" ");
                return e(b, "string") || e(b, "undefined") ?
                    g(f, b) :
                    ((f = (a + " " + v.join(d + " ") + d).split(" ")), h(f, b, c));
            }
            var j,
                k,
                l,
                m = "2.7.1",
                n = {},
                o = !0,
                p = b.documentElement,
                q = "modernizr",
                r = b.createElement(q),
                s = r.style,
                t = ({}.toString, "Webkit Moz O ms"),
                u = t.split(" "),
                v = t.toLowerCase().split(" "),
                w = {},
                x = [],
                y = x.slice,
                z = {}.hasOwnProperty;
            (l =
                e(z, "undefined") || e(z.call, "undefined") ?

                function(a, b) {
                    return b in a && e(a.constructor.prototype[b], "undefined");
                } :
                function(a, b) {
                    return z.call(a, b);
                }),
            Function.prototype.bind ||
                (Function.prototype.bind = function(a) {
                    var b = this;
                    if ("function" != typeof b) throw new TypeError();
                    var c = y.call(arguments, 1),
                        d = function() {
                            if (this instanceof d) {
                                var e = function() {};
                                e.prototype = b.prototype;
                                var f = new e(),
                                    g = b.apply(f, c.concat(y.call(arguments)));
                                return Object(g) === g ? g : f;
                            }
                            return b.apply(a, c.concat(y.call(arguments)));
                        };
                    return d;
                }),
                (w.csstransitions = function() {
                    return i("transition");
                });
            for (var A in w)
                l(w, A) &&
                ((k = A.toLowerCase()),
                    (n[k] = w[A]()),
                    x.push((n[k] ? "" : "no-") + k));
            return (
                (n.addTest = function(a, b) {
                    if ("object" == typeof a)
                        for (var d in a) l(a, d) && n.addTest(d, a[d]);
                    else {
                        if (((a = a.toLowerCase()), n[a] !== c)) return n;
                        (b = "function" == typeof b ? b() : b),
                        "undefined" != typeof o &&
                            o &&
                            (p.className += " " + (b ? "" : "no-") + a),
                            (n[a] = b);
                    }
                    return n;
                }),
                d(""),
                (r = j = null),
                (function(a, b) {
                    function c(a, b) {
                        var c = a.createElement("p"),
                            d = a.getElementsByTagName("head")[0] || a.documentElement;
                        return (
                            (c.innerHTML = "x<style>" + b + "</style>"),
                            d.insertBefore(c.lastChild, d.firstChild)
                        );
                    }

                    function d() {
                        var a = s.elements;
                        return "string" == typeof a ? a.split(" ") : a;
                    }

                    function e(a) {
                        var b = r[a[p]];
                        return b || ((b = {}), q++, (a[p] = q), (r[q] = b)), b;
                    }

                    function f(a, c, d) {
                        if ((c || (c = b), k)) return c.createElement(a);
                        d || (d = e(c));
                        var f;
                        return (
                            (f = d.cache[a] ?
                                d.cache[a].cloneNode() :
                                o.test(a) ?
                                (d.cache[a] = d.createElem(a)).cloneNode() :
                                d.createElem(a)), !f.canHaveChildren || n.test(a) || f.tagUrn ?
                            f :
                            d.frag.appendChild(f)
                        );
                    }

                    function g(a, c) {
                        if ((a || (a = b), k)) return a.createDocumentFragment();
                        c = c || e(a);
                        for (
                            var f = c.frag.cloneNode(), g = 0, h = d(), i = h.length; i > g; g++
                        )
                            f.createElement(h[g]);
                        return f;
                    }

                    function h(a, b) {
                        b.cache ||
                            ((b.cache = {}),
                                (b.createElem = a.createElement),
                                (b.createFrag = a.createDocumentFragment),
                                (b.frag = b.createFrag())),
                            (a.createElement = function(c) {
                                return s.shivMethods ? f(c, a, b) : b.createElem(c);
                            }),
                            (a.createDocumentFragment = Function(
                                "h,f",
                                "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" +
                                d()
                                .join()
                                .replace(/[\w\-]+/g, function(a) {
                                    return (
                                        b.createElem(a), b.frag.createElement(a), 'c("' + a + '")'
                                    );
                                }) +
                                ");return n}"
                            )(s, b.frag));
                    }

                    function i(a) {
                        a || (a = b);
                        var d = e(a);
                        return (
                            s.shivCSS &&
                            !j &&
                            !d.hasCSS &&
                            (d.hasCSS = !!c(
                                a,
                                "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}"
                            )),
                            k || h(a, d),
                            a
                        );
                    }
                    var j,
                        k,
                        l = "3.7.0",
                        m = a.html5 || {},
                        n = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
                        o = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
                        p = "_html5shiv",
                        q = 0,
                        r = {};
                    !(function() {
                        try {
                            var a = b.createElement("a");
                            (a.innerHTML = "<xyz></xyz>"),
                            (j = "hidden" in a),
                            (k =
                                1 == a.childNodes.length ||
                                (function() {
                                    b.createElement("a");
                                    var a = b.createDocumentFragment();
                                    return (
                                        "undefined" == typeof a.cloneNode ||
                                        "undefined" == typeof a.createDocumentFragment ||
                                        "undefined" == typeof a.createElement
                                    );
                                })());
                        } catch (c) {
                            (j = !0), (k = !0);
                        }
                    })();
                    var s = {
                        elements: m.elements ||
                            "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
                        version: l,
                        shivCSS: m.shivCSS !== !1,
                        supportsUnknownElements: k,
                        shivMethods: m.shivMethods !== !1,
                        type: "default",
                        shivDocument: i,
                        createElement: f,
                        createDocumentFragment: g
                    };
                    (a.html5 = s), i(b);
                })(this, b),
                (n._version = m),
                (n._domPrefixes = v),
                (n._cssomPrefixes = u),
                (n.testProp = function(a) {
                    return g([a]);
                }),
                (n.testAllProps = i),
                (n.prefixed = function(a, b, c) {
                    return b ? i(a, b, c) : i(a, "pfx");
                }),
                (p.className =
                    p.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") +
                    (o ? " js " + x.join(" ") : "")),
                n
            );
        })(this, this.document)),
        (function(a, b, c) {
            function d(a) {
                return "[object Function]" == q.call(a);
            }

            function e(a) {
                return "string" == typeof a;
            }

            function f() {}

            function g(a) {
                return !a || "loaded" == a || "complete" == a || "uninitialized" == a;
            }

            function h() {
                var a = r.shift();
                (s = 1),
                a
                    ?
                    a.t ?
                    o(function() {
                        ("c" == a.t ?
                            m.injectCss :
                            m.injectJs)(a.s, 0, a.a, a.x, a.e, 1);
                    }, 0) :
                    (a(), h()) :
                    (s = 0);
            }

            function i(a, c, d, e, f, i, j) {
                function k(b) {
                    if (!n &&
                        g(l.readyState) &&
                        ((t.r = n = 1), !s && h(),
                            (l.onload = l.onreadystatechange = null),
                            b)
                    ) {
                        "img" != a &&
                            o(function() {
                                v.removeChild(l);
                            }, 50);
                        for (var d in A[c]) A[c].hasOwnProperty(d) && A[c][d].onload();
                    }
                }
                var j = j || m.errorTimeout,
                    l = b.createElement(a),
                    n = 0,
                    q = 0,
                    t = { t: d, s: c, e: f, a: i, x: j };
                1 === A[c] && ((q = 1), (A[c] = [])),
                    "object" == a ? (l.data = c) : ((l.src = c), (l.type = a)),
                    (l.width = l.height = "0"),
                    (l.onerror = l.onload = l.onreadystatechange = function() {
                        k.call(this, q);
                    }),
                    r.splice(e, 0, t),
                    "img" != a &&
                    (q || 2 === A[c] ?
                        (v.insertBefore(l, u ? null : p), o(k, j)) :
                        A[c].push(l));
            }

            function j(a, b, c, d, f) {
                return (
                    (s = 0),
                    (b = b || "j"),
                    e(a) ?
                    i("c" == b ? x : w, a, b, this.i++, c, d, f) :
                    (r.splice(this.i++, 0, a), 1 == r.length && h()),
                    this
                );
            }

            function k() {
                var a = m;
                return (a.loader = { load: j, i: 0 }), a;
            }
            var l,
                m,
                n = b.documentElement,
                o = a.setTimeout,
                p = b.getElementsByTagName("script")[0],
                q = {}.toString,
                r = [],
                s = 0,
                t = "MozAppearance" in n.style,
                u = t && !!b.createRange().compareNode,
                v = u ? n : p.parentNode,
                n = a.opera && "[object Opera]" == q.call(a.opera),
                n = !!b.attachEvent && !n,
                w = t ? "object" : n ? "script" : "img",
                x = n ? "script" : w,
                y =
                Array.isArray ||
                function(a) {
                    return "[object Array]" == q.call(a);
                },
                z = [],
                A = {},
                B = {
                    timeout: function(a, b) {
                        return b.length && (a.timeout = b[0]), a;
                    }
                };
            (m = function(a) {
                function b(a) {
                    var b,
                        c,
                        d,
                        a = a.split("!"),
                        e = z.length,
                        f = a.pop(),
                        g = a.length,
                        f = { url: f, origUrl: f, prefixes: a };
                    for (c = 0; g > c; c++)
                        (d = a[c].split("=")), (b = B[d.shift()]) && (f = b(f, d));
                    for (c = 0; e > c; c++) f = z[c](f);
                    return f;
                }

                function g(a, e, f, g, h) {
                    var i = b(a),
                        j = i.autoCallback;
                    i.url
                        .split(".")
                        .pop()
                        .split("?")
                        .shift(),
                        i.bypass ||
                        (e &&
                            (e = d(e) ?
                                e :
                                e[a] ||
                                e[g] ||
                                e[
                                    a
                                    .split("/")
                                    .pop()
                                    .split("?")[0]
                                ]),
                            i.instead ?
                            i.instead(a, e, f, g, h) :
                            (A[i.url] ? (i.noexec = !0) : (A[i.url] = 1),
                                f.load(
                                    i.url,
                                    i.forceCSS ||
                                    (!i.forceJS &&
                                        "css" ==
                                        i.url
                                        .split(".")
                                        .pop()
                                        .split("?")
                                        .shift()) ?
                                    "c" :
                                    c,
                                    i.noexec,
                                    i.attrs,
                                    i.timeout
                                ),
                                (d(e) || d(j)) &&
                                f.load(function() {
                                    k(),
                                        e && e(i.origUrl, h, g),
                                        j && j(i.origUrl, h, g),
                                        (A[i.url] = 2);
                                })));
                }

                function h(a, b) {
                    function c(a, c) {
                        if (a) {
                            if (e(a))
                                c ||
                                (l = function() {
                                    var a = [].slice.call(arguments);
                                    m.apply(this, a), n();
                                }),
                                g(a, l, b, 0, j);
                            else if (Object(a) === a)
                                for (i in ((h = (function() {
                                            var b,
                                                c = 0;
                                            for (b in a) a.hasOwnProperty(b) && c++;
                                            return c;
                                        })()),
                                        a))
                                    a.hasOwnProperty(i) &&
                                    (!c &&
                                        !--h &&
                                        (d(l) ?
                                            (l = function() {
                                                var a = [].slice.call(arguments);
                                                m.apply(this, a), n();
                                            }) :
                                            (l[i] = (function(a) {
                                                return function() {
                                                    var b = [].slice.call(arguments);
                                                    a && a.apply(this, b), n();
                                                };
                                            })(m[i]))),
                                        g(a[i], l, b, i, j));
                        } else !c && n();
                    }
                    var h,
                        i,
                        j = !!a.test,
                        k = a.load || a.both,
                        l = a.callback || f,
                        m = l,
                        n = a.complete || f;
                    c(j ? a.yep : a.nope, !!k), k && c(k);
                }
                var i,
                    j,
                    l = this.yepnope.loader;
                if (e(a)) g(a, 0, l, 0);
                else if (y(a))
                    for (i = 0; i < a.length; i++)
                        (j = a[i]),
                        e(j) ? g(j, 0, l, 0) : y(j) ? m(j) : Object(j) === j && h(j, l);
                else Object(a) === a && h(a, l);
            }),
            (m.addPrefix = function(a, b) {
                B[a] = b;
            }),
            (m.addFilter = function(a) {
                z.push(a);
            }),
            (m.errorTimeout = 1e4),
            null == b.readyState &&
                b.addEventListener &&
                ((b.readyState = "loading"),
                    b.addEventListener(
                        "DOMContentLoaded",
                        (l = function() {
                            b.removeEventListener("DOMContentLoaded", l, 0),
                                (b.readyState = "complete");
                        }),
                        0
                    )),
                (a.yepnope = k()),
                (a.yepnope.executeStack = h),
                (a.yepnope.injectJs = function(a, c, d, e, i, j) {
                    var k,
                        l,
                        n = b.createElement("script"),
                        e = e || m.errorTimeout;
                    n.src = a;
                    for (l in d) n.setAttribute(l, d[l]);
                    (c = j ? h : c || f),
                    (n.onreadystatechange = n.onload = function() {
                        !k &&
                            g(n.readyState) &&
                            ((k = 1), c(), (n.onload = n.onreadystatechange = null));
                    }),
                    o(function() {
                            k || ((k = 1), c(1));
                        }, e),
                        i ? n.onload() : p.parentNode.insertBefore(n, p);
                }),
                (a.yepnope.injectCss = function(a, c, d, e, g, i) {
                    var j,
                        e = b.createElement("link"),
                        c = i ? h : c || f;
                    (e.href = a), (e.rel = "stylesheet"), (e.type = "text/css");
                    for (j in d) e.setAttribute(j, d[j]);
                    g || (p.parentNode.insertBefore(e, p), o(c, 0));
                });
        })(this, document),
        (Modernizr.load = function() {
            yepnope.apply(window, [].slice.call(arguments, 0));
        }), !(function(a, b) {
            "object" == typeof module && "object" == typeof module.exports ?
                (module.exports = a.document ?
                    b(a, !0) :
                    function(a) {
                        if (!a.document)
                            throw new Error("jQuery requires a window with a document");
                        return b(a);
                    }) :
                b(a);
        })("undefined" != typeof window ? window : this, function(a, b) {
            function c(a) {
                var b = "length" in a && a.length,
                    c = _.type(a);
                return "function" === c || _.isWindow(a) ?
                    !1 :
                    1 === a.nodeType && b ?
                    !0 :
                    "array" === c ||
                    0 === b ||
                    ("number" == typeof b && b > 0 && b - 1 in a);
            }

            function d(a, b, c) {
                if (_.isFunction(b))
                    return _.grep(a, function(a, d) {
                        return !!b.call(a, d, a) !== c;
                    });
                if (b.nodeType)
                    return _.grep(a, function(a) {
                        return (a === b) !== c;
                    });
                if ("string" == typeof b) {
                    if (ha.test(b)) return _.filter(b, a, c);
                    b = _.filter(b, a);
                }
                return _.grep(a, function(a) {
                    return U.call(b, a) >= 0 !== c;
                });
            }

            function e(a, b) {
                for (;
                    (a = a[b]) && 1 !== a.nodeType;);
                return a;
            }

            function f(a) {
                var b = (oa[a] = {});
                return (
                    _.each(a.match(na) || [], function(a, c) {
                        b[c] = !0;
                    }),
                    b
                );
            }

            function g() {
                Z.removeEventListener("DOMContentLoaded", g, !1),
                    a.removeEventListener("load", g, !1),
                    _.ready();
            }

            function h() {
                Object.defineProperty((this.cache = {}), 0, {
                        get: function() {
                            return {};
                        }
                    }),
                    (this.expando = _.expando + h.uid++);
            }

            function i(a, b, c) {
                var d;
                if (void 0 === c && 1 === a.nodeType)
                    if (
                        ((d = "data-" + b.replace(ua, "-$1").toLowerCase()),
                            (c = a.getAttribute(d)),
                            "string" == typeof c)
                    ) {
                        try {
                            c =
                                "true" === c ?
                                !0 :
                                "false" === c ?
                                !1 :
                                "null" === c ?
                                null :
                                +c + "" === c ?
                                +c :
                                ta.test(c) ?
                                _.parseJSON(c) :
                                c;
                        } catch (e) {}
                        sa.set(a, b, c);
                    } else c = void 0;
                return c;
            }

            function j() {
                return !0;
            }

            function k() {
                return !1;
            }

            function l() {
                try {
                    return Z.activeElement;
                } catch (a) {}
            }

            function m(a, b) {
                return _.nodeName(a, "table") &&
                    _.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ?
                    a.getElementsByTagName("tbody")[0] ||
                    a.appendChild(a.ownerDocument.createElement("tbody")) :
                    a;
            }

            function n(a) {
                return (a.type = (null !== a.getAttribute("type")) + "/" + a.type), a;
            }

            function o(a) {
                var b = Ka.exec(a.type);
                return b ? (a.type = b[1]) : a.removeAttribute("type"), a;
            }

            function p(a, b) {
                for (var c = 0, d = a.length; d > c; c++)
                    ra.set(a[c], "globalEval", !b || ra.get(b[c], "globalEval"));
            }

            function q(a, b) {
                var c, d, e, f, g, h, i, j;
                if (1 === b.nodeType) {
                    if (
                        ra.hasData(a) &&
                        ((f = ra.access(a)), (g = ra.set(b, f)), (j = f.events))
                    ) {
                        delete g.handle, (g.events = {});
                        for (e in j)
                            for (c = 0, d = j[e].length; d > c; c++) _.event.add(b, e, j[e][c]);
                    }
                    sa.hasData(a) &&
                        ((h = sa.access(a)), (i = _.extend({}, h)), sa.set(b, i));
                }
            }

            function r(a, b) {
                var c = a.getElementsByTagName ?
                    a.getElementsByTagName(b || "*") :
                    a.querySelectorAll ?
                    a.querySelectorAll(b || "*") : [];
                return void 0 === b || (b && _.nodeName(a, b)) ? _.merge([a], c) : c;
            }

            function s(a, b) {
                var c = b.nodeName.toLowerCase();
                "input" === c && ya.test(a.type) ?
                    (b.checked = a.checked) :
                    ("input" === c || "textarea" === c) &&
                    (b.defaultValue = a.defaultValue);
            }

            function t(b, c) {
                var d,
                    e = _(c.createElement(b)).appendTo(c.body),
                    f =
                    a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ?
                    d.display :
                    _.css(e[0], "display");
                return e.detach(), f;
            }

            function u(a) {
                var b = Z,
                    c = Oa[a];
                return (
                    c ||
                    ((c = t(a, b)),
                        ("none" !== c && c) ||
                        ((Na = (
                                Na || _("<iframe frameborder='0' width='0' height='0'/>")
                            ).appendTo(b.documentElement)),
                            (b = Na[0].contentDocument),
                            b.write(),
                            b.close(),
                            (c = t(a, b)),
                            Na.detach()),
                        (Oa[a] = c)),
                    c
                );
            }

            function v(a, b, c) {
                var d,
                    e,
                    f,
                    g,
                    h = a.style;
                return (
                    (c = c || Ra(a)),
                    c && (g = c.getPropertyValue(b) || c[b]),
                    c &&
                    ("" !== g || _.contains(a.ownerDocument, a) || (g = _.style(a, b)),
                        Qa.test(g) &&
                        Pa.test(b) &&
                        ((d = h.width),
                            (e = h.minWidth),
                            (f = h.maxWidth),
                            (h.minWidth = h.maxWidth = h.width = g),
                            (g = c.width),
                            (h.width = d),
                            (h.minWidth = e),
                            (h.maxWidth = f))),
                    void 0 !== g ? g + "" : g
                );
            }

            function w(a, b) {
                return {
                    get: function() {
                        return a() ?
                            void delete this.get :
                            (this.get = b).apply(this, arguments);
                    }
                };
            }

            function x(a, b) {
                if (b in a) return b;
                for (var c = b[0].toUpperCase() + b.slice(1), d = b, e = Xa.length; e--;)
                    if (((b = Xa[e] + c), b in a)) return b;
                return d;
            }

            function y(a, b, c) {
                var d = Ta.exec(b);
                return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b;
            }

            function z(a, b, c, d, e) {
                for (
                    var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0,
                        g = 0; 4 > f; f += 2
                )
                    "margin" === c && (g += _.css(a, c + wa[f], !0, e)),
                    d ?
                    ("content" === c && (g -= _.css(a, "padding" + wa[f], !0, e)),
                        "margin" !== c &&
                        (g -= _.css(a, "border" + wa[f] + "Width", !0, e))) :
                    ((g += _.css(a, "padding" + wa[f], !0, e)),
                        "padding" !== c &&
                        (g += _.css(a, "border" + wa[f] + "Width", !0, e)));
                return g;
            }

            function A(a, b, c) {
                var d = !0,
                    e = "width" === b ? a.offsetWidth : a.offsetHeight,
                    f = Ra(a),
                    g = "border-box" === _.css(a, "boxSizing", !1, f);
                if (0 >= e || null == e) {
                    if (
                        ((e = v(a, b, f)),
                            (0 > e || null == e) && (e = a.style[b]),
                            Qa.test(e))
                    )
                        return e;
                    (d = g && (Y.boxSizingReliable() || e === a.style[b])),
                    (e = parseFloat(e) || 0);
                }
                return e + z(a, b, c || (g ? "border" : "content"), d, f) + "px";
            }

            function B(a, b) {
                for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)
                    (d = a[g]),
                    d.style &&
                    ((f[g] = ra.get(d, "olddisplay")),
                        (c = d.style.display),
                        b ?
                        (f[g] || "none" !== c || (d.style.display = ""),
                            "" === d.style.display &&
                            xa(d) &&
                            (f[g] = ra.access(d, "olddisplay", u(d.nodeName)))) :
                        ((e = xa(d)),
                            ("none" === c && e) ||
                            ra.set(d, "olddisplay", e ? c : _.css(d, "display"))));
                for (g = 0; h > g; g++)
                    (d = a[g]),
                    d.style &&
                    ((b && "none" !== d.style.display && "" !== d.style.display) ||
                        (d.style.display = b ? f[g] || "" : "none"));
                return a;
            }

            function C(a, b, c, d, e) {
                return new C.prototype.init(a, b, c, d, e);
            }

            function D() {
                return (
                    setTimeout(function() {
                        Ya = void 0;
                    }),
                    (Ya = _.now())
                );
            }

            function E(a, b) {
                var c,
                    d = 0,
                    e = { height: a };
                for (b = b ? 1 : 0; 4 > d; d += 2 - b)
                    (c = wa[d]), (e["margin" + c] = e["padding" + c] = a);
                return b && (e.opacity = e.width = a), e;
            }

            function F(a, b, c) {
                for (
                    var d, e = (cb[b] || []).concat(cb["*"]), f = 0, g = e.length; g > f; f++
                )
                    if ((d = e[f].call(c, b, a))) return d;
            }

            function G(a, b, c) {
                var d,
                    e,
                    f,
                    g,
                    h,
                    i,
                    j,
                    k,
                    l = this,
                    m = {},
                    n = a.style,
                    o = a.nodeType && xa(a),
                    p = ra.get(a, "fxshow");
                c.queue ||
                    ((h = _._queueHooks(a, "fx")),
                        null == h.unqueued &&
                        ((h.unqueued = 0),
                            (i = h.empty.fire),
                            (h.empty.fire = function() {
                                h.unqueued || i();
                            })),
                        h.unqueued++,
                        l.always(function() {
                            l.always(function() {
                                h.unqueued--, _.queue(a, "fx").length || h.empty.fire();
                            });
                        })),
                    1 === a.nodeType &&
                    ("height" in b || "width" in b) &&
                    ((c.overflow = [n.overflow, n.overflowX, n.overflowY]),
                        (j = _.css(a, "display")),
                        (k = "none" === j ? ra.get(a, "olddisplay") || u(a.nodeName) : j),
                        "inline" === k &&
                        "none" === _.css(a, "float") &&
                        (n.display = "inline-block")),
                    c.overflow &&
                    ((n.overflow = "hidden"),
                        l.always(function() {
                            (n.overflow = c.overflow[0]),
                            (n.overflowX = c.overflow[1]),
                            (n.overflowY = c.overflow[2]);
                        }));
                for (d in b)
                    if (((e = b[d]), $a.exec(e))) {
                        if (
                            (delete b[d],
                                (f = f || "toggle" === e),
                                e === (o ? "hide" : "show"))
                        ) {
                            if ("show" !== e || !p || void 0 === p[d]) continue;
                            o = !0;
                        }
                        m[d] = (p && p[d]) || _.style(a, d);
                    } else j = void 0;
                if (_.isEmptyObject(m))
                    "inline" === ("none" === j ? u(a.nodeName) : j) && (n.display = j);
                else {
                    p ? "hidden" in p && (o = p.hidden) : (p = ra.access(a, "fxshow", {})),
                        f && (p.hidden = !o),
                        o ?
                        _(a).show() :
                        l.done(function() {
                            _(a).hide();
                        }),
                        l.done(function() {
                            var b;
                            ra.remove(a, "fxshow");
                            for (b in m) _.style(a, b, m[b]);
                        });
                    for (d in m)
                        (g = F(o ? p[d] : 0, d, l)),
                        d in p ||
                        ((p[d] = g.start),
                            o &&
                            ((g.end = g.start),
                                (g.start = "width" === d || "height" === d ? 1 : 0)));
                }
            }

            function H(a, b) {
                var c, d, e, f, g;
                for (c in a)
                    if (
                        ((d = _.camelCase(c)),
                            (e = b[d]),
                            (f = a[c]),
                            _.isArray(f) && ((e = f[1]), (f = a[c] = f[0])),
                            c !== d && ((a[d] = f), delete a[c]),
                            (g = _.cssHooks[d]),
                            g && "expand" in g)
                    ) {
                        (f = g.expand(f)), delete a[d];
                        for (c in f) c in a || ((a[c] = f[c]), (b[c] = e));
                    } else b[d] = e;
            }

            function I(a, b, c) {
                var d,
                    e,
                    f = 0,
                    g = bb.length,
                    h = _.Deferred().always(function() {
                        delete i.elem;
                    }),
                    i = function() {
                        if (e) return !1;
                        for (
                            var b = Ya || D(),
                                c = Math.max(0, j.startTime + j.duration - b),
                                d = c / j.duration || 0,
                                f = 1 - d,
                                g = 0,
                                i = j.tweens.length; i > g; g++
                        )
                            j.tweens[g].run(f);
                        return (
                            h.notifyWith(a, [j, f, c]),
                            1 > f && i ? c : (h.resolveWith(a, [j]), !1)
                        );
                    },
                    j = h.promise({
                        elem: a,
                        props: _.extend({}, b),
                        opts: _.extend(!0, { specialEasing: {} }, c),
                        originalProperties: b,
                        originalOptions: c,
                        startTime: Ya || D(),
                        duration: c.duration,
                        tweens: [],
                        createTween: function(b, c) {
                            var d = _.Tween(
                                a,
                                j.opts,
                                b,
                                c,
                                j.opts.specialEasing[b] || j.opts.easing
                            );
                            return j.tweens.push(d), d;
                        },
                        stop: function(b) {
                            var c = 0,
                                d = b ? j.tweens.length : 0;
                            if (e) return this;
                            for (e = !0; d > c; c++) j.tweens[c].run(1);
                            return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this;
                        }
                    }),
                    k = j.props;
                for (H(k, j.opts.specialEasing); g > f; f++)
                    if ((d = bb[f].call(j, a, k, j.opts))) return d;
                return (
                    _.map(k, F, j),
                    _.isFunction(j.opts.start) && j.opts.start.call(a, j),
                    _.fx.timer(_.extend(i, { elem: a, anim: j, queue: j.opts.queue })),
                    j
                    .progress(j.opts.progress)
                    .done(j.opts.done, j.opts.complete)
                    .fail(j.opts.fail)
                    .always(j.opts.always)
                );
            }

            function J(a) {
                return function(b, c) {
                    "string" != typeof b && ((c = b), (b = "*"));
                    var d,
                        e = 0,
                        f = b.toLowerCase().match(na) || [];
                    if (_.isFunction(c))
                        for (;
                            (d = f[e++]);)
                            "+" === d[0] ?
                            ((d = d.slice(1) || "*"), (a[d] = a[d] || []).unshift(c)) :
                            (a[d] = a[d] || []).push(c);
                };
            }

            function K(a, b, c, d) {
                function e(h) {
                    var i;
                    return (
                        (f[h] = !0),
                        _.each(a[h] || [], function(a, h) {
                            var j = h(b, c, d);
                            return "string" != typeof j || g || f[j] ?
                                g ?
                                !(i = j) :
                                void 0 :
                                (b.dataTypes.unshift(j), e(j), !1);
                        }),
                        i
                    );
                }
                var f = {},
                    g = a === tb;
                return e(b.dataTypes[0]) || (!f["*"] && e("*"));
            }

            function L(a, b) {
                var c,
                    d,
                    e = _.ajaxSettings.flatOptions || {};
                for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
                return d && _.extend(!0, a, d), a;
            }

            function M(a, b, c) {
                for (var d, e, f, g, h = a.contents, i = a.dataTypes;
                    "*" === i[0];)
                    i.shift(),
                    void 0 === d &&
                    (d = a.mimeType || b.getResponseHeader("Content-Type"));
                if (d)
                    for (e in h)
                        if (h[e] && h[e].test(d)) {
                            i.unshift(e);
                            break;
                        }
                if (i[0] in c) f = i[0];
                else {
                    for (e in c) {
                        if (!i[0] || a.converters[e + " " + i[0]]) {
                            f = e;
                            break;
                        }
                        g || (g = e);
                    }
                    f = f || g;
                }
                return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0;
            }

            function N(a, b, c, d) {
                var e,
                    f,
                    g,
                    h,
                    i,
                    j = {},
                    k = a.dataTypes.slice();
                if (k[1])
                    for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
                for (f = k.shift(); f;)
                    if (
                        (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)),
                            (i = f),
                            (f = k.shift()))
                    )
                        if ("*" === f) f = i;
                        else if ("*" !== i && i !== f) {
                    if (((g = j[i + " " + f] || j["* " + f]), !g))
                        for (e in j)
                            if (
                                ((h = e.split(" ")),
                                    h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]]))
                            ) {
                                g === !0 ?
                                    (g = j[e]) :
                                    j[e] !== !0 && ((f = h[0]), k.unshift(h[1]));
                                break;
                            }
                    if (g !== !0)
                        if (g && a["throws"]) b = g(b);
                        else
                            try {
                                b = g(b);
                            } catch (l) {
                                return {
                                    state: "parsererror",
                                    error: g ? l : "No conversion from " + i + " to " + f
                                };
                            }
                }
                return { state: "success", data: b };
            }

            function O(a, b, c, d) {
                var e;
                if (_.isArray(b))
                    _.each(b, function(b, e) {
                        c || yb.test(a) ?
                            d(a, e) :
                            O(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d);
                    });
                else if (c || "object" !== _.type(b)) d(a, b);
                else
                    for (e in b) O(a + "[" + e + "]", b[e], c, d);
            }

            function P(a) {
                return _.isWindow(a) ? a : 9 === a.nodeType && a.defaultView;
            }
            var Q = [],
                R = Q.slice,
                S = Q.concat,
                T = Q.push,
                U = Q.indexOf,
                V = {},
                W = V.toString,
                X = V.hasOwnProperty,
                Y = {},
                Z = a.document,
                $ = "2.1.4",
                _ = function(a, b) {
                    return new _.fn.init(a, b);
                },
                aa = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
                ba = /^-ms-/,
                ca = /-([\da-z])/gi,
                da = function(a, b) {
                    return b.toUpperCase();
                };
            (_.fn = _.prototype = {
                jquery: $,
                constructor: _,
                selector: "",
                length: 0,
                toArray: function() {
                    return R.call(this);
                },
                get: function(a) {
                    return null != a ?
                        0 > a ?
                        this[a + this.length] :
                        this[a] :
                        R.call(this);
                },
                pushStack: function(a) {
                    var b = _.merge(this.constructor(), a);
                    return (b.prevObject = this), (b.context = this.context), b;
                },
                each: function(a, b) {
                    return _.each(this, a, b);
                },
                map: function(a) {
                    return this.pushStack(
                        _.map(this, function(b, c) {
                            return a.call(b, c, b);
                        })
                    );
                },
                slice: function() {
                    return this.pushStack(R.apply(this, arguments));
                },
                first: function() {
                    return this.eq(0);
                },
                last: function() {
                    return this.eq(-1);
                },
                eq: function(a) {
                    var b = this.length,
                        c = +a + (0 > a ? b : 0);
                    return this.pushStack(c >= 0 && b > c ? [this[c]] : []);
                },
                end: function() {
                    return this.prevObject || this.constructor(null);
                },
                push: T,
                sort: Q.sort,
                splice: Q.splice
            }),
            (_.extend = _.fn.extend = function() {
                var a,
                    b,
                    c,
                    d,
                    e,
                    f,
                    g = arguments[0] || {},
                    h = 1,
                    i = arguments.length,
                    j = !1;
                for (
                    "boolean" == typeof g && ((j = g), (g = arguments[h] || {}), h++),
                    "object" == typeof g || _.isFunction(g) || (g = {}),
                    h === i && ((g = this), h--); i > h; h++
                )
                    if (null != (a = arguments[h]))
                        for (b in a)
                            (c = g[b]),
                            (d = a[b]),
                            g !== d &&
                            (j && d && (_.isPlainObject(d) || (e = _.isArray(d))) ?
                                (e ?
                                    ((e = !1), (f = c && _.isArray(c) ? c : [])) :
                                    (f = c && _.isPlainObject(c) ? c : {}),
                                    (g[b] = _.extend(j, f, d))) :
                                void 0 !== d && (g[b] = d));
                return g;
            }),
            _.extend({
                    expando: "jQuery" + ($ + Math.random()).replace(/\D/g, ""),
                    isReady: !0,
                    error: function(a) {
                        throw new Error(a);
                    },
                    noop: function() {},
                    isFunction: function(a) {
                        return "function" === _.type(a);
                    },
                    isArray: Array.isArray,
                    isWindow: function(a) {
                        return null != a && a === a.window;
                    },
                    isNumeric: function(a) {
                        return !_.isArray(a) && a - parseFloat(a) + 1 >= 0;
                    },
                    isPlainObject: function(a) {
                        return "object" !== _.type(a) || a.nodeType || _.isWindow(a) ?
                            !1 :
                            !a.constructor ||
                            X.call(a.constructor.prototype, "isPrototypeOf");
                    },
                    isEmptyObject: function(a) {
                        var b;
                        for (b in a) return !1;
                        return !0;
                    },
                    type: function(a) {
                        return null == a ?
                            a + "" :
                            "object" == typeof a || "function" == typeof a ?
                            V[W.call(a)] || "object" :
                            typeof a;
                    },
                    globalEval: function(a) {
                        var b,
                            c = eval;
                        (a = _.trim(a)),
                        a &&
                            (1 === a.indexOf("use strict") ?
                                ((b = Z.createElement("script")),
                                    (b.text = a),
                                    Z.head.appendChild(b).parentNode.removeChild(b)) :
                                c(a));
                    },
                    camelCase: function(a) {
                        return a.replace(ba, "ms-").replace(ca, da);
                    },
                    nodeName: function(a, b) {
                        return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase();
                    },
                    each: function(a, b, d) {
                        var e,
                            f = 0,
                            g = a.length,
                            h = c(a);
                        if (d) {
                            if (h)
                                for (; g > f && ((e = b.apply(a[f], d)), e !== !1); f++);
                            else
                                for (f in a)
                                    if (((e = b.apply(a[f], d)), e === !1)) break;
                        } else if (h)
                            for (; g > f && ((e = b.call(a[f], f, a[f])), e !== !1); f++);
                        else
                            for (f in a)
                                if (((e = b.call(a[f], f, a[f])), e === !1)) break;
                        return a;
                    },
                    trim: function(a) {
                        return null == a ? "" : (a + "").replace(aa, "");
                    },
                    makeArray: function(a, b) {
                        var d = b || [];
                        return (
                            null != a &&
                            (c(Object(a)) ?
                                _.merge(d, "string" == typeof a ? [a] : a) :
                                T.call(d, a)),
                            d
                        );
                    },
                    inArray: function(a, b, c) {
                        return null == b ? -1 : U.call(b, a, c);
                    },
                    merge: function(a, b) {
                        for (var c = +b.length, d = 0, e = a.length; c > d; d++)
                            a[e++] = b[d];
                        return (a.length = e), a;
                    },
                    grep: function(a, b, c) {
                        for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)
                            (d = !b(a[f], f)), d !== h && e.push(a[f]);
                        return e;
                    },
                    map: function(a, b, d) {
                        var e,
                            f = 0,
                            g = a.length,
                            h = c(a),
                            i = [];
                        if (h)
                            for (; g > f; f++)(e = b(a[f], f, d)), null != e && i.push(e);
                        else
                            for (f in a)(e = b(a[f], f, d)), null != e && i.push(e);
                        return S.apply([], i);
                    },
                    guid: 1,
                    proxy: function(a, b) {
                        var c, d, e;
                        return (
                            "string" == typeof b && ((c = a[b]), (b = a), (a = c)),
                            _.isFunction(a) ?
                            ((d = R.call(arguments, 2)),
                                (e = function() {
                                    return a.apply(b || this, d.concat(R.call(arguments)));
                                }),
                                (e.guid = a.guid = a.guid || _.guid++),
                                e) :
                            void 0
                        );
                    },
                    now: Date.now,
                    support: Y
                }),
                _.each(
                    "Boolean Number String Function Array Date RegExp Object Error".split(
                        " "
                    ),
                    function(a, b) {
                        V["[object " + b + "]"] = b.toLowerCase();
                    }
                );
            var ea = (function(a) {
                function b(a, b, c, d) {
                    var e, f, g, h, i, j, l, n, o, p;
                    if (
                        ((b ? b.ownerDocument || b : O) !== G && F(b),
                            (b = b || G),
                            (c = c || []),
                            (h = b.nodeType),
                            "string" != typeof a || !a || (1 !== h && 9 !== h && 11 !== h))
                    )
                        return c;
                    if (!d && I) {
                        if (11 !== h && (e = sa.exec(a)))
                            if ((g = e[1])) {
                                if (9 === h) {
                                    if (((f = b.getElementById(g)), !f || !f.parentNode)) return c;
                                    if (f.id === g) return c.push(f), c;
                                } else if (
                                    b.ownerDocument &&
                                    (f = b.ownerDocument.getElementById(g)) &&
                                    M(b, f) &&
                                    f.id === g
                                )
                                    return c.push(f), c;
                            } else {
                                if (e[2]) return $.apply(c, b.getElementsByTagName(a)), c;
                                if ((g = e[3]) && v.getElementsByClassName)
                                    return $.apply(c, b.getElementsByClassName(g)), c;
                            }
                        if (v.qsa && (!J || !J.test(a))) {
                            if (
                                ((n = l = N),
                                    (o = b),
                                    (p = 1 !== h && a),
                                    1 === h && "object" !== b.nodeName.toLowerCase())
                            ) {
                                for (
                                    j = z(a),
                                    (l = b.getAttribute("id")) ?
                                    (n = l.replace(ua, "\\$&")) :
                                    b.setAttribute("id", n),
                                    n = "[id='" + n + "'] ",
                                    i = j.length; i--;

                                )
                                    j[i] = n + m(j[i]);
                                (o = (ta.test(a) && k(b.parentNode)) || b), (p = j.join(","));
                            }
                            if (p)
                                try {
                                    return $.apply(c, o.querySelectorAll(p)), c;
                                } catch (q) {} finally {
                                    l || b.removeAttribute("id");
                                }
                        }
                    }
                    return B(a.replace(ia, "$1"), b, c, d);
                }

                function c() {
                    function a(c, d) {
                        return (
                            b.push(c + " ") > w.cacheLength && delete a[b.shift()],
                            (a[c + " "] = d)
                        );
                    }
                    var b = [];
                    return a;
                }

                function d(a) {
                    return (a[N] = !0), a;
                }

                function e(a) {
                    var b = G.createElement("div");
                    try {
                        return !!a(b);
                    } catch (c) {
                        return !1;
                    } finally {
                        b.parentNode && b.parentNode.removeChild(b), (b = null);
                    }
                }

                function f(a, b) {
                    for (var c = a.split("|"), d = a.length; d--;) w.attrHandle[c[d]] = b;
                }

                function g(a, b) {
                    var c = b && a,
                        d =
                        c &&
                        1 === a.nodeType &&
                        1 === b.nodeType &&
                        (~b.sourceIndex || V) - (~a.sourceIndex || V);
                    if (d) return d;
                    if (c)
                        for (;
                            (c = c.nextSibling);)
                            if (c === b) return -1;
                    return a ? 1 : -1;
                }

                function h(a) {
                    return function(b) {
                        var c = b.nodeName.toLowerCase();
                        return "input" === c && b.type === a;
                    };
                }

                function i(a) {
                    return function(b) {
                        var c = b.nodeName.toLowerCase();
                        return ("input" === c || "button" === c) && b.type === a;
                    };
                }

                function j(a) {
                    return d(function(b) {
                        return (
                            (b = +b),
                            d(function(c, d) {
                                for (var e, f = a([], c.length, b), g = f.length; g--;)
                                    c[(e = f[g])] && (c[e] = !(d[e] = c[e]));
                            })
                        );
                    });
                }

                function k(a) {
                    return a && "undefined" != typeof a.getElementsByTagName && a;
                }

                function l() {}

                function m(a) {
                    for (var b = 0, c = a.length, d = ""; c > b; b++) d += a[b].value;
                    return d;
                }

                function n(a, b, c) {
                    var d = b.dir,
                        e = c && "parentNode" === d,
                        f = Q++;
                    return b.first ?

                        function(b, c, f) {
                            for (;
                                (b = b[d]);)
                                if (1 === b.nodeType || e) return a(b, c, f);
                        } :
                        function(b, c, g) {
                            var h,
                                i,
                                j = [P, f];
                            if (g) {
                                for (;
                                    (b = b[d]);)
                                    if ((1 === b.nodeType || e) && a(b, c, g)) return !0;
                            } else
                                for (;
                                    (b = b[d]);)
                                    if (1 === b.nodeType || e) {
                                        if (
                                            ((i = b[N] || (b[N] = {})),
                                                (h = i[d]) && h[0] === P && h[1] === f)
                                        )
                                            return (j[2] = h[2]);
                                        if (((i[d] = j), (j[2] = a(b, c, g)))) return !0;
                                    }
                        };
                }

                function o(a) {
                    return a.length > 1 ?

                        function(b, c, d) {
                            for (var e = a.length; e--;)
                                if (!a[e](b, c, d)) return !1;
                            return !0;
                        } :
                        a[0];
                }

                function p(a, c, d) {
                    for (var e = 0, f = c.length; f > e; e++) b(a, c[e], d);
                    return d;
                }

                function q(a, b, c, d, e) {
                    for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)
                        (f = a[h]) && (!c || c(f, d, e)) && (g.push(f), j && b.push(h));
                    return g;
                }

                function r(a, b, c, e, f, g) {
                    return (
                        e && !e[N] && (e = r(e)),
                        f && !f[N] && (f = r(f, g)),
                        d(function(d, g, h, i) {
                            var j,
                                k,
                                l,
                                m = [],
                                n = [],
                                o = g.length,
                                r = d || p(b || "*", h.nodeType ? [h] : h, []),
                                s = !a || (!d && b) ? r : q(r, m, a, h, i),
                                t = c ? (f || (d ? a : o || e) ? [] : g) : s;
                            if ((c && c(s, t, h, i), e))
                                for (j = q(t, n), e(j, [], h, i), k = j.length; k--;)
                                    (l = j[k]) && (t[n[k]] = !(s[n[k]] = l));
                            if (d) {
                                if (f || a) {
                                    if (f) {
                                        for (j = [], k = t.length; k--;)
                                            (l = t[k]) && j.push((s[k] = l));
                                        f(null, (t = []), j, i);
                                    }
                                    for (k = t.length; k--;)
                                        (l = t[k]) &&
                                        (j = f ? aa(d, l) : m[k]) > -1 &&
                                        (d[j] = !(g[j] = l));
                                }
                            } else(t = q(t === g ? t.splice(o, t.length) : t)), f ? f(null, g, t, i) : $.apply(g, t);
                        })
                    );
                }

                function s(a) {
                    for (
                        var b,
                            c,
                            d,
                            e = a.length,
                            f = w.relative[a[0].type],
                            g = f || w.relative[" "],
                            h = f ? 1 : 0,
                            i = n(
                                function(a) {
                                    return a === b;
                                },
                                g, !0
                            ),
                            j = n(
                                function(a) {
                                    return aa(b, a) > -1;
                                },
                                g, !0
                            ),
                            k = [
                                function(a, c, d) {
                                    var e =
                                        (!f && (d || c !== C)) ||
                                        ((b = c).nodeType ? i(a, c, d) : j(a, c, d));
                                    return (b = null), e;
                                }
                            ]; e > h; h++
                    )
                        if ((c = w.relative[a[h].type])) k = [n(o(k), c)];
                        else {
                            if (((c = w.filter[a[h].type].apply(null, a[h].matches)), c[N])) {
                                for (d = ++h; e > d && !w.relative[a[d].type]; d++);
                                return r(
                                    h > 1 && o(k),
                                    h > 1 &&
                                    m(
                                        a
                                        .slice(0, h - 1)
                                        .concat({ value: " " === a[h - 2].type ? "*" : "" })
                                    ).replace(ia, "$1"),
                                    c,
                                    d > h && s(a.slice(h, d)),
                                    e > d && s((a = a.slice(d))),
                                    e > d && m(a)
                                );
                            }
                            k.push(c);
                        }
                    return o(k);
                }

                function t(a, c) {
                    var e = c.length > 0,
                        f = a.length > 0,
                        g = function(d, g, h, i, j) {
                            var k,
                                l,
                                m,
                                n = 0,
                                o = "0",
                                p = d && [],
                                r = [],
                                s = C,
                                t = d || (f && w.find.TAG("*", j)),
                                u = (P += null == s ? 1 : Math.random() || 0.1),
                                v = t.length;
                            for (j && (C = g !== G && g); o !== v && null != (k = t[o]); o++) {
                                if (f && k) {
                                    for (l = 0;
                                        (m = a[l++]);)
                                        if (m(k, g, h)) {
                                            i.push(k);
                                            break;
                                        }
                                    j && (P = u);
                                }
                                e && ((k = !m && k) && n--, d && p.push(k));
                            }
                            if (((n += o), e && o !== n)) {
                                for (l = 0;
                                    (m = c[l++]);) m(p, r, g, h);
                                if (d) {
                                    if (n > 0)
                                        for (; o--;) p[o] || r[o] || (r[o] = Y.call(i));
                                    r = q(r);
                                }
                                $.apply(i, r),
                                    j && !d && r.length > 0 && n + c.length > 1 && b.uniqueSort(i);
                            }
                            return j && ((P = u), (C = s)), p;
                        };
                    return e ? d(g) : g;
                }
                var u,
                    v,
                    w,
                    x,
                    y,
                    z,
                    A,
                    B,
                    C,
                    D,
                    E,
                    F,
                    G,
                    H,
                    I,
                    J,
                    K,
                    L,
                    M,
                    N = "sizzle" + 1 * new Date(),
                    O = a.document,
                    P = 0,
                    Q = 0,
                    R = c(),
                    S = c(),
                    T = c(),
                    U = function(a, b) {
                        return a === b && (E = !0), 0;
                    },
                    V = 1 << 31,
                    W = {}.hasOwnProperty,
                    X = [],
                    Y = X.pop,
                    Z = X.push,
                    $ = X.push,
                    _ = X.slice,
                    aa = function(a, b) {
                        for (var c = 0, d = a.length; d > c; c++)
                            if (a[c] === b) return c;
                        return -1;
                    },
                    ba =
                    "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                    ca = "[\\x20\\t\\r\\n\\f]",
                    da = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                    ea = da.replace("w", "w#"),
                    fa =
                    "\\[" +
                    ca +
                    "*(" +
                    da +
                    ")(?:" +
                    ca +
                    "*([*^$|!~]?=)" +
                    ca +
                    "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
                    ea +
                    "))|)" +
                    ca +
                    "*\\]",
                    ga =
                    ":(" +
                    da +
                    ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
                    fa +
                    ")*)|.*)\\)|)",
                    ha = new RegExp(ca + "+", "g"),
                    ia = new RegExp(
                        "^" + ca + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ca + "+$",
                        "g"
                    ),
                    ja = new RegExp("^" + ca + "*," + ca + "*"),
                    ka = new RegExp("^" + ca + "*([>+~]|" + ca + ")" + ca + "*"),
                    la = new RegExp("=" + ca + "*([^\\]'\"]*?)" + ca + "*\\]", "g"),
                    ma = new RegExp(ga),
                    na = new RegExp("^" + ea + "$"),
                    oa = {
                        ID: new RegExp("^#(" + da + ")"),
                        CLASS: new RegExp("^\\.(" + da + ")"),
                        TAG: new RegExp("^(" + da.replace("w", "w*") + ")"),
                        ATTR: new RegExp("^" + fa),
                        PSEUDO: new RegExp("^" + ga),
                        CHILD: new RegExp(
                            "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
                            ca +
                            "*(even|odd|(([+-]|)(\\d*)n|)" +
                            ca +
                            "*(?:([+-]|)" +
                            ca +
                            "*(\\d+)|))" +
                            ca +
                            "*\\)|)",
                            "i"
                        ),
                        bool: new RegExp("^(?:" + ba + ")$", "i"),
                        needsContext: new RegExp(
                            "^" +
                            ca +
                            "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                            ca +
                            "*((?:-\\d)?\\d*)" +
                            ca +
                            "*\\)|)(?=[^-]|$)",
                            "i"
                        )
                    },
                    pa = /^(?:input|select|textarea|button)$/i,
                    qa = /^h\d$/i,
                    ra = /^[^{]+\{\s*\[native \w/,
                    sa = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                    ta = /[+~]/,
                    ua = /'|\\/g,
                    va = new RegExp("\\\\([\\da-f]{1,6}" + ca + "?|(" + ca + ")|.)", "ig"),
                    wa = function(a, b, c) {
                        var d = "0x" + b - 65536;
                        return d !== d || c ?
                            b :
                            0 > d ?
                            String.fromCharCode(d + 65536) :
                            String.fromCharCode((d >> 10) | 55296, (1023 & d) | 56320);
                    },
                    xa = function() {
                        F();
                    };
                try {
                    $.apply((X = _.call(O.childNodes)), O.childNodes),
                        X[O.childNodes.length].nodeType;
                } catch (ya) {
                    $ = {
                        apply: X.length ?

                            function(a, b) {
                                Z.apply(a, _.call(b));
                            } : function(a, b) {
                                for (var c = a.length, d = 0;
                                    (a[c++] = b[d++]););
                                a.length = c - 1;
                            }
                    };
                }
                (v = b.support = {}),
                (y = b.isXML = function(a) {
                    var b = a && (a.ownerDocument || a).documentElement;
                    return b ? "HTML" !== b.nodeName : !1;
                }),
                (F = b.setDocument = function(a) {
                    var b,
                        c,
                        d = a ? a.ownerDocument || a : O;
                    return d !== G && 9 === d.nodeType && d.documentElement ?
                        ((G = d),
                            (H = d.documentElement),
                            (c = d.defaultView),
                            c &&
                            c !== c.top &&
                            (c.addEventListener ?
                                c.addEventListener("unload", xa, !1) :
                                c.attachEvent && c.attachEvent("onunload", xa)),
                            (I = !y(d)),
                            (v.attributes = e(function(a) {
                                return (a.className = "i"), !a.getAttribute("className");
                            })),
                            (v.getElementsByTagName = e(function(a) {
                                return (
                                    a.appendChild(d.createComment("")), !a.getElementsByTagName("*").length
                                );
                            })),
                            (v.getElementsByClassName = ra.test(d.getElementsByClassName)),
                            (v.getById = e(function(a) {
                                return (
                                    (H.appendChild(a).id = N), !d.getElementsByName || !d.getElementsByName(N).length
                                );
                            })),
                            v.getById ?
                            ((w.find.ID = function(a, b) {
                                    if ("undefined" != typeof b.getElementById && I) {
                                        var c = b.getElementById(a);
                                        return c && c.parentNode ? [c] : [];
                                    }
                                }),
                                (w.filter.ID = function(a) {
                                    var b = a.replace(va, wa);
                                    return function(a) {
                                        return a.getAttribute("id") === b;
                                    };
                                })) :
                            (delete w.find.ID,
                                (w.filter.ID = function(a) {
                                    var b = a.replace(va, wa);
                                    return function(a) {
                                        var c =
                                            "undefined" != typeof a.getAttributeNode &&
                                            a.getAttributeNode("id");
                                        return c && c.value === b;
                                    };
                                })),
                            (w.find.TAG = v.getElementsByTagName ?

                                function(a, b) {
                                    return "undefined" != typeof b.getElementsByTagName ?
                                        b.getElementsByTagName(a) :
                                        v.qsa ?
                                        b.querySelectorAll(a) :
                                        void 0;
                                } :
                                function(a, b) {
                                    var c,
                                        d = [],
                                        e = 0,
                                        f = b.getElementsByTagName(a);
                                    if ("*" === a) {
                                        for (;
                                            (c = f[e++]);) 1 === c.nodeType && d.push(c);
                                        return d;
                                    }
                                    return f;
                                }),
                            (w.find.CLASS =
                                v.getElementsByClassName &&
                                function(a, b) {
                                    return I ? b.getElementsByClassName(a) : void 0;
                                }),
                            (K = []),
                            (J = []),
                            (v.qsa = ra.test(d.querySelectorAll)) &&
                            (e(function(a) {
                                    (H.appendChild(a).innerHTML =
                                        "<a id='" +
                                        N +
                                        "'></a><select id='" +
                                        N +
                                        "-\f]' msallowcapture=''><option selected=''></option></select>"),
                                    a.querySelectorAll("[msallowcapture^='']").length &&
                                        J.push("[*^$]=" + ca + "*(?:''|\"\")"),
                                        a.querySelectorAll("[selected]").length ||
                                        J.push("\\[" + ca + "*(?:value|" + ba + ")"),
                                        a.querySelectorAll("[id~=" + N + "-]").length ||
                                        J.push("~="),
                                        a.querySelectorAll(":checked").length || J.push(":checked"),
                                        a.querySelectorAll("a#" + N + "+*").length ||
                                        J.push(".#.+[+~]");
                                }),
                                e(function(a) {
                                    var b = d.createElement("input");
                                    b.setAttribute("type", "hidden"),
                                        a.appendChild(b).setAttribute("name", "D"),
                                        a.querySelectorAll("[name=d]").length &&
                                        J.push("name" + ca + "*[*^$|!~]?="),
                                        a.querySelectorAll(":enabled").length ||
                                        J.push(":enabled", ":disabled"),
                                        a.querySelectorAll("*,:x"),
                                        J.push(",.*:");
                                })),
                            (v.matchesSelector = ra.test(
                                (L =
                                    H.matches ||
                                    H.webkitMatchesSelector ||
                                    H.mozMatchesSelector ||
                                    H.oMatchesSelector ||
                                    H.msMatchesSelector)
                            )) &&
                            e(function(a) {
                                (v.disconnectedMatch = L.call(a, "div")),
                                L.call(a, "[s!='']:x"),
                                    K.push("!=", ga);
                            }),
                            (J = J.length && new RegExp(J.join("|"))),
                            (K = K.length && new RegExp(K.join("|"))),
                            (b = ra.test(H.compareDocumentPosition)),
                            (M =
                                b || ra.test(H.contains) ?

                                function(a, b) {
                                    var c = 9 === a.nodeType ? a.documentElement : a,
                                        d = b && b.parentNode;
                                    return (
                                        a === d ||
                                        !(!d ||
                                            1 !== d.nodeType ||
                                            !(c.contains ?
                                                c.contains(d) :
                                                a.compareDocumentPosition &&
                                                16 & a.compareDocumentPosition(d))
                                        )
                                    );
                                } :
                                function(a, b) {
                                    if (b)
                                        for (;
                                            (b = b.parentNode);)
                                            if (b === a) return !0;
                                    return !1;
                                }),
                            (U = b ?

                                function(a, b) {
                                    if (a === b) return (E = !0), 0;
                                    var c = !a.compareDocumentPosition - !b.compareDocumentPosition;
                                    return c ?
                                        c :
                                        ((c =
                                                (a.ownerDocument || a) === (b.ownerDocument || b) ?
                                                a.compareDocumentPosition(b) :
                                                1),
                                            1 & c ||
                                            (!v.sortDetached && b.compareDocumentPosition(a) === c) ?
                                            a === d || (a.ownerDocument === O && M(O, a)) ?
                                            -1 :
                                            b === d || (b.ownerDocument === O && M(O, b)) ?
                                            1 :
                                            D ?
                                            aa(D, a) - aa(D, b) :
                                            0 :
                                            4 & c ?
                                            -1 :
                                            1);
                                } :
                                function(a, b) {
                                    if (a === b) return (E = !0), 0;
                                    var c,
                                        e = 0,
                                        f = a.parentNode,
                                        h = b.parentNode,
                                        i = [a],
                                        j = [b];
                                    if (!f || !h)
                                        return a === d ?
                                            -1 :
                                            b === d ?
                                            1 :
                                            f ?
                                            -1 :
                                            h ?
                                            1 :
                                            D ?
                                            aa(D, a) - aa(D, b) :
                                            0;
                                    if (f === h) return g(a, b);
                                    for (c = a;
                                        (c = c.parentNode);) i.unshift(c);
                                    for (c = b;
                                        (c = c.parentNode);) j.unshift(c);
                                    for (; i[e] === j[e];) e++;
                                    return e ?
                                        g(i[e], j[e]) :
                                        i[e] === O ?
                                        -1 :
                                        j[e] === O ?
                                        1 :
                                        0;
                                }),
                            d) :
                        G;
                }),
                (b.matches = function(a, c) {
                    return b(a, null, null, c);
                }),
                (b.matchesSelector = function(a, c) {
                    if (
                        ((a.ownerDocument || a) !== G && F(a),
                            (c = c.replace(la, "='$1']")), !(!v.matchesSelector || !I || (K && K.test(c)) || (J && J.test(c))))
                    )
                        try {
                            var d = L.call(a, c);
                            if (
                                d ||
                                v.disconnectedMatch ||
                                (a.document && 11 !== a.document.nodeType)
                            )
                                return d;
                        } catch (e) {}
                    return b(c, G, null, [a]).length > 0;
                }),
                (b.contains = function(a, b) {
                    return (a.ownerDocument || a) !== G && F(a), M(a, b);
                }),
                (b.attr = function(a, b) {
                    (a.ownerDocument || a) !== G && F(a);
                    var c = w.attrHandle[b.toLowerCase()],
                        d =
                        c && W.call(w.attrHandle, b.toLowerCase()) ? c(a, b, !I) : void 0;
                    return void 0 !== d ?
                        d :
                        v.attributes || !I ?
                        a.getAttribute(b) :
                        (d = a.getAttributeNode(b)) && d.specified ?
                        d.value :
                        null;
                }),
                (b.error = function(a) {
                    throw new Error("Syntax error, unrecognized expression: " + a);
                }),
                (b.uniqueSort = function(a) {
                    var b,
                        c = [],
                        d = 0,
                        e = 0;
                    if (
                        ((E = !v.detectDuplicates),
                            (D = !v.sortStable && a.slice(0)),
                            a.sort(U),
                            E)
                    ) {
                        for (;
                            (b = a[e++]);) b === a[e] && (d = c.push(e));
                        for (; d--;) a.splice(c[d], 1);
                    }
                    return (D = null), a;
                }),
                (x = b.getText = function(a) {
                    var b,
                        c = "",
                        d = 0,
                        e = a.nodeType;
                    if (e) {
                        if (1 === e || 9 === e || 11 === e) {
                            if ("string" == typeof a.textContent) return a.textContent;
                            for (a = a.firstChild; a; a = a.nextSibling) c += x(a);
                        } else if (3 === e || 4 === e) return a.nodeValue;
                    } else
                        for (;
                            (b = a[d++]);) c += x(b);
                    return c;
                }),
                (w = b.selectors = {
                    cacheLength: 50,
                    createPseudo: d,
                    match: oa,
                    attrHandle: {},
                    find: {},
                    relative: {
                        ">": { dir: "parentNode", first: !0 },
                        " ": { dir: "parentNode" },
                        "+": { dir: "previousSibling", first: !0 },
                        "~": { dir: "previousSibling" }
                    },
                    preFilter: {
                        ATTR: function(a) {
                            return (
                                (a[1] = a[1].replace(va, wa)),
                                (a[3] = (a[3] || a[4] || a[5] || "").replace(va, wa)),
                                "~=" === a[2] && (a[3] = " " + a[3] + " "),
                                a.slice(0, 4)
                            );
                        },
                        CHILD: function(a) {
                            return (
                                (a[1] = a[1].toLowerCase()),
                                "nth" === a[1].slice(0, 3) ?
                                (a[3] || b.error(a[0]),
                                    (a[4] = +(a[4] ?
                                        a[5] + (a[6] || 1) :
                                        2 * ("even" === a[3] || "odd" === a[3]))),
                                    (a[5] = +(a[7] + a[8] || "odd" === a[3]))) :
                                a[3] && b.error(a[0]),
                                a
                            );
                        },
                        PSEUDO: function(a) {
                            var b,
                                c = !a[6] && a[2];
                            return oa.CHILD.test(a[0]) ?
                                null :
                                (a[3] ?
                                    (a[2] = a[4] || a[5] || "") :
                                    c &&
                                    ma.test(c) &&
                                    (b = z(c, !0)) &&
                                    (b = c.indexOf(")", c.length - b) - c.length) &&
                                    ((a[0] = a[0].slice(0, b)), (a[2] = c.slice(0, b))),
                                    a.slice(0, 3));
                        }
                    },
                    filter: {
                        TAG: function(a) {
                            var b = a.replace(va, wa).toLowerCase();
                            return "*" === a ?

                                function() {
                                    return !0;
                                } :
                                function(a) {
                                    return a.nodeName && a.nodeName.toLowerCase() === b;
                                };
                        },
                        CLASS: function(a) {
                            var b = R[a + " "];
                            return (
                                b ||
                                ((b = new RegExp("(^|" + ca + ")" + a + "(" + ca + "|$)")) &&
                                    R(a, function(a) {
                                        return b.test(
                                            ("string" == typeof a.className && a.className) ||
                                            ("undefined" != typeof a.getAttribute &&
                                                a.getAttribute("class")) ||
                                            ""
                                        );
                                    }))
                            );
                        },
                        ATTR: function(a, c, d) {
                            return function(e) {
                                var f = b.attr(e, a);
                                return null == f ?
                                    "!=" === c :
                                    c ?
                                    ((f += ""),
                                        "=" === c ?
                                        f === d :
                                        "!=" === c ?
                                        f !== d :
                                        "^=" === c ?
                                        d && 0 === f.indexOf(d) :
                                        "*=" === c ?
                                        d && f.indexOf(d) > -1 :
                                        "$=" === c ?
                                        d && f.slice(-d.length) === d :
                                        "~=" === c ?
                                        (" " + f.replace(ha, " ") + " ").indexOf(d) > -1 :
                                        "|=" === c ?
                                        f === d || f.slice(0, d.length + 1) === d + "-" :
                                        !1) :
                                    !0;
                            };
                        },
                        CHILD: function(a, b, c, d, e) {
                            var f = "nth" !== a.slice(0, 3),
                                g = "last" !== a.slice(-4),
                                h = "of-type" === b;
                            return 1 === d && 0 === e ?

                                function(a) {
                                    return !!a.parentNode;
                                } :
                                function(b, c, i) {
                                    var j,
                                        k,
                                        l,
                                        m,
                                        n,
                                        o,
                                        p = f !== g ? "nextSibling" : "previousSibling",
                                        q = b.parentNode,
                                        r = h && b.nodeName.toLowerCase(),
                                        s = !i && !h;
                                    if (q) {
                                        if (f) {
                                            for (; p;) {
                                                for (l = b;
                                                    (l = l[p]);)
                                                    if (
                                                        h ?
                                                        l.nodeName.toLowerCase() === r :
                                                        1 === l.nodeType
                                                    )
                                                        return !1;
                                                o = p = "only" === a && !o && "nextSibling";
                                            }
                                            return !0;
                                        }
                                        if (((o = [g ? q.firstChild : q.lastChild]), g && s)) {
                                            for (
                                                k = q[N] || (q[N] = {}),
                                                j = k[a] || [],
                                                n = j[0] === P && j[1],
                                                m = j[0] === P && j[2],
                                                l = n && q.childNodes[n];
                                                (l = (++n && l && l[p]) || (m = n = 0) || o.pop());

                                            )
                                                if (1 === l.nodeType && ++m && l === b) {
                                                    k[a] = [P, n, m];
                                                    break;
                                                }
                                        } else if (
                                            s &&
                                            (j = (b[N] || (b[N] = {}))[a]) &&
                                            j[0] === P
                                        )
                                            m = j[1];
                                        else
                                            for (;
                                                (l = (++n && l && l[p]) || (m = n = 0) || o.pop()) &&
                                                ((h ?
                                                        l.nodeName.toLowerCase() !== r :
                                                        1 !== l.nodeType) ||
                                                    !++m ||
                                                    (s && ((l[N] || (l[N] = {}))[a] = [P, m]),
                                                        l !== b));

                                            );
                                        return (m -= e), m === d || (m % d === 0 && m / d >= 0);
                                    }
                                };
                        },
                        PSEUDO: function(a, c) {
                            var e,
                                f =
                                w.pseudos[a] ||
                                w.setFilters[a.toLowerCase()] ||
                                b.error("unsupported pseudo: " + a);
                            return f[N] ?
                                f(c) :
                                f.length > 1 ?
                                ((e = [a, a, "", c]),
                                    w.setFilters.hasOwnProperty(a.toLowerCase()) ?
                                    d(function(a, b) {
                                        for (var d, e = f(a, c), g = e.length; g--;)
                                            (d = aa(a, e[g])), (a[d] = !(b[d] = e[g]));
                                    }) :
                                    function(a) {
                                        return f(a, 0, e);
                                    }) :
                                f;
                        }
                    },
                    pseudos: {
                        not: d(function(a) {
                            var b = [],
                                c = [],
                                e = A(a.replace(ia, "$1"));
                            return e[N] ?
                                d(function(a, b, c, d) {
                                    for (var f, g = e(a, null, d, []), h = a.length; h--;)
                                        (f = g[h]) && (a[h] = !(b[h] = f));
                                }) :
                                function(a, d, f) {
                                    return (
                                        (b[0] = a), e(b, null, f, c), (b[0] = null), !c.pop()
                                    );
                                };
                        }),
                        has: d(function(a) {
                            return function(c) {
                                return b(a, c).length > 0;
                            };
                        }),
                        contains: d(function(a) {
                            return (
                                (a = a.replace(va, wa)),
                                function(b) {
                                    return (b.textContent || b.innerText || x(b)).indexOf(a) > -1;
                                }
                            );
                        }),
                        lang: d(function(a) {
                            return (
                                na.test(a || "") || b.error("unsupported lang: " + a),
                                (a = a.replace(va, wa).toLowerCase()),
                                function(b) {
                                    var c;
                                    do
                                        if (
                                            (c = I ?
                                                b.lang :
                                                b.getAttribute("xml:lang") || b.getAttribute("lang"))
                                        )
                                            return (
                                                (c = c.toLowerCase()),
                                                c === a || 0 === c.indexOf(a + "-")
                                            );
                                    while ((b = b.parentNode) && 1 === b.nodeType);
                                    return !1;
                                }
                            );
                        }),
                        target: function(b) {
                            var c = a.location && a.location.hash;
                            return c && c.slice(1) === b.id;
                        },
                        root: function(a) {
                            return a === H;
                        },
                        focus: function(a) {
                            return (
                                a === G.activeElement &&
                                (!G.hasFocus || G.hasFocus()) &&
                                !!(a.type || a.href || ~a.tabIndex)
                            );
                        },
                        enabled: function(a) {
                            return a.disabled === !1;
                        },
                        disabled: function(a) {
                            return a.disabled === !0;
                        },
                        checked: function(a) {
                            var b = a.nodeName.toLowerCase();
                            return (
                                ("input" === b && !!a.checked) ||
                                ("option" === b && !!a.selected)
                            );
                        },
                        selected: function(a) {
                            return (
                                a.parentNode && a.parentNode.selectedIndex, a.selected === !0
                            );
                        },
                        empty: function(a) {
                            for (a = a.firstChild; a; a = a.nextSibling)
                                if (a.nodeType < 6) return !1;
                            return !0;
                        },
                        parent: function(a) {
                            return !w.pseudos.empty(a);
                        },
                        header: function(a) {
                            return qa.test(a.nodeName);
                        },
                        input: function(a) {
                            return pa.test(a.nodeName);
                        },
                        button: function(a) {
                            var b = a.nodeName.toLowerCase();
                            return ("input" === b && "button" === a.type) || "button" === b;
                        },
                        text: function(a) {
                            var b;
                            return (
                                "input" === a.nodeName.toLowerCase() &&
                                "text" === a.type &&
                                (null == (b = a.getAttribute("type")) ||
                                    "text" === b.toLowerCase())
                            );
                        },
                        first: j(function() {
                            return [0];
                        }),
                        last: j(function(a, b) {
                            return [b - 1];
                        }),
                        eq: j(function(a, b, c) {
                            return [0 > c ? c + b : c];
                        }),
                        even: j(function(a, b) {
                            for (var c = 0; b > c; c += 2) a.push(c);
                            return a;
                        }),
                        odd: j(function(a, b) {
                            for (var c = 1; b > c; c += 2) a.push(c);
                            return a;
                        }),
                        lt: j(function(a, b, c) {
                            for (var d = 0 > c ? c + b : c; --d >= 0;) a.push(d);
                            return a;
                        }),
                        gt: j(function(a, b, c) {
                            for (var d = 0 > c ? c + b : c; ++d < b;) a.push(d);
                            return a;
                        })
                    }
                }),
                (w.pseudos.nth = w.pseudos.eq);
                for (u in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 })
                    w.pseudos[u] = h(u);
                for (u in { submit: !0, reset: !0 }) w.pseudos[u] = i(u);
                return (
                    (l.prototype = w.filters = w.pseudos),
                    (w.setFilters = new l()),
                    (z = b.tokenize = function(a, c) {
                        var d,
                            e,
                            f,
                            g,
                            h,
                            i,
                            j,
                            k = S[a + " "];
                        if (k) return c ? 0 : k.slice(0);
                        for (h = a, i = [], j = w.preFilter; h;) {
                            (!d || (e = ja.exec(h))) &&
                            (e && (h = h.slice(e[0].length) || h), i.push((f = []))),
                            (d = !1),
                            (e = ka.exec(h)) &&
                            ((d = e.shift()),
                                f.push({ value: d, type: e[0].replace(ia, " ") }),
                                (h = h.slice(d.length)));
                            for (g in w.filter)
                                !(e = oa[g].exec(h)) ||
                                (j[g] && !(e = j[g](e))) ||
                                ((d = e.shift()),
                                    f.push({ value: d, type: g, matches: e }),
                                    (h = h.slice(d.length)));
                            if (!d) break;
                        }
                        return c ? h.length : h ? b.error(a) : S(a, i).slice(0);
                    }),
                    (A = b.compile = function(a, b) {
                        var c,
                            d = [],
                            e = [],
                            f = T[a + " "];
                        if (!f) {
                            for (b || (b = z(a)), c = b.length; c--;)
                                (f = s(b[c])), f[N] ? d.push(f) : e.push(f);
                            (f = T(a, t(e, d))), (f.selector = a);
                        }
                        return f;
                    }),
                    (B = b.select = function(a, b, c, d) {
                        var e,
                            f,
                            g,
                            h,
                            i,
                            j = "function" == typeof a && a,
                            l = !d && z((a = j.selector || a));
                        if (((c = c || []), 1 === l.length)) {
                            if (
                                ((f = l[0] = l[0].slice(0)),
                                    f.length > 2 &&
                                    "ID" === (g = f[0]).type &&
                                    v.getById &&
                                    9 === b.nodeType &&
                                    I &&
                                    w.relative[f[1].type])
                            ) {
                                if (
                                    ((b = (w.find.ID(g.matches[0].replace(va, wa), b) || [])[0]), !b)
                                )
                                    return c;
                                j && (b = b.parentNode), (a = a.slice(f.shift().value.length));
                            }
                            for (
                                e = oa.needsContext.test(a) ? 0 : f.length; e-- && ((g = f[e]), !w.relative[(h = g.type)]);

                            )
                                if (
                                    (i = w.find[h]) &&
                                    (d = i(
                                        g.matches[0].replace(va, wa),
                                        (ta.test(f[0].type) && k(b.parentNode)) || b
                                    ))
                                ) {
                                    if ((f.splice(e, 1), (a = d.length && m(f)), !a))
                                        return $.apply(c, d), c;
                                    break;
                                }
                        }
                        return (
                            (j || A(a, l))(d, b, !I, c, (ta.test(a) && k(b.parentNode)) || b), c
                        );
                    }),
                    (v.sortStable =
                        N.split("")
                        .sort(U)
                        .join("") === N),
                    (v.detectDuplicates = !!E),
                    F(),
                    (v.sortDetached = e(function(a) {
                        return 1 & a.compareDocumentPosition(G.createElement("div"));
                    })),
                    e(function(a) {
                        return (
                            (a.innerHTML = "<a href='#'></a>"),
                            "#" === a.firstChild.getAttribute("href")
                        );
                    }) ||
                    f("type|href|height|width", function(a, b, c) {
                        return c ?
                            void 0 :
                            a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2);
                    }),
                    (v.attributes &&
                        e(function(a) {
                            return (
                                (a.innerHTML = "<input/>"),
                                a.firstChild.setAttribute("value", ""),
                                "" === a.firstChild.getAttribute("value")
                            );
                        })) ||
                    f("value", function(a, b, c) {
                        return c || "input" !== a.nodeName.toLowerCase() ?
                            void 0 :
                            a.defaultValue;
                    }),
                    e(function(a) {
                        return null == a.getAttribute("disabled");
                    }) ||
                    f(ba, function(a, b, c) {
                        var d;
                        return c ?
                            void 0 :
                            a[b] === !0 ?
                            b.toLowerCase() :
                            (d = a.getAttributeNode(b)) && d.specified ?
                            d.value :
                            null;
                    }),
                    b
                );
            })(a);
            (_.find = ea),
            (_.expr = ea.selectors),
            (_.expr[":"] = _.expr.pseudos),
            (_.unique = ea.uniqueSort),
            (_.text = ea.getText),
            (_.isXMLDoc = ea.isXML),
            (_.contains = ea.contains);
            var fa = _.expr.match.needsContext,
                ga = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
                ha = /^.[^:#\[\.,]*$/;
            (_.filter = function(a, b, c) {
                var d = b[0];
                return (
                    c && (a = ":not(" + a + ")"),
                    1 === b.length && 1 === d.nodeType ?
                    _.find.matchesSelector(d, a) ? [d] : [] :
                    _.find.matches(
                        a,
                        _.grep(b, function(a) {
                            return 1 === a.nodeType;
                        })
                    )
                );
            }),
            _.fn.extend({
                find: function(a) {
                    var b,
                        c = this.length,
                        d = [],
                        e = this;
                    if ("string" != typeof a)
                        return this.pushStack(
                            _(a).filter(function() {
                                for (b = 0; c > b; b++)
                                    if (_.contains(e[b], this)) return !0;
                            })
                        );
                    for (b = 0; c > b; b++) _.find(a, e[b], d);
                    return (
                        (d = this.pushStack(c > 1 ? _.unique(d) : d)),
                        (d.selector = this.selector ? this.selector + " " + a : a),
                        d
                    );
                },
                filter: function(a) {
                    return this.pushStack(d(this, a || [], !1));
                },
                not: function(a) {
                    return this.pushStack(d(this, a || [], !0));
                },
                is: function(a) {
                    return !!d(
                        this,
                        "string" == typeof a && fa.test(a) ? _(a) : a || [], !1
                    ).length;
                }
            });
            var ia,
                ja = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
                ka = (_.fn.init = function(a, b) {
                    var c, d;
                    if (!a) return this;
                    if ("string" == typeof a) {
                        if (
                            ((c =
                                "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] :
                                ja.exec(a)), !c || (!c[1] && b))
                        )
                            return !b || b.jquery ?
                                (b || ia).find(a) :
                                this.constructor(b).find(a);
                        if (c[1]) {
                            if (
                                ((b = b instanceof _ ? b[0] : b),
                                    _.merge(
                                        this,
                                        _.parseHTML(
                                            c[1],
                                            b && b.nodeType ? b.ownerDocument || b : Z, !0
                                        )
                                    ),
                                    ga.test(c[1]) && _.isPlainObject(b))
                            )
                                for (c in b)
                                    _.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                            return this;
                        }
                        return (
                            (d = Z.getElementById(c[2])),
                            d && d.parentNode && ((this.length = 1), (this[0] = d)),
                            (this.context = Z),
                            (this.selector = a),
                            this
                        );
                    }
                    return a.nodeType ?
                        ((this.context = this[0] = a), (this.length = 1), this) :
                        _.isFunction(a) ?
                        "undefined" != typeof ia.ready ?
                        ia.ready(a) :
                        a(_) :
                        (void 0 !== a.selector &&
                            ((this.selector = a.selector), (this.context = a.context)),
                            _.makeArray(a, this));
                });
            (ka.prototype = _.fn), (ia = _(Z));
            var la = /^(?:parents|prev(?:Until|All))/,
                ma = { children: !0, contents: !0, next: !0, prev: !0 };
            _.extend({
                    dir: function(a, b, c) {
                        for (var d = [], e = void 0 !== c;
                            (a = a[b]) && 9 !== a.nodeType;)
                            if (1 === a.nodeType) {
                                if (e && _(a).is(c)) break;
                                d.push(a);
                            }
                        return d;
                    },
                    sibling: function(a, b) {
                        for (var c = []; a; a = a.nextSibling)
                            1 === a.nodeType && a !== b && c.push(a);
                        return c;
                    }
                }),
                _.fn.extend({
                    has: function(a) {
                        var b = _(a, this),
                            c = b.length;
                        return this.filter(function() {
                            for (var a = 0; c > a; a++)
                                if (_.contains(this, b[a])) return !0;
                        });
                    },
                    closest: function(a, b) {
                        for (
                            var c,
                                d = 0,
                                e = this.length,
                                f = [],
                                g =
                                fa.test(a) || "string" != typeof a ?
                                _(a, b || this.context) :
                                0; e > d; d++
                        )
                            for (c = this[d]; c && c !== b; c = c.parentNode)
                                if (
                                    c.nodeType < 11 &&
                                    (g ?
                                        g.index(c) > -1 :
                                        1 === c.nodeType && _.find.matchesSelector(c, a))
                                ) {
                                    f.push(c);
                                    break;
                                }
                        return this.pushStack(f.length > 1 ? _.unique(f) : f);
                    },
                    index: function(a) {
                        return a ?
                            "string" == typeof a ?
                            U.call(_(a), this[0]) :
                            U.call(this, a.jquery ? a[0] : a) :
                            this[0] && this[0].parentNode ?
                            this.first().prevAll().length :
                            -1;
                    },
                    add: function(a, b) {
                        return this.pushStack(_.unique(_.merge(this.get(), _(a, b))));
                    },
                    addBack: function(a) {
                        return this.add(
                            null == a ? this.prevObject : this.prevObject.filter(a)
                        );
                    }
                }),
                _.each({
                        parent: function(a) {
                            var b = a.parentNode;
                            return b && 11 !== b.nodeType ? b : null;
                        },
                        parents: function(a) {
                            return _.dir(a, "parentNode");
                        },
                        parentsUntil: function(a, b, c) {
                            return _.dir(a, "parentNode", c);
                        },
                        next: function(a) {
                            return e(a, "nextSibling");
                        },
                        prev: function(a) {
                            return e(a, "previousSibling");
                        },
                        nextAll: function(a) {
                            return _.dir(a, "nextSibling");
                        },
                        prevAll: function(a) {
                            return _.dir(a, "previousSibling");
                        },
                        nextUntil: function(a, b, c) {
                            return _.dir(a, "nextSibling", c);
                        },
                        prevUntil: function(a, b, c) {
                            return _.dir(a, "previousSibling", c);
                        },
                        siblings: function(a) {
                            return _.sibling((a.parentNode || {}).firstChild, a);
                        },
                        children: function(a) {
                            return _.sibling(a.firstChild);
                        },
                        contents: function(a) {
                            return a.contentDocument || _.merge([], a.childNodes);
                        }
                    },
                    function(a, b) {
                        _.fn[a] = function(c, d) {
                            var e = _.map(this, b, c);
                            return (
                                "Until" !== a.slice(-5) && (d = c),
                                d && "string" == typeof d && (e = _.filter(d, e)),
                                this.length > 1 &&
                                (ma[a] || _.unique(e), la.test(a) && e.reverse()),
                                this.pushStack(e)
                            );
                        };
                    }
                );
            var na = /\S+/g,
                oa = {};
            (_.Callbacks = function(a) {
                a = "string" == typeof a ? oa[a] || f(a) : _.extend({}, a);
                var b,
                    c,
                    d,
                    e,
                    g,
                    h,
                    i = [],
                    j = !a.once && [],
                    k = function(f) {
                        for (
                            b = a.memory && f, c = !0, h = e || 0, e = 0, g = i.length, d = !0; i && g > h; h++
                        )
                            if (i[h].apply(f[0], f[1]) === !1 && a.stopOnFalse) {
                                b = !1;
                                break;
                            }
                            (d = !1),
                        i && (j ? j.length && k(j.shift()) : b ? (i = []) : l.disable());
                    },
                    l = {
                        add: function() {
                            if (i) {
                                var c = i.length;
                                !(function f(b) {
                                    _.each(b, function(b, c) {
                                        var d = _.type(c);
                                        "function" === d
                                            ?
                                            (a.unique && l.has(c)) || i.push(c) :
                                            c && c.length && "string" !== d && f(c);
                                    });
                                })(arguments),
                                d ? (g = i.length) : b && ((e = c), k(b));
                            }
                            return this;
                        },
                        remove: function() {
                            return (
                                i &&
                                _.each(arguments, function(a, b) {
                                    for (var c;
                                        (c = _.inArray(b, i, c)) > -1;)
                                        i.splice(c, 1), d && (g >= c && g--, h >= c && h--);
                                }),
                                this
                            );
                        },
                        has: function(a) {
                            return a ? _.inArray(a, i) > -1 : !(!i || !i.length);
                        },
                        empty: function() {
                            return (i = []), (g = 0), this;
                        },
                        disable: function() {
                            return (i = j = b = void 0), this;
                        },
                        disabled: function() {
                            return !i;
                        },
                        lock: function() {
                            return (j = void 0), b || l.disable(), this;
                        },
                        locked: function() {
                            return !j;
                        },
                        fireWith: function(a, b) {
                            return (!i ||
                                (c && !j) ||
                                ((b = b || []),
                                    (b = [a, b.slice ? b.slice() : b]),
                                    d ? j.push(b) : k(b)),
                                this
                            );
                        },
                        fire: function() {
                            return l.fireWith(this, arguments), this;
                        },
                        fired: function() {
                            return !!c;
                        }
                    };
                return l;
            }),
            _.extend({
                Deferred: function(a) {
                    var b = [
                            ["resolve", "done", _.Callbacks("once memory"), "resolved"],
                            ["reject", "fail", _.Callbacks("once memory"), "rejected"],
                            ["notify", "progress", _.Callbacks("memory")]
                        ],
                        c = "pending",
                        d = {
                            state: function() {
                                return c;
                            },
                            always: function() {
                                return e.done(arguments).fail(arguments), this;
                            },
                            then: function() {
                                var a = arguments;
                                return _.Deferred(function(c) {
                                    _.each(b, function(b, f) {
                                            var g = _.isFunction(a[b]) && a[b];
                                            e[f[1]](function() {
                                                var a = g && g.apply(this, arguments);
                                                a && _.isFunction(a.promise) ?
                                                    a
                                                    .promise()
                                                    .done(c.resolve)
                                                    .fail(c.reject)
                                                    .progress(c.notify) :
                                                    c[f[0] + "With"](
                                                        this === d ? c.promise() : this,
                                                        g ? [a] : arguments
                                                    );
                                            });
                                        }),
                                        (a = null);
                                }).promise();
                            },
                            promise: function(a) {
                                return null != a ? _.extend(a, d) : d;
                            }
                        },
                        e = {};
                    return (
                        (d.pipe = d.then),
                        _.each(b, function(a, f) {
                            var g = f[2],
                                h = f[3];
                            (d[f[1]] = g.add),
                            h &&
                                g.add(
                                    function() {
                                        c = h;
                                    },
                                    b[1 ^ a][2].disable,
                                    b[2][2].lock
                                ),
                                (e[f[0]] = function() {
                                    return (
                                        e[f[0] + "With"](this === e ? d : this, arguments), this
                                    );
                                }),
                                (e[f[0] + "With"] = g.fireWith);
                        }),
                        d.promise(e),
                        a && a.call(e, e),
                        e
                    );
                },
                when: function(a) {
                    var b,
                        c,
                        d,
                        e = 0,
                        f = R.call(arguments),
                        g = f.length,
                        h = 1 !== g || (a && _.isFunction(a.promise)) ? g : 0,
                        i = 1 === h ? a : _.Deferred(),
                        j = function(a, c, d) {
                            return function(e) {
                                (c[a] = this),
                                (d[a] = arguments.length > 1 ? R.call(arguments) : e),
                                d === b ? i.notifyWith(c, d) : --h || i.resolveWith(c, d);
                            };
                        };
                    if (g > 1)
                        for (
                            b = new Array(g), c = new Array(g), d = new Array(g); g > e; e++
                        )
                            f[e] && _.isFunction(f[e].promise) ?
                            f[e]
                            .promise()
                            .done(j(e, d, f))
                            .fail(i.reject)
                            .progress(j(e, c, b)) :
                            --h;
                    return h || i.resolveWith(d, f), i.promise();
                }
            });
            var pa;
            (_.fn.ready = function(a) {
                return _.ready.promise().done(a), this;
            }),
            _.extend({
                    isReady: !1,
                    readyWait: 1,
                    holdReady: function(a) {
                        a ? _.readyWait++ : _.ready(!0);
                    },
                    ready: function(a) {
                        (a === !0 ? --_.readyWait : _.isReady) ||
                        ((_.isReady = !0),
                            (a !== !0 && --_.readyWait > 0) ||
                            (pa.resolveWith(Z, [_]),
                                _.fn.triggerHandler &&
                                (_(Z).triggerHandler("ready"), _(Z).off("ready"))));
                    }
                }),
                (_.ready.promise = function(b) {
                    return (
                        pa ||
                        ((pa = _.Deferred()),
                            "complete" === Z.readyState ?
                            setTimeout(_.ready) :
                            (Z.addEventListener("DOMContentLoaded", g, !1),
                                a.addEventListener("load", g, !1))),
                        pa.promise(b)
                    );
                }),
                _.ready.promise();
            var qa = (_.access = function(a, b, c, d, e, f, g) {
                var h = 0,
                    i = a.length,
                    j = null == c;
                if ("object" === _.type(c)) {
                    e = !0;
                    for (h in c) _.access(a, b, h, c[h], !0, f, g);
                } else if (
                    void 0 !== d &&
                    ((e = !0),
                        _.isFunction(d) || (g = !0),
                        j &&
                        (g ?
                            (b.call(a, d), (b = null)) :
                            ((j = b),
                                (b = function(a, b, c) {
                                    return j.call(_(a), c);
                                }))),
                        b)
                )
                    for (; i > h; h++) b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
                return e ? a : j ? b.call(a) : i ? b(a[0], c) : f;
            });
            (_.acceptData = function(a) {
                return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType;
            }),
            (h.uid = 1),
            (h.accepts = _.acceptData),
            (h.prototype = {
                key: function(a) {
                    if (!h.accepts(a)) return 0;
                    var b = {},
                        c = a[this.expando];
                    if (!c) {
                        c = h.uid++;
                        try {
                            (b[this.expando] = { value: c }), Object.defineProperties(a, b);
                        } catch (d) {
                            (b[this.expando] = c), _.extend(a, b);
                        }
                    }
                    return this.cache[c] || (this.cache[c] = {}), c;
                },
                set: function(a, b, c) {
                    var d,
                        e = this.key(a),
                        f = this.cache[e];
                    if ("string" == typeof b) f[b] = c;
                    else if (_.isEmptyObject(f)) _.extend(this.cache[e], b);
                    else
                        for (d in b) f[d] = b[d];
                    return f;
                },
                get: function(a, b) {
                    var c = this.cache[this.key(a)];
                    return void 0 === b ? c : c[b];
                },
                access: function(a, b, c) {
                    var d;
                    return void 0 === b || (b && "string" == typeof b && void 0 === c) ?
                        ((d = this.get(a, b)),
                            void 0 !== d ? d : this.get(a, _.camelCase(b))) :
                        (this.set(a, b, c), void 0 !== c ? c : b);
                },
                remove: function(a, b) {
                    var c,
                        d,
                        e,
                        f = this.key(a),
                        g = this.cache[f];
                    if (void 0 === b) this.cache[f] = {};
                    else {
                        _.isArray(b) ?
                            (d = b.concat(b.map(_.camelCase))) :
                            ((e = _.camelCase(b)),
                                b in g ?
                                (d = [b, e]) :
                                ((d = e), (d = d in g ? [d] : d.match(na) || []))),
                            (c = d.length);
                        for (; c--;) delete g[d[c]];
                    }
                },
                hasData: function(a) {
                    return !_.isEmptyObject(this.cache[a[this.expando]] || {});
                },
                discard: function(a) {
                    a[this.expando] && delete this.cache[a[this.expando]];
                }
            });
            var ra = new h(),
                sa = new h(),
                ta = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
                ua = /([A-Z])/g;
            _.extend({
                    hasData: function(a) {
                        return sa.hasData(a) || ra.hasData(a);
                    },
                    data: function(a, b, c) {
                        return sa.access(a, b, c);
                    },
                    removeData: function(a, b) {
                        sa.remove(a, b);
                    },
                    _data: function(a, b, c) {
                        return ra.access(a, b, c);
                    },
                    _removeData: function(a, b) {
                        ra.remove(a, b);
                    }
                }),
                _.fn.extend({
                    data: function(a, b) {
                        var c,
                            d,
                            e,
                            f = this[0],
                            g = f && f.attributes;
                        if (void 0 === a) {
                            if (
                                this.length &&
                                ((e = sa.get(f)), 1 === f.nodeType && !ra.get(f, "hasDataAttrs"))
                            ) {
                                for (c = g.length; c--;)
                                    g[c] &&
                                    ((d = g[c].name),
                                        0 === d.indexOf("data-") &&
                                        ((d = _.camelCase(d.slice(5))), i(f, d, e[d])));
                                ra.set(f, "hasDataAttrs", !0);
                            }
                            return e;
                        }
                        return "object" == typeof a ?
                            this.each(function() {
                                sa.set(this, a);
                            }) :
                            qa(
                                this,
                                function(b) {
                                    var c,
                                        d = _.camelCase(a);
                                    if (f && void 0 === b) {
                                        if (((c = sa.get(f, a)), void 0 !== c)) return c;
                                        if (((c = sa.get(f, d)), void 0 !== c)) return c;
                                        if (((c = i(f, d, void 0)), void 0 !== c)) return c;
                                    } else
                                        this.each(function() {
                                            var c = sa.get(this, d);
                                            sa.set(this, d, b), -1 !== a.indexOf("-") &&
                                                void 0 !== c &&
                                                sa.set(this, a, b);
                                        });
                                },
                                null,
                                b,
                                arguments.length > 1,
                                null, !0
                            );
                    },
                    removeData: function(a) {
                        return this.each(function() {
                            sa.remove(this, a);
                        });
                    }
                }),
                _.extend({
                    queue: function(a, b, c) {
                        var d;
                        return a ?
                            ((b = (b || "fx") + "queue"),
                                (d = ra.get(a, b)),
                                c &&
                                (!d || _.isArray(c) ?
                                    (d = ra.access(a, b, _.makeArray(c))) :
                                    d.push(c)),
                                d || []) :
                            void 0;
                    },
                    dequeue: function(a, b) {
                        b = b || "fx";
                        var c = _.queue(a, b),
                            d = c.length,
                            e = c.shift(),
                            f = _._queueHooks(a, b),
                            g = function() {
                                _.dequeue(a, b);
                            };
                        "inprogress" === e && ((e = c.shift()), d--),
                            e &&
                            ("fx" === b && c.unshift("inprogress"),
                                delete f.stop,
                                e.call(a, g, f)), !d && f && f.empty.fire();
                    },
                    _queueHooks: function(a, b) {
                        var c = b + "queueHooks";
                        return (
                            ra.get(a, c) ||
                            ra.access(a, c, {
                                empty: _.Callbacks("once memory").add(function() {
                                    ra.remove(a, [b + "queue", c]);
                                })
                            })
                        );
                    }
                }),
                _.fn.extend({
                    queue: function(a, b) {
                        var c = 2;
                        return (
                            "string" != typeof a && ((b = a), (a = "fx"), c--),
                            arguments.length < c ?
                            _.queue(this[0], a) :
                            void 0 === b ?
                            this :
                            this.each(function() {
                                var c = _.queue(this, a, b);
                                _._queueHooks(this, a),
                                    "fx" === a && "inprogress" !== c[0] && _.dequeue(this, a);
                            })
                        );
                    },
                    dequeue: function(a) {
                        return this.each(function() {
                            _.dequeue(this, a);
                        });
                    },
                    clearQueue: function(a) {
                        return this.queue(a || "fx", []);
                    },
                    promise: function(a, b) {
                        var c,
                            d = 1,
                            e = _.Deferred(),
                            f = this,
                            g = this.length,
                            h = function() {
                                --d || e.resolveWith(f, [f]);
                            };
                        for (
                            "string" != typeof a && ((b = a), (a = void 0)), a = a || "fx"; g--;

                        )
                            (c = ra.get(f[g], a + "queueHooks")),
                            c && c.empty && (d++, c.empty.add(h));
                        return h(), e.promise(b);
                    }
                });
            var va = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
                wa = ["Top", "Right", "Bottom", "Left"],
                xa = function(a, b) {
                    return (
                        (a = b || a),
                        "none" === _.css(a, "display") || !_.contains(a.ownerDocument, a)
                    );
                },
                ya = /^(?:checkbox|radio)$/i;
            !(function() {
                var a = Z.createDocumentFragment(),
                    b = a.appendChild(Z.createElement("div")),
                    c = Z.createElement("input");
                c.setAttribute("type", "radio"),
                    c.setAttribute("checked", "checked"),
                    c.setAttribute("name", "t"),
                    b.appendChild(c),
                    (Y.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked),
                    (b.innerHTML = "<textarea>x</textarea>"),
                    (Y.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue);
            })();
            var za = "undefined";
            Y.focusinBubbles = "onfocusin" in a;
            var Aa = /^key/,
                Ba = /^(?:mouse|pointer|contextmenu)|click/,
                Ca = /^(?:focusinfocus|focusoutblur)$/,
                Da = /^([^.]*)(?:\.(.+)|)$/;
            (_.event = {
                global: {},
                add: function(a, b, c, d, e) {
                    var f,
                        g,
                        h,
                        i,
                        j,
                        k,
                        l,
                        m,
                        n,
                        o,
                        p,
                        q = ra.get(a);
                    if (q)
                        for (
                            c.handler && ((f = c), (c = f.handler), (e = f.selector)),
                            c.guid || (c.guid = _.guid++),
                            (i = q.events) || (i = q.events = {}),
                            (g = q.handle) ||
                            (g = q.handle = function(b) {
                                return typeof _ !== za && _.event.triggered !== b.type ?
                                    _.event.dispatch.apply(a, arguments) :
                                    void 0;
                            }),
                            b = (b || "").match(na) || [""],
                            j = b.length; j--;

                        )
                            (h = Da.exec(b[j]) || []),
                            (n = p = h[1]),
                            (o = (h[2] || "").split(".").sort()),
                            n &&
                            ((l = _.event.special[n] || {}),
                                (n = (e ? l.delegateType : l.bindType) || n),
                                (l = _.event.special[n] || {}),
                                (k = _.extend({
                                        type: n,
                                        origType: p,
                                        data: d,
                                        handler: c,
                                        guid: c.guid,
                                        selector: e,
                                        needsContext: e && _.expr.match.needsContext.test(e),
                                        namespace: o.join(".")
                                    },
                                    f
                                )),
                                (m = i[n]) ||
                                ((m = i[n] = []),
                                    (m.delegateCount = 0),
                                    (l.setup && l.setup.call(a, d, o, g) !== !1) ||
                                    (a.addEventListener && a.addEventListener(n, g, !1))),
                                l.add &&
                                (l.add.call(a, k),
                                    k.handler.guid || (k.handler.guid = c.guid)),
                                e ? m.splice(m.delegateCount++, 0, k) : m.push(k),
                                (_.event.global[n] = !0));
                },
                remove: function(a, b, c, d, e) {
                    var f,
                        g,
                        h,
                        i,
                        j,
                        k,
                        l,
                        m,
                        n,
                        o,
                        p,
                        q = ra.hasData(a) && ra.get(a);
                    if (q && (i = q.events)) {
                        for (b = (b || "").match(na) || [""], j = b.length; j--;)
                            if (
                                ((h = Da.exec(b[j]) || []),
                                    (n = p = h[1]),
                                    (o = (h[2] || "").split(".").sort()),
                                    n)
                            ) {
                                for (
                                    l = _.event.special[n] || {},
                                    n = (d ? l.delegateType : l.bindType) || n,
                                    m = i[n] || [],
                                    h =
                                    h[2] &&
                                    new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                                    g = f = m.length; f--;

                                )
                                    (k = m[f]),
                                    (!e && p !== k.origType) ||
                                    (c && c.guid !== k.guid) ||
                                    (h && !h.test(k.namespace)) ||
                                    (d && d !== k.selector && ("**" !== d || !k.selector)) ||
                                    (m.splice(f, 1),
                                        k.selector && m.delegateCount--,
                                        l.remove && l.remove.call(a, k));
                                g &&
                                    !m.length &&
                                    ((l.teardown && l.teardown.call(a, o, q.handle) !== !1) ||
                                        _.removeEvent(a, n, q.handle),
                                        delete i[n]);
                            } else
                                for (n in i) _.event.remove(a, n + b[j], c, d, !0);
                        _.isEmptyObject(i) && (delete q.handle, ra.remove(a, "events"));
                    }
                },
                trigger: function(b, c, d, e) {
                    var f,
                        g,
                        h,
                        i,
                        j,
                        k,
                        l,
                        m = [d || Z],
                        n = X.call(b, "type") ? b.type : b,
                        o = X.call(b, "namespace") ? b.namespace.split(".") : [];
                    if (
                        ((g = h = d = d || Z),
                            3 !== d.nodeType &&
                            8 !== d.nodeType &&
                            !Ca.test(n + _.event.triggered) &&
                            (n.indexOf(".") >= 0 &&
                                ((o = n.split(".")), (n = o.shift()), o.sort()),
                                (j = n.indexOf(":") < 0 && "on" + n),
                                (b = b[_.expando] ? b : new _.Event(n, "object" == typeof b && b)),
                                (b.isTrigger = e ? 2 : 3),
                                (b.namespace = o.join(".")),
                                (b.namespace_re = b.namespace ?
                                    new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)") :
                                    null),
                                (b.result = void 0),
                                b.target || (b.target = d),
                                (c = null == c ? [b] : _.makeArray(c, [b])),
                                (l = _.event.special[n] || {}),
                                e || !l.trigger || l.trigger.apply(d, c) !== !1))
                    ) {
                        if (!e && !l.noBubble && !_.isWindow(d)) {
                            for (
                                i = l.delegateType || n, Ca.test(i + n) || (g = g.parentNode); g; g = g.parentNode
                            )
                                m.push(g), (h = g);
                            h === (d.ownerDocument || Z) &&
                                m.push(h.defaultView || h.parentWindow || a);
                        }
                        for (f = 0;
                            (g = m[f++]) && !b.isPropagationStopped();)
                            (b.type = f > 1 ? i : l.bindType || n),
                            (k = (ra.get(g, "events") || {})[b.type] && ra.get(g, "handle")),
                            k && k.apply(g, c),
                            (k = j && g[j]),
                            k &&
                            k.apply &&
                            _.acceptData(g) &&
                            ((b.result = k.apply(g, c)),
                                b.result === !1 && b.preventDefault());
                        return (
                            (b.type = n),
                            e ||
                            b.isDefaultPrevented() ||
                            (l._default && l._default.apply(m.pop(), c) !== !1) ||
                            !_.acceptData(d) ||
                            (j &&
                                _.isFunction(d[n]) &&
                                !_.isWindow(d) &&
                                ((h = d[j]),
                                    h && (d[j] = null),
                                    (_.event.triggered = n),
                                    d[n](),
                                    (_.event.triggered = void 0),
                                    h && (d[j] = h))),
                            b.result
                        );
                    }
                },
                dispatch: function(a) {
                    a = _.event.fix(a);
                    var b,
                        c,
                        d,
                        e,
                        f,
                        g = [],
                        h = R.call(arguments),
                        i = (ra.get(this, "events") || {})[a.type] || [],
                        j = _.event.special[a.type] || {};
                    if (
                        ((h[0] = a),
                            (a.delegateTarget = this), !j.preDispatch || j.preDispatch.call(this, a) !== !1)
                    ) {
                        for (
                            g = _.event.handlers.call(this, a, i), b = 0;
                            (e = g[b++]) && !a.isPropagationStopped();

                        )
                            for (
                                a.currentTarget = e.elem, c = 0;
                                (f = e.handlers[c++]) && !a.isImmediatePropagationStopped();

                            )
                                (!a.namespace_re || a.namespace_re.test(f.namespace)) &&
                                ((a.handleObj = f),
                                    (a.data = f.data),
                                    (d = (
                                        (_.event.special[f.origType] || {}).handle || f.handler
                                    ).apply(e.elem, h)),
                                    void 0 !== d &&
                                    (a.result = d) === !1 &&
                                    (a.preventDefault(), a.stopPropagation()));
                        return j.postDispatch && j.postDispatch.call(this, a), a.result;
                    }
                },
                handlers: function(a, b) {
                    var c,
                        d,
                        e,
                        f,
                        g = [],
                        h = b.delegateCount,
                        i = a.target;
                    if (h && i.nodeType && (!a.button || "click" !== a.type))
                        for (; i !== this; i = i.parentNode || this)
                            if (i.disabled !== !0 || "click" !== a.type) {
                                for (d = [], c = 0; h > c; c++)
                                    (f = b[c]),
                                    (e = f.selector + " "),
                                    void 0 === d[e] &&
                                    (d[e] = f.needsContext ?
                                        _(e, this).index(i) >= 0 :
                                        _.find(e, this, null, [i]).length),
                                    d[e] && d.push(f);
                                d.length && g.push({ elem: i, handlers: d });
                            }
                    return h < b.length && g.push({ elem: this, handlers: b.slice(h) }), g;
                },
                props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(
                    " "
                ),
                fixHooks: {},
                keyHooks: {
                    props: "char charCode key keyCode".split(" "),
                    filter: function(a, b) {
                        return (
                            null == a.which &&
                            (a.which = null != b.charCode ? b.charCode : b.keyCode),
                            a
                        );
                    }
                },
                mouseHooks: {
                    props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(
                        " "
                    ),
                    filter: function(a, b) {
                        var c,
                            d,
                            e,
                            f = b.button;
                        return (
                            null == a.pageX &&
                            null != b.clientX &&
                            ((c = a.target.ownerDocument || Z),
                                (d = c.documentElement),
                                (e = c.body),
                                (a.pageX =
                                    b.clientX +
                                    ((d && d.scrollLeft) || (e && e.scrollLeft) || 0) -
                                    ((d && d.clientLeft) || (e && e.clientLeft) || 0)),
                                (a.pageY =
                                    b.clientY +
                                    ((d && d.scrollTop) || (e && e.scrollTop) || 0) -
                                    ((d && d.clientTop) || (e && e.clientTop) || 0))),
                            a.which ||
                            void 0 === f ||
                            (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0),
                            a
                        );
                    }
                },
                fix: function(a) {
                    if (a[_.expando]) return a;
                    var b,
                        c,
                        d,
                        e = a.type,
                        f = a,
                        g = this.fixHooks[e];
                    for (
                        g ||
                        (this.fixHooks[e] = g = Ba.test(e) ?
                            this.mouseHooks :
                            Aa.test(e) ?
                            this.keyHooks : {}),
                        d = g.props ? this.props.concat(g.props) : this.props,
                        a = new _.Event(f),
                        b = d.length; b--;

                    )
                        (c = d[b]), (a[c] = f[c]);
                    return (
                        a.target || (a.target = Z),
                        3 === a.target.nodeType && (a.target = a.target.parentNode),
                        g.filter ? g.filter(a, f) : a
                    );
                },
                special: {
                    load: { noBubble: !0 },
                    focus: {
                        trigger: function() {
                            return this !== l() && this.focus ? (this.focus(), !1) : void 0;
                        },
                        delegateType: "focusin"
                    },
                    blur: {
                        trigger: function() {
                            return this === l() && this.blur ? (this.blur(), !1) : void 0;
                        },
                        delegateType: "focusout"
                    },
                    click: {
                        trigger: function() {
                            return "checkbox" === this.type &&
                                this.click &&
                                _.nodeName(this, "input") ?
                                (this.click(), !1) :
                                void 0;
                        },
                        _default: function(a) {
                            return _.nodeName(a.target, "a");
                        }
                    },
                    beforeunload: {
                        postDispatch: function(a) {
                            void 0 !== a.result &&
                                a.originalEvent &&
                                (a.originalEvent.returnValue = a.result);
                        }
                    }
                },
                simulate: function(a, b, c, d) {
                    var e = _.extend(new _.Event(), c, {
                        type: a,
                        isSimulated: !0,
                        originalEvent: {}
                    });
                    d ? _.event.trigger(e, null, b) : _.event.dispatch.call(b, e),
                        e.isDefaultPrevented() && c.preventDefault();
                }
            }),
            (_.removeEvent = function(a, b, c) {
                a.removeEventListener && a.removeEventListener(b, c, !1);
            }),
            (_.Event = function(a, b) {
                return this instanceof _.Event ?
                    (a && a.type ?
                        ((this.originalEvent = a),
                            (this.type = a.type),
                            (this.isDefaultPrevented =
                                a.defaultPrevented ||
                                (void 0 === a.defaultPrevented && a.returnValue === !1) ?
                                j :
                                k)) :
                        (this.type = a),
                        b && _.extend(this, b),
                        (this.timeStamp = (a && a.timeStamp) || _.now()),
                        void(this[_.expando] = !0)) :
                    new _.Event(a, b);
            }),
            (_.Event.prototype = {
                isDefaultPrevented: k,
                isPropagationStopped: k,
                isImmediatePropagationStopped: k,
                preventDefault: function() {
                    var a = this.originalEvent;
                    (this.isDefaultPrevented = j),
                    a && a.preventDefault && a.preventDefault();
                },
                stopPropagation: function() {
                    var a = this.originalEvent;
                    (this.isPropagationStopped = j),
                    a && a.stopPropagation && a.stopPropagation();
                },
                stopImmediatePropagation: function() {
                    var a = this.originalEvent;
                    (this.isImmediatePropagationStopped = j),
                    a && a.stopImmediatePropagation && a.stopImmediatePropagation(),
                        this.stopPropagation();
                }
            }),
            _.each({
                        mouseenter: "mouseover",
                        mouseleave: "mouseout",
                        pointerenter: "pointerover",
                        pointerleave: "pointerout"
                    },
                    function(a, b) {
                        _.event.special[a] = {
                            delegateType: b,
                            bindType: b,
                            handle: function(a) {
                                var c,
                                    d = this,
                                    e = a.relatedTarget,
                                    f = a.handleObj;
                                return (
                                    (!e || (e !== d && !_.contains(d, e))) &&
                                    ((a.type = f.origType),
                                        (c = f.handler.apply(this, arguments)),
                                        (a.type = b)),
                                    c
                                );
                            }
                        };
                    }
                ),
                Y.focusinBubbles ||
                _.each({ focus: "focusin", blur: "focusout" }, function(a, b) {
                    var c = function(a) {
                        _.event.simulate(b, a.target, _.event.fix(a), !0);
                    };
                    _.event.special[b] = {
                        setup: function() {
                            var d = this.ownerDocument || this,
                                e = ra.access(d, b);
                            e || d.addEventListener(a, c, !0), ra.access(d, b, (e || 0) + 1);
                        },
                        teardown: function() {
                            var d = this.ownerDocument || this,
                                e = ra.access(d, b) - 1;
                            e
                                ?
                                ra.access(d, b, e) :
                                (d.removeEventListener(a, c, !0), ra.remove(d, b));
                        }
                    };
                }),
                _.fn.extend({
                    on: function(a, b, c, d, e) {
                        var f, g;
                        if ("object" == typeof a) {
                            "string" != typeof b && ((c = c || b), (b = void 0));
                            for (g in a) this.on(g, b, c, a[g], e);
                            return this;
                        }
                        if (
                            (null == c && null == d ?
                                ((d = b), (c = b = void 0)) :
                                null == d &&
                                ("string" == typeof b ?
                                    ((d = c), (c = void 0)) :
                                    ((d = c), (c = b), (b = void 0))),
                                d === !1)
                        )
                            d = k;
                        else if (!d) return this;
                        return (
                            1 === e &&
                            ((f = d),
                                (d = function(a) {
                                    return _().off(a), f.apply(this, arguments);
                                }),
                                (d.guid = f.guid || (f.guid = _.guid++))),
                            this.each(function() {
                                _.event.add(this, a, d, c, b);
                            })
                        );
                    },
                    one: function(a, b, c, d) {
                        return this.on(a, b, c, d, 1);
                    },
                    off: function(a, b, c) {
                        var d, e;
                        if (a && a.preventDefault && a.handleObj)
                            return (
                                (d = a.handleObj),
                                _(a.delegateTarget).off(
                                    d.namespace ? d.origType + "." + d.namespace : d.origType,
                                    d.selector,
                                    d.handler
                                ),
                                this
                            );
                        if ("object" == typeof a) {
                            for (e in a) this.off(e, b, a[e]);
                            return this;
                        }
                        return (
                            (b === !1 || "function" == typeof b) && ((c = b), (b = void 0)),
                            c === !1 && (c = k),
                            this.each(function() {
                                _.event.remove(this, a, c, b);
                            })
                        );
                    },
                    trigger: function(a, b) {
                        return this.each(function() {
                            _.event.trigger(a, b, this);
                        });
                    },
                    triggerHandler: function(a, b) {
                        var c = this[0];
                        return c ? _.event.trigger(a, b, c, !0) : void 0;
                    }
                });
            var Ea = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
                Fa = /<([\w:]+)/,
                Ga = /<|&#?\w+;/,
                Ha = /<(?:script|style|link)/i,
                Ia = /checked\s*(?:[^=]|=\s*.checked.)/i,
                Ja = /^$|\/(?:java|ecma)script/i,
                Ka = /^true\/(.*)/,
                La = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
                Ma = {
                    option: [1, "<select multiple='multiple'>", "</select>"],
                    thead: [1, "<table>", "</table>"],
                    col: [2, "<table><colgroup>", "</colgroup></table>"],
                    tr: [2, "<table><tbody>", "</tbody></table>"],
                    td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                    _default: [0, "", ""]
                };
            (Ma.optgroup = Ma.option),
            (Ma.tbody = Ma.tfoot = Ma.colgroup = Ma.caption = Ma.thead),
            (Ma.th = Ma.td),
            _.extend({
                    clone: function(a, b, c) {
                        var d,
                            e,
                            f,
                            g,
                            h = a.cloneNode(!0),
                            i = _.contains(a.ownerDocument, a);
                        if (!(
                                Y.noCloneChecked ||
                                (1 !== a.nodeType && 11 !== a.nodeType) ||
                                _.isXMLDoc(a)
                            ))
                            for (g = r(h), f = r(a), d = 0, e = f.length; e > d; d++)
                                s(f[d], g[d]);
                        if (b)
                            if (c)
                                for (
                                    f = f || r(a), g = g || r(h), d = 0, e = f.length; e > d; d++
                                )
                                    q(f[d], g[d]);
                            else q(a, h);
                        return (
                            (g = r(h, "script")), g.length > 0 && p(g, !i && r(a, "script")), h
                        );
                    },
                    buildFragment: function(a, b, c, d) {
                        for (
                            var e,
                                f,
                                g,
                                h,
                                i,
                                j,
                                k = b.createDocumentFragment(),
                                l = [],
                                m = 0,
                                n = a.length; n > m; m++
                        )
                            if (((e = a[m]), e || 0 === e))
                                if ("object" === _.type(e)) _.merge(l, e.nodeType ? [e] : e);
                                else if (Ga.test(e)) {
                            for (
                                f = f || k.appendChild(b.createElement("div")),
                                g = (Fa.exec(e) || ["", ""])[1].toLowerCase(),
                                h = Ma[g] || Ma._default,
                                f.innerHTML = h[1] + e.replace(Ea, "<$1></$2>") + h[2],
                                j = h[0]; j--;

                            )
                                f = f.lastChild;
                            _.merge(l, f.childNodes),
                                (f = k.firstChild),
                                (f.textContent = "");
                        } else l.push(b.createTextNode(e));
                        for (k.textContent = "", m = 0;
                            (e = l[m++]);)
                            if (
                                (!d || -1 === _.inArray(e, d)) &&
                                ((i = _.contains(e.ownerDocument, e)),
                                    (f = r(k.appendChild(e), "script")),
                                    i && p(f),
                                    c)
                            )
                                for (j = 0;
                                    (e = f[j++]);) Ja.test(e.type || "") && c.push(e);
                        return k;
                    },
                    cleanData: function(a) {
                        for (
                            var b, c, d, e, f = _.event.special, g = 0; void 0 !== (c = a[g]); g++
                        ) {
                            if (
                                _.acceptData(c) &&
                                ((e = c[ra.expando]), e && (b = ra.cache[e]))
                            ) {
                                if (b.events)
                                    for (d in b.events)
                                        f[d] ? _.event.remove(c, d) : _.removeEvent(c, d, b.handle);
                                ra.cache[e] && delete ra.cache[e];
                            }
                            delete sa.cache[c[sa.expando]];
                        }
                    }
                }),
                _.fn.extend({
                    text: function(a) {
                        return qa(
                            this,
                            function(a) {
                                return void 0 === a ?
                                    _.text(this) :
                                    this.empty().each(function() {
                                        (1 === this.nodeType ||
                                            11 === this.nodeType ||
                                            9 === this.nodeType) &&
                                        (this.textContent = a);
                                    });
                            },
                            null,
                            a,
                            arguments.length
                        );
                    },
                    append: function() {
                        return this.domManip(arguments, function(a) {
                            if (
                                1 === this.nodeType ||
                                11 === this.nodeType ||
                                9 === this.nodeType
                            ) {
                                var b = m(this, a);
                                b.appendChild(a);
                            }
                        });
                    },
                    prepend: function() {
                        return this.domManip(arguments, function(a) {
                            if (
                                1 === this.nodeType ||
                                11 === this.nodeType ||
                                9 === this.nodeType
                            ) {
                                var b = m(this, a);
                                b.insertBefore(a, b.firstChild);
                            }
                        });
                    },
                    before: function() {
                        return this.domManip(arguments, function(a) {
                            this.parentNode && this.parentNode.insertBefore(a, this);
                        });
                    },
                    after: function() {
                        return this.domManip(arguments, function(a) {
                            this.parentNode &&
                                this.parentNode.insertBefore(a, this.nextSibling);
                        });
                    },
                    remove: function(a, b) {
                        for (
                            var c, d = a ? _.filter(a, this) : this, e = 0; null != (c = d[e]); e++
                        )
                            b || 1 !== c.nodeType || _.cleanData(r(c)),
                            c.parentNode &&
                            (b && _.contains(c.ownerDocument, c) && p(r(c, "script")),
                                c.parentNode.removeChild(c));
                        return this;
                    },
                    empty: function() {
                        for (var a, b = 0; null != (a = this[b]); b++)
                            1 === a.nodeType && (_.cleanData(r(a, !1)), (a.textContent = ""));
                        return this;
                    },
                    clone: function(a, b) {
                        return (
                            (a = null == a ? !1 : a),
                            (b = null == b ? a : b),
                            this.map(function() {
                                return _.clone(this, a, b);
                            })
                        );
                    },
                    html: function(a) {
                        return qa(
                            this,
                            function(a) {
                                var b = this[0] || {},
                                    c = 0,
                                    d = this.length;
                                if (void 0 === a && 1 === b.nodeType) return b.innerHTML;
                                if (
                                    "string" == typeof a &&
                                    !Ha.test(a) &&
                                    !Ma[(Fa.exec(a) || ["", ""])[1].toLowerCase()]
                                ) {
                                    a = a.replace(Ea, "<$1></$2>");
                                    try {
                                        for (; d > c; c++)
                                            (b = this[c] || {}),
                                            1 === b.nodeType &&
                                            (_.cleanData(r(b, !1)), (b.innerHTML = a));
                                        b = 0;
                                    } catch (e) {}
                                }
                                b && this.empty().append(a);
                            },
                            null,
                            a,
                            arguments.length
                        );
                    },
                    replaceWith: function() {
                        var a = arguments[0];
                        return (
                            this.domManip(arguments, function(b) {
                                (a = this.parentNode),
                                _.cleanData(r(this)),
                                    a && a.replaceChild(b, this);
                            }),
                            a && (a.length || a.nodeType) ? this : this.remove()
                        );
                    },
                    detach: function(a) {
                        return this.remove(a, !0);
                    },
                    domManip: function(a, b) {
                        a = S.apply([], a);
                        var c,
                            d,
                            e,
                            f,
                            g,
                            h,
                            i = 0,
                            j = this.length,
                            k = this,
                            l = j - 1,
                            m = a[0],
                            p = _.isFunction(m);
                        if (
                            p ||
                            (j > 1 && "string" == typeof m && !Y.checkClone && Ia.test(m))
                        )
                            return this.each(function(c) {
                                var d = k.eq(c);
                                p && (a[0] = m.call(this, c, d.html())), d.domManip(a, b);
                            });
                        if (
                            j &&
                            ((c = _.buildFragment(a, this[0].ownerDocument, !1, this)),
                                (d = c.firstChild),
                                1 === c.childNodes.length && (c = d),
                                d)
                        ) {
                            for (e = _.map(r(c, "script"), n), f = e.length; j > i; i++)
                                (g = c),
                                i !== l &&
                                ((g = _.clone(g, !0, !0)), f && _.merge(e, r(g, "script"))),
                                b.call(this[i], g, i);
                            if (f)
                                for (
                                    h = e[e.length - 1].ownerDocument, _.map(e, o), i = 0; f > i; i++
                                )
                                    (g = e[i]),
                                    Ja.test(g.type || "") &&
                                    !ra.access(g, "globalEval") &&
                                    _.contains(h, g) &&
                                    (g.src ?
                                        _._evalUrl && _._evalUrl(g.src) :
                                        _.globalEval(g.textContent.replace(La, "")));
                        }
                        return this;
                    }
                }),
                _.each({
                        appendTo: "append",
                        prependTo: "prepend",
                        insertBefore: "before",
                        insertAfter: "after",
                        replaceAll: "replaceWith"
                    },
                    function(a, b) {
                        _.fn[a] = function(a) {
                            for (var c, d = [], e = _(a), f = e.length - 1, g = 0; f >= g; g++)
                                (c = g === f ? this : this.clone(!0)),
                                _(e[g])[b](c),
                                T.apply(d, c.get());
                            return this.pushStack(d);
                        };
                    }
                );
            var Na,
                Oa = {},
                Pa = /^margin/,
                Qa = new RegExp("^(" + va + ")(?!px)[a-z%]+$", "i"),
                Ra = function(b) {
                    return b.ownerDocument.defaultView.opener ?
                        b.ownerDocument.defaultView.getComputedStyle(b, null) :
                        a.getComputedStyle(b, null);
                };
            !(function() {
                function b() {
                    (g.style.cssText =
                        "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute"),
                    (g.innerHTML = ""),
                    e.appendChild(f);
                    var b = a.getComputedStyle(g, null);
                    (c = "1%" !== b.top), (d = "4px" === b.width), e.removeChild(f);
                }
                var c,
                    d,
                    e = Z.documentElement,
                    f = Z.createElement("div"),
                    g = Z.createElement("div");
                g.style &&
                    ((g.style.backgroundClip = "content-box"),
                        (g.cloneNode(!0).style.backgroundClip = ""),
                        (Y.clearCloneStyle = "content-box" === g.style.backgroundClip),
                        (f.style.cssText =
                            "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute"),
                        f.appendChild(g),
                        a.getComputedStyle &&
                        _.extend(Y, {
                            pixelPosition: function() {
                                return b(), c;
                            },
                            boxSizingReliable: function() {
                                return null == d && b(), d;
                            },
                            reliableMarginRight: function() {
                                var b,
                                    c = g.appendChild(Z.createElement("div"));
                                return (
                                    (c.style.cssText = g.style.cssText =
                                        "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0"),
                                    (c.style.marginRight = c.style.width = "0"),
                                    (g.style.width = "1px"),
                                    e.appendChild(f),
                                    (b = !parseFloat(a.getComputedStyle(c, null).marginRight)),
                                    e.removeChild(f),
                                    g.removeChild(c),
                                    b
                                );
                            }
                        }));
            })(),
            (_.swap = function(a, b, c, d) {
                var e,
                    f,
                    g = {};
                for (f in b)(g[f] = a.style[f]), (a.style[f] = b[f]);
                e = c.apply(a, d || []);
                for (f in b) a.style[f] = g[f];
                return e;
            });
            var Sa = /^(none|table(?!-c[ea]).+)/,
                Ta = new RegExp("^(" + va + ")(.*)$", "i"),
                Ua = new RegExp("^([+-])=(" + va + ")", "i"),
                Va = { position: "absolute", visibility: "hidden", display: "block" },
                Wa = { letterSpacing: "0", fontWeight: "400" },
                Xa = ["Webkit", "O", "Moz", "ms"];
            _.extend({
                    cssHooks: {
                        opacity: {
                            get: function(a, b) {
                                if (b) {
                                    var c = v(a, "opacity");
                                    return "" === c ? "1" : c;
                                }
                            }
                        }
                    },
                    cssNumber: {
                        columnCount: !0,
                        fillOpacity: !0,
                        flexGrow: !0,
                        flexShrink: !0,
                        fontWeight: !0,
                        lineHeight: !0,
                        opacity: !0,
                        order: !0,
                        orphans: !0,
                        widows: !0,
                        zIndex: !0,
                        zoom: !0
                    },
                    cssProps: { float: "cssFloat" },
                    style: function(a, b, c, d) {
                        if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                            var e,
                                f,
                                g,
                                h = _.camelCase(b),
                                i = a.style;
                            return (
                                (b = _.cssProps[h] || (_.cssProps[h] = x(i, h))),
                                (g = _.cssHooks[b] || _.cssHooks[h]),
                                void 0 === c ?
                                g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ?
                                e :
                                i[b] :
                                ((f = typeof c),
                                    "string" === f &&
                                    (e = Ua.exec(c)) &&
                                    ((c = (e[1] + 1) * e[2] + parseFloat(_.css(a, b))),
                                        (f = "number")),
                                    void(
                                        null != c &&
                                        c === c &&
                                        ("number" !== f || _.cssNumber[h] || (c += "px"),
                                            Y.clearCloneStyle ||
                                            "" !== c ||
                                            0 !== b.indexOf("background") ||
                                            (i[b] = "inherit"),
                                            (g && "set" in g && void 0 === (c = g.set(a, c, d))) ||
                                            (i[b] = c))
                                    ))
                            );
                        }
                    },
                    css: function(a, b, c, d) {
                        var e,
                            f,
                            g,
                            h = _.camelCase(b);
                        return (
                            (b = _.cssProps[h] || (_.cssProps[h] = x(a.style, h))),
                            (g = _.cssHooks[b] || _.cssHooks[h]),
                            g && "get" in g && (e = g.get(a, !0, c)),
                            void 0 === e && (e = v(a, b, d)),
                            "normal" === e && b in Wa && (e = Wa[b]),
                            "" === c || c ?
                            ((f = parseFloat(e)), c === !0 || _.isNumeric(f) ? f || 0 : e) :
                            e
                        );
                    }
                }),
                _.each(["height", "width"], function(a, b) {
                    _.cssHooks[b] = {
                        get: function(a, c, d) {
                            return c ?
                                Sa.test(_.css(a, "display")) && 0 === a.offsetWidth ?
                                _.swap(a, Va, function() {
                                    return A(a, b, d);
                                }) :
                                A(a, b, d) :
                                void 0;
                        },
                        set: function(a, c, d) {
                            var e = d && Ra(a);
                            return y(
                                a,
                                c,
                                d ?
                                z(a, b, d, "border-box" === _.css(a, "boxSizing", !1, e), e) :
                                0
                            );
                        }
                    };
                }),
                (_.cssHooks.marginRight = w(Y.reliableMarginRight, function(a, b) {
                    return b ?
                        _.swap(a, { display: "inline-block" }, v, [a, "marginRight"]) :
                        void 0;
                })),
                _.each({ margin: "", padding: "", border: "Width" }, function(a, b) {
                    (_.cssHooks[a + b] = {
                        expand: function(c) {
                            for (
                                var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++
                            )
                                e[a + wa[d] + b] = f[d] || f[d - 2] || f[0];
                            return e;
                        }
                    }),
                    Pa.test(a) || (_.cssHooks[a + b].set = y);
                }),
                _.fn.extend({
                    css: function(a, b) {
                        return qa(
                            this,
                            function(a, b, c) {
                                var d,
                                    e,
                                    f = {},
                                    g = 0;
                                if (_.isArray(b)) {
                                    for (d = Ra(a), e = b.length; e > g; g++)
                                        f[b[g]] = _.css(a, b[g], !1, d);
                                    return f;
                                }
                                return void 0 !== c ? _.style(a, b, c) : _.css(a, b);
                            },
                            a,
                            b,
                            arguments.length > 1
                        );
                    },
                    show: function() {
                        return B(this, !0);
                    },
                    hide: function() {
                        return B(this);
                    },
                    toggle: function(a) {
                        return "boolean" == typeof a ?
                            a ?
                            this.show() :
                            this.hide() :
                            this.each(function() {
                                xa(this) ? _(this).show() : _(this).hide();
                            });
                    }
                }),
                (_.Tween = C),
                (C.prototype = {
                    constructor: C,
                    init: function(a, b, c, d, e, f) {
                        (this.elem = a),
                        (this.prop = c),
                        (this.easing = e || "swing"),
                        (this.options = b),
                        (this.start = this.now = this.cur()),
                        (this.end = d),
                        (this.unit = f || (_.cssNumber[c] ? "" : "px"));
                    },
                    cur: function() {
                        var a = C.propHooks[this.prop];
                        return a && a.get ? a.get(this) : C.propHooks._default.get(this);
                    },
                    run: function(a) {
                        var b,
                            c = C.propHooks[this.prop];
                        return (
                            this.options.duration ?
                            (this.pos = b = _.easing[this.easing](
                                a,
                                this.options.duration * a,
                                0,
                                1,
                                this.options.duration
                            )) :
                            (this.pos = b = a),
                            (this.now = (this.end - this.start) * b + this.start),
                            this.options.step &&
                            this.options.step.call(this.elem, this.now, this),
                            c && c.set ? c.set(this) : C.propHooks._default.set(this),
                            this
                        );
                    }
                }),
                (C.prototype.init.prototype = C.prototype),
                (C.propHooks = {
                    _default: {
                        get: function(a) {
                            var b;
                            return null == a.elem[a.prop] ||
                                (a.elem.style && null != a.elem.style[a.prop]) ?
                                ((b = _.css(a.elem, a.prop, "")), b && "auto" !== b ? b : 0) :
                                a.elem[a.prop];
                        },
                        set: function(a) {
                            _.fx.step[a.prop] ?
                                _.fx.step[a.prop](a) :
                                a.elem.style &&
                                (null != a.elem.style[_.cssProps[a.prop]] || _.cssHooks[a.prop]) ?
                                _.style(a.elem, a.prop, a.now + a.unit) :
                                (a.elem[a.prop] = a.now);
                        }
                    }
                }),
                (C.propHooks.scrollTop = C.propHooks.scrollLeft = {
                    set: function(a) {
                        a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now);
                    }
                }),
                (_.easing = {
                    linear: function(a) {
                        return a;
                    },
                    swing: function(a) {
                        return 0.5 - Math.cos(a * Math.PI) / 2;
                    }
                }),
                (_.fx = C.prototype.init),
                (_.fx.step = {});
            var Ya,
                Za,
                $a = /^(?:toggle|show|hide)$/,
                _a = new RegExp("^(?:([+-])=|)(" + va + ")([a-z%]*)$", "i"),
                ab = /queueHooks$/,
                bb = [G],
                cb = {
                    "*": [
                        function(a, b) {
                            var c = this.createTween(a, b),
                                d = c.cur(),
                                e = _a.exec(b),
                                f = (e && e[3]) || (_.cssNumber[a] ? "" : "px"),
                                g =
                                (_.cssNumber[a] || ("px" !== f && +d)) &&
                                _a.exec(_.css(c.elem, a)),
                                h = 1,
                                i = 20;
                            if (g && g[3] !== f) {
                                (f = f || g[3]), (e = e || []), (g = +d || 1);
                                do(h = h || ".5"), (g /= h), _.style(c.elem, a, g + f);
                                while (h !== (h = c.cur() / d) && 1 !== h && --i);
                            }
                            return (
                                e &&
                                ((g = c.start = +g || +d || 0),
                                    (c.unit = f),
                                    (c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2])),
                                c
                            );
                        }
                    ]
                };
            (_.Animation = _.extend(I, {
                tweener: function(a, b) {
                    _.isFunction(a) ? ((b = a), (a = ["*"])) : (a = a.split(" "));
                    for (var c, d = 0, e = a.length; e > d; d++)
                        (c = a[d]), (cb[c] = cb[c] || []), cb[c].unshift(b);
                },
                prefilter: function(a, b) {
                    b ? bb.unshift(a) : bb.push(a);
                }
            })),
            (_.speed = function(a, b, c) {
                var d =
                    a && "object" == typeof a ?
                    _.extend({}, a) : {
                        complete: c || (!c && b) || (_.isFunction(a) && a),
                        duration: a,
                        easing: (c && b) || (b && !_.isFunction(b) && b)
                    };
                return (
                    (d.duration = _.fx.off ?
                        0 :
                        "number" == typeof d.duration ?
                        d.duration :
                        d.duration in _.fx.speeds ?
                        _.fx.speeds[d.duration] :
                        _.fx.speeds._default),
                    (null == d.queue || d.queue === !0) && (d.queue = "fx"),
                    (d.old = d.complete),
                    (d.complete = function() {
                        _.isFunction(d.old) && d.old.call(this),
                            d.queue && _.dequeue(this, d.queue);
                    }),
                    d
                );
            }),
            _.fn.extend({
                    fadeTo: function(a, b, c, d) {
                        return this.filter(xa)
                            .css("opacity", 0)
                            .show()
                            .end()
                            .animate({ opacity: b }, a, c, d);
                    },
                    animate: function(a, b, c, d) {
                        var e = _.isEmptyObject(a),
                            f = _.speed(b, c, d),
                            g = function() {
                                var b = I(this, _.extend({}, a), f);
                                (e || ra.get(this, "finish")) && b.stop(!0);
                            };
                        return (
                            (g.finish = g),
                            e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
                        );
                    },
                    stop: function(a, b, c) {
                        var d = function(a) {
                            var b = a.stop;
                            delete a.stop, b(c);
                        };
                        return (
                            "string" != typeof a && ((c = b), (b = a), (a = void 0)),
                            b && a !== !1 && this.queue(a || "fx", []),
                            this.each(function() {
                                var b = !0,
                                    e = null != a && a + "queueHooks",
                                    f = _.timers,
                                    g = ra.get(this);
                                if (e) g[e] && g[e].stop && d(g[e]);
                                else
                                    for (e in g) g[e] && g[e].stop && ab.test(e) && d(g[e]);
                                for (e = f.length; e--;)
                                    f[e].elem !== this ||
                                    (null != a && f[e].queue !== a) ||
                                    (f[e].anim.stop(c), (b = !1), f.splice(e, 1));
                                (b || !c) && _.dequeue(this, a);
                            })
                        );
                    },
                    finish: function(a) {
                        return (
                            a !== !1 && (a = a || "fx"),
                            this.each(function() {
                                var b,
                                    c = ra.get(this),
                                    d = c[a + "queue"],
                                    e = c[a + "queueHooks"],
                                    f = _.timers,
                                    g = d ? d.length : 0;
                                for (
                                    c.finish = !0,
                                    _.queue(this, a, []),
                                    e && e.stop && e.stop.call(this, !0),
                                    b = f.length; b--;

                                )
                                    f[b].elem === this &&
                                    f[b].queue === a &&
                                    (f[b].anim.stop(!0), f.splice(b, 1));
                                for (b = 0; g > b; b++)
                                    d[b] && d[b].finish && d[b].finish.call(this);
                                delete c.finish;
                            })
                        );
                    }
                }),
                _.each(["toggle", "show", "hide"], function(a, b) {
                    var c = _.fn[b];
                    _.fn[b] = function(a, d, e) {
                        return null == a || "boolean" == typeof a ?
                            c.apply(this, arguments) :
                            this.animate(E(b, !0), a, d, e);
                    };
                }),
                _.each({
                        slideDown: E("show"),
                        slideUp: E("hide"),
                        slideToggle: E("toggle"),
                        fadeIn: { opacity: "show" },
                        fadeOut: { opacity: "hide" },
                        fadeToggle: { opacity: "toggle" }
                    },
                    function(a, b) {
                        _.fn[a] = function(a, c, d) {
                            return this.animate(b, a, c, d);
                        };
                    }
                ),
                (_.timers = []),
                (_.fx.tick = function() {
                    var a,
                        b = 0,
                        c = _.timers;
                    for (Ya = _.now(); b < c.length; b++)
                        (a = c[b]), a() || c[b] !== a || c.splice(b--, 1);
                    c.length || _.fx.stop(), (Ya = void 0);
                }),
                (_.fx.timer = function(a) {
                    _.timers.push(a), a() ? _.fx.start() : _.timers.pop();
                }),
                (_.fx.interval = 13),
                (_.fx.start = function() {
                    Za || (Za = setInterval(_.fx.tick, _.fx.interval));
                }),
                (_.fx.stop = function() {
                    clearInterval(Za), (Za = null);
                }),
                (_.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
                (_.fn.delay = function(a, b) {
                    return (
                        (a = _.fx ? _.fx.speeds[a] || a : a),
                        (b = b || "fx"),
                        this.queue(b, function(b, c) {
                            var d = setTimeout(b, a);
                            c.stop = function() {
                                clearTimeout(d);
                            };
                        })
                    );
                }),
                (function() {
                    var a = Z.createElement("input"),
                        b = Z.createElement("select"),
                        c = b.appendChild(Z.createElement("option"));
                    (a.type = "checkbox"),
                    (Y.checkOn = "" !== a.value),
                    (Y.optSelected = c.selected),
                    (b.disabled = !0),
                    (Y.optDisabled = !c.disabled),
                    (a = Z.createElement("input")),
                    (a.value = "t"),
                    (a.type = "radio"),
                    (Y.radioValue = "t" === a.value);
                })();
            var db,
                eb,
                fb = _.expr.attrHandle;
            _.fn.extend({
                    attr: function(a, b) {
                        return qa(this, _.attr, a, b, arguments.length > 1);
                    },
                    removeAttr: function(a) {
                        return this.each(function() {
                            _.removeAttr(this, a);
                        });
                    }
                }),
                _.extend({
                    attr: function(a, b, c) {
                        var d,
                            e,
                            f = a.nodeType;
                        return a && 3 !== f && 8 !== f && 2 !== f ?
                            typeof a.getAttribute === za ?
                            _.prop(a, b, c) :
                            ((1 === f && _.isXMLDoc(a)) ||
                                ((b = b.toLowerCase()),
                                    (d =
                                        _.attrHooks[b] || (_.expr.match.bool.test(b) ? eb : db))),
                                void 0 === c ?
                                d && "get" in d && null !== (e = d.get(a, b)) ?
                                e :
                                ((e = _.find.attr(a, b)), null == e ? void 0 : e) :
                                null !== c ?
                                d && "set" in d && void 0 !== (e = d.set(a, c, b)) ?
                                e :
                                (a.setAttribute(b, c + ""), c) :
                                void _.removeAttr(a, b)) :
                            void 0;
                    },
                    removeAttr: function(a, b) {
                        var c,
                            d,
                            e = 0,
                            f = b && b.match(na);
                        if (f && 1 === a.nodeType)
                            for (;
                                (c = f[e++]);)
                                (d = _.propFix[c] || c),
                                _.expr.match.bool.test(c) && (a[d] = !1),
                                a.removeAttribute(c);
                    },
                    attrHooks: {
                        type: {
                            set: function(a, b) {
                                if (!Y.radioValue && "radio" === b && _.nodeName(a, "input")) {
                                    var c = a.value;
                                    return a.setAttribute("type", b), c && (a.value = c), b;
                                }
                            }
                        }
                    }
                }),
                (eb = {
                    set: function(a, b, c) {
                        return b === !1 ? _.removeAttr(a, c) : a.setAttribute(c, c), c;
                    }
                }),
                _.each(_.expr.match.bool.source.match(/\w+/g), function(a, b) {
                    var c = fb[b] || _.find.attr;
                    fb[b] = function(a, b, d) {
                        var e, f;
                        return (
                            d ||
                            ((f = fb[b]),
                                (fb[b] = e),
                                (e = null != c(a, b, d) ? b.toLowerCase() : null),
                                (fb[b] = f)),
                            e
                        );
                    };
                });
            var gb = /^(?:input|select|textarea|button)$/i;
            _.fn.extend({
                    prop: function(a, b) {
                        return qa(this, _.prop, a, b, arguments.length > 1);
                    },
                    removeProp: function(a) {
                        return this.each(function() {
                            delete this[_.propFix[a] || a];
                        });
                    }
                }),
                _.extend({
                    propFix: { for: "htmlFor", class: "className" },
                    prop: function(a, b, c) {
                        var d,
                            e,
                            f,
                            g = a.nodeType;
                        return a && 3 !== g && 8 !== g && 2 !== g ?
                            ((f = 1 !== g || !_.isXMLDoc(a)),
                                f && ((b = _.propFix[b] || b), (e = _.propHooks[b])),
                                void 0 !== c ?
                                e && "set" in e && void 0 !== (d = e.set(a, c, b)) ?
                                d :
                                (a[b] = c) :
                                e && "get" in e && null !== (d = e.get(a, b)) ?
                                d :
                                a[b]) :
                            void 0;
                    },
                    propHooks: {
                        tabIndex: {
                            get: function(a) {
                                return a.hasAttribute("tabindex") || gb.test(a.nodeName) || a.href ?
                                    a.tabIndex :
                                    -1;
                            }
                        }
                    }
                }),
                Y.optSelected ||
                (_.propHooks.selected = {
                    get: function(a) {
                        var b = a.parentNode;
                        return b && b.parentNode && b.parentNode.selectedIndex, null;
                    }
                }),
                _.each(
                    [
                        "tabIndex",
                        "readOnly",
                        "maxLength",
                        "cellSpacing",
                        "cellPadding",
                        "rowSpan",
                        "colSpan",
                        "useMap",
                        "frameBorder",
                        "contentEditable"
                    ],
                    function() {
                        _.propFix[this.toLowerCase()] = this;
                    }
                );
            var hb = /[\t\r\n\f]/g;
            _.fn.extend({
                addClass: function(a) {
                    var b,
                        c,
                        d,
                        e,
                        f,
                        g,
                        h = "string" == typeof a && a,
                        i = 0,
                        j = this.length;
                    if (_.isFunction(a))
                        return this.each(function(b) {
                            _(this).addClass(a.call(this, b, this.className));
                        });
                    if (h)
                        for (b = (a || "").match(na) || []; j > i; i++)
                            if (
                                ((c = this[i]),
                                    (d =
                                        1 === c.nodeType &&
                                        (c.className ?
                                            (" " + c.className + " ").replace(hb, " ") :
                                            " ")))
                            ) {
                                for (f = 0;
                                    (e = b[f++]);)
                                    d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                                (g = _.trim(d)), c.className !== g && (c.className = g);
                            }
                    return this;
                },
                removeClass: function(a) {
                    var b,
                        c,
                        d,
                        e,
                        f,
                        g,
                        h = 0 === arguments.length || ("string" == typeof a && a),
                        i = 0,
                        j = this.length;
                    if (_.isFunction(a))
                        return this.each(function(b) {
                            _(this).removeClass(a.call(this, b, this.className));
                        });
                    if (h)
                        for (b = (a || "").match(na) || []; j > i; i++)
                            if (
                                ((c = this[i]),
                                    (d =
                                        1 === c.nodeType &&
                                        (c.className ?
                                            (" " + c.className + " ").replace(hb, " ") :
                                            "")))
                            ) {
                                for (f = 0;
                                    (e = b[f++]);)
                                    for (; d.indexOf(" " + e + " ") >= 0;)
                                        d = d.replace(" " + e + " ", " ");
                                (g = a ? _.trim(d) : ""), c.className !== g && (c.className = g);
                            }
                    return this;
                },
                toggleClass: function(a, b) {
                    var c = typeof a;
                    return "boolean" == typeof b && "string" === c ?
                        b ?
                        this.addClass(a) :
                        this.removeClass(a) :
                        this.each(
                            _.isFunction(a) ?

                            function(c) {
                                _(this).toggleClass(a.call(this, c, this.className, b), b);
                            } :
                            function() {
                                if ("string" === c)
                                    for (
                                        var b, d = 0, e = _(this), f = a.match(na) || [];
                                        (b = f[d++]);

                                    )
                                        e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
                                else
                                    (c === za || "boolean" === c) &&
                                    (this.className &&
                                        ra.set(this, "__className__", this.className),
                                        (this.className =
                                            this.className || a === !1 ?
                                            "" :
                                            ra.get(this, "__className__") || ""));
                            }
                        );
                },
                hasClass: function(a) {
                    for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)
                        if (
                            1 === this[c].nodeType &&
                            (" " + this[c].className + " ").replace(hb, " ").indexOf(b) >= 0
                        )
                            return !0;
                    return !1;
                }
            });
            var ib = /\r/g;
            _.fn.extend({
                    val: function(a) {
                        var b,
                            c,
                            d,
                            e = this[0];
                        return arguments.length ?
                            ((d = _.isFunction(a)),
                                this.each(function(c) {
                                    var e;
                                    1 === this.nodeType &&
                                        ((e = d ? a.call(this, c, _(this).val()) : a),
                                            null == e ?
                                            (e = "") :
                                            "number" == typeof e ?
                                            (e += "") :
                                            _.isArray(e) &&
                                            (e = _.map(e, function(a) {
                                                return null == a ? "" : a + "";
                                            })),
                                            (b =
                                                _.valHooks[this.type] ||
                                                _.valHooks[this.nodeName.toLowerCase()]),
                                            (b && "set" in b && void 0 !== b.set(this, e, "value")) ||
                                            (this.value = e));
                                })) :
                            e ?
                            ((b = _.valHooks[e.type] || _.valHooks[e.nodeName.toLowerCase()]),
                                b && "get" in b && void 0 !== (c = b.get(e, "value")) ?
                                c :
                                ((c = e.value),
                                    "string" == typeof c ? c.replace(ib, "") : null == c ? "" : c)) :
                            void 0;
                    }
                }),
                _.extend({
                    valHooks: {
                        option: {
                            get: function(a) {
                                var b = _.find.attr(a, "value");
                                return null != b ? b : _.trim(_.text(a));
                            }
                        },
                        select: {
                            get: function(a) {
                                for (
                                    var b,
                                        c,
                                        d = a.options,
                                        e = a.selectedIndex,
                                        f = "select-one" === a.type || 0 > e,
                                        g = f ? null : [],
                                        h = f ? e + 1 : d.length,
                                        i = 0 > e ? h : f ? e : 0; h > i; i++
                                )
                                    if (
                                        ((c = d[i]), !(
                                            (!c.selected && i !== e) ||
                                            (Y.optDisabled ?
                                                c.disabled :
                                                null !== c.getAttribute("disabled")) ||
                                            (c.parentNode.disabled &&
                                                _.nodeName(c.parentNode, "optgroup"))
                                        ))
                                    ) {
                                        if (((b = _(c).val()), f)) return b;
                                        g.push(b);
                                    }
                                return g;
                            },
                            set: function(a, b) {
                                for (
                                    var c, d, e = a.options, f = _.makeArray(b), g = e.length; g--;

                                )
                                    (d = e[g]),
                                    (d.selected = _.inArray(d.value, f) >= 0) && (c = !0);
                                return c || (a.selectedIndex = -1), f;
                            }
                        }
                    }
                }),
                _.each(["radio", "checkbox"], function() {
                    (_.valHooks[this] = {
                        set: function(a, b) {
                            return _.isArray(b) ?
                                (a.checked = _.inArray(_(a).val(), b) >= 0) :
                                void 0;
                        }
                    }),
                    Y.checkOn ||
                        (_.valHooks[this].get = function(a) {
                            return null === a.getAttribute("value") ? "on" : a.value;
                        });
                }),
                _.each(
                    "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(
                        " "
                    ),
                    function(a, b) {
                        _.fn[b] = function(a, c) {
                            return arguments.length > 0 ?
                                this.on(b, null, a, c) :
                                this.trigger(b);
                        };
                    }
                ),
                _.fn.extend({
                    hover: function(a, b) {
                        return this.mouseenter(a).mouseleave(b || a);
                    },
                    bind: function(a, b, c) {
                        return this.on(a, null, b, c);
                    },
                    unbind: function(a, b) {
                        return this.off(a, null, b);
                    },
                    delegate: function(a, b, c, d) {
                        return this.on(b, a, c, d);
                    },
                    undelegate: function(a, b, c) {
                        return 1 === arguments.length ?
                            this.off(a, "**") :
                            this.off(b, a || "**", c);
                    }
                });
            var jb = _.now(),
                kb = /\?/;
            (_.parseJSON = function(a) {
                return JSON.parse(a + "");
            }),
            (_.parseXML = function(a) {
                var b, c;
                if (!a || "string" != typeof a) return null;
                try {
                    (c = new DOMParser()), (b = c.parseFromString(a, "text/xml"));
                } catch (d) {
                    b = void 0;
                }
                return (
                    (!b || b.getElementsByTagName("parsererror").length) &&
                    _.error("Invalid XML: " + a),
                    b
                );
            });
            var lb = /#.*$/,
                mb = /([?&])_=[^&]*/,
                nb = /^(.*?):[ \t]*([^\r\n]*)$/gm,
                ob = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
                pb = /^(?:GET|HEAD)$/,
                qb = /^\/\//,
                rb = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
                sb = {},
                tb = {},
                ub = "*/".concat("*"),
                vb = a.location.href,
                wb = rb.exec(vb.toLowerCase()) || [];
            _.extend({
                    active: 0,
                    lastModified: {},
                    etag: {},
                    ajaxSettings: {
                        url: vb,
                        type: "GET",
                        isLocal: ob.test(wb[1]),
                        global: !0,
                        processData: !0,
                        async: !0,
                        contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                        accepts: {
                            "*": ub,
                            text: "text/plain",
                            html: "text/html",
                            xml: "application/xml, text/xml",
                            json: "application/json, text/javascript"
                        },
                        contents: { xml: /xml/, html: /html/, json: /json/ },
                        responseFields: {
                            xml: "responseXML",
                            text: "responseText",
                            json: "responseJSON"
                        },
                        converters: {
                            "* text": String,
                            "text html": !0,
                            "text json": _.parseJSON,
                            "text xml": _.parseXML
                        },
                        flatOptions: { url: !0, context: !0 }
                    },
                    ajaxSetup: function(a, b) {
                        return b ? L(L(a, _.ajaxSettings), b) : L(_.ajaxSettings, a);
                    },
                    ajaxPrefilter: J(sb),
                    ajaxTransport: J(tb),
                    ajax: function(a, b) {
                        function c(a, b, c, g) {
                            var i,
                                k,
                                r,
                                s,
                                u,
                                w = b;
                            2 !== t &&
                                ((t = 2),
                                    h && clearTimeout(h),
                                    (d = void 0),
                                    (f = g || ""),
                                    (v.readyState = a > 0 ? 4 : 0),
                                    (i = (a >= 200 && 300 > a) || 304 === a),
                                    c && (s = M(l, v, c)),
                                    (s = N(l, s, v, i)),
                                    i ?
                                    (l.ifModified &&
                                        ((u = v.getResponseHeader("Last-Modified")),
                                            u && (_.lastModified[e] = u),
                                            (u = v.getResponseHeader("etag")),
                                            u && (_.etag[e] = u)),
                                        204 === a || "HEAD" === l.type ?
                                        (w = "nocontent") :
                                        304 === a ?
                                        (w = "notmodified") :
                                        ((w = s.state), (k = s.data), (r = s.error), (i = !r))) :
                                    ((r = w), (a || !w) && ((w = "error"), 0 > a && (a = 0))),
                                    (v.status = a),
                                    (v.statusText = (b || w) + ""),
                                    i ? o.resolveWith(m, [k, w, v]) : o.rejectWith(m, [v, w, r]),
                                    v.statusCode(q),
                                    (q = void 0),
                                    j && n.trigger(i ? "ajaxSuccess" : "ajaxError", [v, l, i ? k : r]),
                                    p.fireWith(m, [v, w]),
                                    j &&
                                    (n.trigger("ajaxComplete", [v, l]),
                                        --_.active || _.event.trigger("ajaxStop")));
                        }
                        "object" == typeof a && ((b = a), (a = void 0)), (b = b || {});
                        var d,
                            e,
                            f,
                            g,
                            h,
                            i,
                            j,
                            k,
                            l = _.ajaxSetup({}, b),
                            m = l.context || l,
                            n = l.context && (m.nodeType || m.jquery) ? _(m) : _.event,
                            o = _.Deferred(),
                            p = _.Callbacks("once memory"),
                            q = l.statusCode || {},
                            r = {},
                            s = {},
                            t = 0,
                            u = "canceled",
                            v = {
                                readyState: 0,
                                getResponseHeader: function(a) {
                                    var b;
                                    if (2 === t) {
                                        if (!g)
                                            for (g = {};
                                                (b = nb.exec(f));) g[b[1].toLowerCase()] = b[2];
                                        b = g[a.toLowerCase()];
                                    }
                                    return null == b ? null : b;
                                },
                                getAllResponseHeaders: function() {
                                    return 2 === t ? f : null;
                                },
                                setRequestHeader: function(a, b) {
                                    var c = a.toLowerCase();
                                    return t || ((a = s[c] = s[c] || a), (r[a] = b)), this;
                                },
                                overrideMimeType: function(a) {
                                    return t || (l.mimeType = a), this;
                                },
                                statusCode: function(a) {
                                    var b;
                                    if (a)
                                        if (2 > t)
                                            for (b in a) q[b] = [q[b], a[b]];
                                        else v.always(a[v.status]);
                                    return this;
                                },
                                abort: function(a) {
                                    var b = a || u;
                                    return d && d.abort(b), c(0, b), this;
                                }
                            };
                        if (
                            ((o.promise(v).complete = p.add),
                                (v.success = v.done),
                                (v.error = v.fail),
                                (l.url = ((a || l.url || vb) + "")
                                    .replace(lb, "")
                                    .replace(qb, wb[1] + "//")),
                                (l.type = b.method || b.type || l.method || l.type),
                                (l.dataTypes = _.trim(l.dataType || "*")
                                    .toLowerCase()
                                    .match(na) || [""]),
                                null == l.crossDomain &&
                                ((i = rb.exec(l.url.toLowerCase())),
                                    (l.crossDomain = !(!i ||
                                        (i[1] === wb[1] &&
                                            i[2] === wb[2] &&
                                            (i[3] || ("http:" === i[1] ? "80" : "443")) ===
                                            (wb[3] || ("http:" === wb[1] ? "80" : "443")))
                                    ))),
                                l.data &&
                                l.processData &&
                                "string" != typeof l.data &&
                                (l.data = _.param(l.data, l.traditional)),
                                K(sb, l, b, v),
                                2 === t)
                        )
                            return v;
                        (j = _.event && l.global),
                        j && 0 === _.active++ && _.event.trigger("ajaxStart"),
                            (l.type = l.type.toUpperCase()),
                            (l.hasContent = !pb.test(l.type)),
                            (e = l.url),
                            l.hasContent ||
                            (l.data &&
                                ((e = l.url += (kb.test(e) ? "&" : "?") + l.data), delete l.data),
                                l.cache === !1 &&
                                (l.url = mb.test(e) ?
                                    e.replace(mb, "$1_=" + jb++) :
                                    e + (kb.test(e) ? "&" : "?") + "_=" + jb++)),
                            l.ifModified &&
                            (_.lastModified[e] &&
                                v.setRequestHeader("If-Modified-Since", _.lastModified[e]),
                                _.etag[e] && v.setRequestHeader("If-None-Match", _.etag[e])),
                            ((l.data && l.hasContent && l.contentType !== !1) || b.contentType) &&
                            v.setRequestHeader("Content-Type", l.contentType),
                            v.setRequestHeader(
                                "Accept",
                                l.dataTypes[0] && l.accepts[l.dataTypes[0]] ?
                                l.accepts[l.dataTypes[0]] +
                                ("*" !== l.dataTypes[0] ? ", " + ub + "; q=0.01" : "") :
                                l.accepts["*"]
                            );
                        for (k in l.headers) v.setRequestHeader(k, l.headers[k]);
                        if (l.beforeSend && (l.beforeSend.call(m, v, l) === !1 || 2 === t))
                            return v.abort();
                        u = "abort";
                        for (k in { success: 1, error: 1, complete: 1 }) v[k](l[k]);
                        if ((d = K(tb, l, b, v))) {
                            (v.readyState = 1),
                            j && n.trigger("ajaxSend", [v, l]),
                                l.async &&
                                l.timeout > 0 &&
                                (h = setTimeout(function() {
                                    v.abort("timeout");
                                }, l.timeout));
                            try {
                                (t = 1), d.send(r, c);
                            } catch (w) {
                                if (!(2 > t)) throw w;
                                c(-1, w);
                            }
                        } else c(-1, "No Transport");
                        return v;
                    },
                    getJSON: function(a, b, c) {
                        return _.get(a, b, c, "json");
                    },
                    getScript: function(a, b) {
                        return _.get(a, void 0, b, "script");
                    }
                }),
                _.each(["get", "post"], function(a, b) {
                    _[b] = function(a, c, d, e) {
                        return (
                            _.isFunction(c) && ((e = e || d), (d = c), (c = void 0)),
                            _.ajax({ url: a, type: b, dataType: e, data: c, success: d })
                        );
                    };
                }),
                (_._evalUrl = function(a) {
                    return _.ajax({
                        url: a,
                        type: "GET",
                        dataType: "script",
                        async: !1,
                        global: !1,
                        throws: !0
                    });
                }),
                _.fn.extend({
                    wrapAll: function(a) {
                        var b;
                        return _.isFunction(a) ?
                            this.each(function(b) {
                                _(this).wrapAll(a.call(this, b));
                            }) :
                            (this[0] &&
                                ((b = _(a, this[0].ownerDocument)
                                        .eq(0)
                                        .clone(!0)),
                                    this[0].parentNode && b.insertBefore(this[0]),
                                    b
                                    .map(function() {
                                        for (var a = this; a.firstElementChild;)
                                            a = a.firstElementChild;
                                        return a;
                                    })
                                    .append(this)),
                                this);
                    },
                    wrapInner: function(a) {
                        return this.each(
                            _.isFunction(a) ?

                            function(b) {
                                _(this).wrapInner(a.call(this, b));
                            } :
                            function() {
                                var b = _(this),
                                    c = b.contents();
                                c.length ? c.wrapAll(a) : b.append(a);
                            }
                        );
                    },
                    wrap: function(a) {
                        var b = _.isFunction(a);
                        return this.each(function(c) {
                            _(this).wrapAll(b ? a.call(this, c) : a);
                        });
                    },
                    unwrap: function() {
                        return this.parent()
                            .each(function() {
                                _.nodeName(this, "body") || _(this).replaceWith(this.childNodes);
                            })
                            .end();
                    }
                }),
                (_.expr.filters.hidden = function(a) {
                    return a.offsetWidth <= 0 && a.offsetHeight <= 0;
                }),
                (_.expr.filters.visible = function(a) {
                    return !_.expr.filters.hidden(a);
                });
            var xb = /%20/g,
                yb = /\[\]$/,
                zb = /\r?\n/g,
                Ab = /^(?:submit|button|image|reset|file)$/i,
                Bb = /^(?:input|select|textarea|keygen)/i;
            (_.param = function(a, b) {
                var c,
                    d = [],
                    e = function(a, b) {
                        (b = _.isFunction(b) ? b() : null == b ? "" : b),
                        (d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b));
                    };
                if (
                    (void 0 === b && (b = _.ajaxSettings && _.ajaxSettings.traditional),
                        _.isArray(a) || (a.jquery && !_.isPlainObject(a)))
                )
                    _.each(a, function() {
                        e(this.name, this.value);
                    });
                else
                    for (c in a) O(c, a[c], b, e);
                return d.join("&").replace(xb, "+");
            }),
            _.fn.extend({
                    serialize: function() {
                        return _.param(this.serializeArray());
                    },
                    serializeArray: function() {
                        return this.map(function() {
                                var a = _.prop(this, "elements");
                                return a ? _.makeArray(a) : this;
                            })
                            .filter(function() {
                                var a = this.type;
                                return (
                                    this.name &&
                                    !_(this).is(":disabled") &&
                                    Bb.test(this.nodeName) &&
                                    !Ab.test(a) &&
                                    (this.checked || !ya.test(a))
                                );
                            })
                            .map(function(a, b) {
                                var c = _(this).val();
                                return null == c ?
                                    null :
                                    _.isArray(c) ?
                                    _.map(c, function(a) {
                                        return { name: b.name, value: a.replace(zb, "\r\n") };
                                    }) : { name: b.name, value: c.replace(zb, "\r\n") };
                            })
                            .get();
                    }
                }),
                (_.ajaxSettings.xhr = function() {
                    try {
                        return new XMLHttpRequest();
                    } catch (a) {}
                });
            var Cb = 0,
                Db = {},
                Eb = { 0: 200, 1223: 204 },
                Fb = _.ajaxSettings.xhr();
            a.attachEvent &&
                a.attachEvent("onunload", function() {
                    for (var a in Db) Db[a]();
                }),
                (Y.cors = !!Fb && "withCredentials" in Fb),
                (Y.ajax = Fb = !!Fb),
                _.ajaxTransport(function(a) {
                    var b;
                    return Y.cors || (Fb && !a.crossDomain) ? {
                            send: function(c, d) {
                                var e,
                                    f = a.xhr(),
                                    g = ++Cb;
                                if (
                                    (f.open(a.type, a.url, a.async, a.username, a.password),
                                        a.xhrFields)
                                )
                                    for (e in a.xhrFields) f[e] = a.xhrFields[e];
                                a.mimeType &&
                                    f.overrideMimeType &&
                                    f.overrideMimeType(a.mimeType),
                                    a.crossDomain ||
                                    c["X-Requested-With"] ||
                                    (c["X-Requested-With"] = "XMLHttpRequest");
                                for (e in c) f.setRequestHeader(e, c[e]);
                                (b = function(a) {
                                    return function() {
                                        b &&
                                            (delete Db[g],
                                                (b = f.onload = f.onerror = null),
                                                "abort" === a ?
                                                f.abort() :
                                                "error" === a ?
                                                d(f.status, f.statusText) :
                                                d(
                                                    Eb[f.status] || f.status,
                                                    f.statusText,
                                                    "string" == typeof f.responseText ? { text: f.responseText } :
                                                    void 0,
                                                    f.getAllResponseHeaders()
                                                ));
                                    };
                                }),
                                (f.onload = b()),
                                (f.onerror = b("error")),
                                (b = Db[g] = b("abort"));
                                try {
                                    f.send((a.hasContent && a.data) || null);
                                } catch (h) {
                                    if (b) throw h;
                                }
                            },
                            abort: function() {
                                b && b();
                            }
                        } :
                        void 0;
                }),
                _.ajaxSetup({
                    accepts: {
                        script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                    },
                    contents: { script: /(?:java|ecma)script/ },
                    converters: {
                        "text script": function(a) {
                            return _.globalEval(a), a;
                        }
                    }
                }),
                _.ajaxPrefilter("script", function(a) {
                    void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET");
                }),
                _.ajaxTransport("script", function(a) {
                    if (a.crossDomain) {
                        var b, c;
                        return {
                            send: function(d, e) {
                                (b = _("<script>")
                                    .prop({ async: !0, charset: a.scriptCharset, src: a.url })
                                    .on(
                                        "load error",
                                        (c = function(a) {
                                            b.remove(),
                                                (c = null),
                                                a && e("error" === a.type ? 404 : 200, a.type);
                                        })
                                    )),
                                Z.head.appendChild(b[0]);
                            },
                            abort: function() {
                                c && c();
                            }
                        };
                    }
                });
            var Gb = [],
                Hb = /(=)\?(?=&|$)|\?\?/;
            _.ajaxSetup({
                    jsonp: "callback",
                    jsonpCallback: function() {
                        var a = Gb.pop() || _.expando + "_" + jb++;
                        return (this[a] = !0), a;
                    }
                }),
                _.ajaxPrefilter("json jsonp", function(b, c, d) {
                    var e,
                        f,
                        g,
                        h =
                        b.jsonp !== !1 &&
                        (Hb.test(b.url) ?
                            "url" :
                            "string" == typeof b.data &&
                            !(b.contentType || "").indexOf(
                                "application/x-www-form-urlencoded"
                            ) &&
                            Hb.test(b.data) &&
                            "data");
                    return h || "jsonp" === b.dataTypes[0] ?
                        ((e = b.jsonpCallback = _.isFunction(b.jsonpCallback) ?
                                b.jsonpCallback() :
                                b.jsonpCallback),
                            h ?
                            (b[h] = b[h].replace(Hb, "$1" + e)) :
                            b.jsonp !== !1 &&
                            (b.url += (kb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e),
                            (b.converters["script json"] = function() {
                                return g || _.error(e + " was not called"), g[0];
                            }),
                            (b.dataTypes[0] = "json"),
                            (f = a[e]),
                            (a[e] = function() {
                                g = arguments;
                            }),
                            d.always(function() {
                                (a[e] = f),
                                b[e] && ((b.jsonpCallback = c.jsonpCallback), Gb.push(e)),
                                    g && _.isFunction(f) && f(g[0]),
                                    (g = f = void 0);
                            }),
                            "script") :
                        void 0;
                }),
                (_.parseHTML = function(a, b, c) {
                    if (!a || "string" != typeof a) return null;
                    "boolean" == typeof b && ((c = b), (b = !1)), (b = b || Z);
                    var d = ga.exec(a),
                        e = !c && [];
                    return d ? [b.createElement(d[1])] :
                        ((d = _.buildFragment([a], b, e)),
                            e && e.length && _(e).remove(),
                            _.merge([], d.childNodes));
                });
            var Ib = _.fn.load;
            (_.fn.load = function(a, b, c) {
                if ("string" != typeof a && Ib) return Ib.apply(this, arguments);
                var d,
                    e,
                    f,
                    g = this,
                    h = a.indexOf(" ");
                return (
                    h >= 0 && ((d = _.trim(a.slice(h))), (a = a.slice(0, h))),
                    _.isFunction(b) ?
                    ((c = b), (b = void 0)) :
                    b && "object" == typeof b && (e = "POST"),
                    g.length > 0 &&
                    _.ajax({ url: a, type: e, dataType: "html", data: b })
                    .done(function(a) {
                        (f = arguments),
                        g.html(
                            d ?
                            _("<div>")
                            .append(_.parseHTML(a))
                            .find(d) :
                            a
                        );
                    })
                    .complete(
                        c &&
                        function(a, b) {
                            g.each(c, f || [a.responseText, b, a]);
                        }
                    ),
                    this
                );
            }),
            _.each(
                    [
                        "ajaxStart",
                        "ajaxStop",
                        "ajaxComplete",
                        "ajaxError",
                        "ajaxSuccess",
                        "ajaxSend"
                    ],
                    function(a, b) {
                        _.fn[b] = function(a) {
                            return this.on(b, a);
                        };
                    }
                ),
                (_.expr.filters.animated = function(a) {
                    return _.grep(_.timers, function(b) {
                        return a === b.elem;
                    }).length;
                });
            var Jb = a.document.documentElement;
            (_.offset = {
                setOffset: function(a, b, c) {
                    var d,
                        e,
                        f,
                        g,
                        h,
                        i,
                        j,
                        k = _.css(a, "position"),
                        l = _(a),
                        m = {};
                    "static" === k && (a.style.position = "relative"),
                        (h = l.offset()),
                        (f = _.css(a, "top")),
                        (i = _.css(a, "left")),
                        (j =
                            ("absolute" === k || "fixed" === k) &&
                            (f + i).indexOf("auto") > -1),
                        j ?
                        ((d = l.position()), (g = d.top), (e = d.left)) :
                        ((g = parseFloat(f) || 0), (e = parseFloat(i) || 0)),
                        _.isFunction(b) && (b = b.call(a, c, h)),
                        null != b.top && (m.top = b.top - h.top + g),
                        null != b.left && (m.left = b.left - h.left + e),
                        "using" in b ? b.using.call(a, m) : l.css(m);
                }
            }),
            _.fn.extend({
                    offset: function(a) {
                        if (arguments.length)
                            return void 0 === a ?
                                this :
                                this.each(function(b) {
                                    _.offset.setOffset(this, a, b);
                                });
                        var b,
                            c,
                            d = this[0],
                            e = { top: 0, left: 0 },
                            f = d && d.ownerDocument;
                        return f ?
                            ((b = f.documentElement),
                                _.contains(b, d) ?
                                (typeof d.getBoundingClientRect !== za &&
                                    (e = d.getBoundingClientRect()),
                                    (c = P(f)), {
                                        top: e.top + c.pageYOffset - b.clientTop,
                                        left: e.left + c.pageXOffset - b.clientLeft
                                    }) :
                                e) :
                            void 0;
                    },
                    position: function() {
                        if (this[0]) {
                            var a,
                                b,
                                c = this[0],
                                d = { top: 0, left: 0 };
                            return (
                                "fixed" === _.css(c, "position") ?
                                (b = c.getBoundingClientRect()) :
                                ((a = this.offsetParent()),
                                    (b = this.offset()),
                                    _.nodeName(a[0], "html") || (d = a.offset()),
                                    (d.top += _.css(a[0], "borderTopWidth", !0)),
                                    (d.left += _.css(a[0], "borderLeftWidth", !0))), {
                                    top: b.top - d.top - _.css(c, "marginTop", !0),
                                    left: b.left - d.left - _.css(c, "marginLeft", !0)
                                }
                            );
                        }
                    },
                    offsetParent: function() {
                        return this.map(function() {
                            for (
                                var a = this.offsetParent || Jb; a && !_.nodeName(a, "html") && "static" === _.css(a, "position");

                            )
                                a = a.offsetParent;
                            return a || Jb;
                        });
                    }
                }),
                _.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function(
                    b,
                    c
                ) {
                    var d = "pageYOffset" === c;
                    _.fn[b] = function(e) {
                        return qa(
                            this,
                            function(b, e, f) {
                                var g = P(b);
                                return void 0 === f ?
                                    g ?
                                    g[c] :
                                    b[e] :
                                    void(g ?
                                        g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) :
                                        (b[e] = f));
                            },
                            b,
                            e,
                            arguments.length,
                            null
                        );
                    };
                }),
                _.each(["top", "left"], function(a, b) {
                    _.cssHooks[b] = w(Y.pixelPosition, function(a, c) {
                        return c ?
                            ((c = v(a, b)), Qa.test(c) ? _(a).position()[b] + "px" : c) :
                            void 0;
                    });
                }),
                _.each({ Height: "height", Width: "width" }, function(a, b) {
                    _.each({ padding: "inner" + a, content: b, "": "outer" + a }, function(
                        c,
                        d
                    ) {
                        _.fn[d] = function(d, e) {
                            var f = arguments.length && (c || "boolean" != typeof d),
                                g = c || (d === !0 || e === !0 ? "margin" : "border");
                            return qa(
                                this,
                                function(b, c, d) {
                                    var e;
                                    return _.isWindow(b) ?
                                        b.document.documentElement["client" + a] :
                                        9 === b.nodeType ?
                                        ((e = b.documentElement),
                                            Math.max(
                                                b.body["scroll" + a],
                                                e["scroll" + a],
                                                b.body["offset" + a],
                                                e["offset" + a],
                                                e["client" + a]
                                            )) :
                                        void 0 === d ?
                                        _.css(b, c, g) :
                                        _.style(b, c, d, g);
                                },
                                b,
                                f ? d : void 0,
                                f,
                                null
                            );
                        };
                    });
                }),
                (_.fn.size = function() {
                    return this.length;
                }),
                (_.fn.andSelf = _.fn.addBack),
                "function" == typeof define &&
                define.amd &&
                define("jquery", [], function() {
                    return _;
                });
            var Kb = a.jQuery,
                Lb = a.$;
            return (
                (_.noConflict = function(b) {
                    return (
                        a.$ === _ && (a.$ = Lb), b && a.jQuery === _ && (a.jQuery = Kb), _
                    );
                }),
                typeof b === za && (a.jQuery = a.$ = _),
                _
            );
        }),
        "undefined" == typeof jQuery)
)
    throw new Error("Bootstrap's JavaScript requires jQuery"); +
(function(a) {
    "use strict";
    var b = a.fn.jquery.split(" ")[0].split(".");
    if (
        (b[0] < 2 && b[1] < 9) ||
        (1 == b[0] && 9 == b[1] && b[2] < 1) ||
        b[0] > 2
    )
        throw new Error(
            "Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3"
        );
})(jQuery), +(function(a) {
    "use strict";

    function b() {
        var a = document.createElement("bootstrap"),
            b = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd otransitionend",
                transition: "transitionend"
            };
        for (var c in b)
            if (void 0 !== a.style[c]) return { end: b[c] };
        return !1;
    }
    (a.fn.emulateTransitionEnd = function(b) {
        var c = !1,
            d = this;
        a(this).one("bsTransitionEnd", function() {
            c = !0;
        });
        var e = function() {
            c || a(d).trigger(a.support.transition.end);
        };
        return setTimeout(e, b), this;
    }),
    a(function() {
        (a.support.transition = b()),
        a.support.transition &&
            (a.event.special.bsTransitionEnd = {
                bindType: a.support.transition.end,
                delegateType: a.support.transition.end,
                handle: function(b) {
                    return a(b.target).is(this) ?
                        b.handleObj.handler.apply(this, arguments) :
                        void 0;
                }
            });
    });
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var c = a(this),
                e = c.data("bs.alert");
            e || c.data("bs.alert", (e = new d(this))),
                "string" == typeof b && e[b].call(c);
        });
    }
    var c = '[data-dismiss="alert"]',
        d = function(b) {
            a(b).on("click", c, this.close);
        };
    (d.VERSION = "3.3.6"),
    (d.TRANSITION_DURATION = 150),
    (d.prototype.close = function(b) {
        function c() {
            g.detach()
                .trigger("closed.bs.alert")
                .remove();
        }
        var e = a(this),
            f = e.attr("data-target");
        f || ((f = e.attr("href")), (f = f && f.replace(/.*(?=#[^\s]*$)/, "")));
        var g = a(f);
        b && b.preventDefault(),
            g.length || (g = e.closest(".alert")),
            g.trigger((b = a.Event("close.bs.alert"))),
            b.isDefaultPrevented() ||
            (g.removeClass("in"),
                a.support.transition && g.hasClass("fade") ?
                g
                .one("bsTransitionEnd", c)
                .emulateTransitionEnd(d.TRANSITION_DURATION) :
                c());
    });
    var e = a.fn.alert;
    (a.fn.alert = b),
    (a.fn.alert.Constructor = d),
    (a.fn.alert.noConflict = function() {
        return (a.fn.alert = e), this;
    }),
    a(document).on("click.bs.alert.data-api", c, d.prototype.close);
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.button"),
                f = "object" == typeof b && b;
            e || d.data("bs.button", (e = new c(this, f))),
                "toggle" == b ? e.toggle() : b && e.setState(b);
        });
    }
    var c = function(b, d) {
        (this.$element = a(b)),
        (this.options = a.extend({}, c.DEFAULTS, d)),
        (this.isLoading = !1);
    };
    (c.VERSION = "3.3.6"),
    (c.DEFAULTS = { loadingText: "loading..." }),
    (c.prototype.setState = function(b) {
        var c = "disabled",
            d = this.$element,
            e = d.is("input") ? "val" : "html",
            f = d.data();
        (b += "Text"),
        null == f.resetText && d.data("resetText", d[e]()),
            setTimeout(
                a.proxy(function() {
                    d[e](null == f[b] ? this.options[b] : f[b]),
                        "loadingText" == b ?
                        ((this.isLoading = !0), d.addClass(c).attr(c, c)) :
                        this.isLoading &&
                        ((this.isLoading = !1), d.removeClass(c).removeAttr(c));
                }, this),
                0
            );
    }),
    (c.prototype.toggle = function() {
        var a = !0,
            b = this.$element.closest('[data-toggle="buttons"]');
        if (b.length) {
            var c = this.$element.find("input");
            "radio" == c.prop("type") ?
                (c.prop("checked") && (a = !1),
                    b.find(".active").removeClass("active"),
                    this.$element.addClass("active")) :
                "checkbox" == c.prop("type") &&
                (c.prop("checked") !== this.$element.hasClass("active") &&
                    (a = !1),
                    this.$element.toggleClass("active")),
                c.prop("checked", this.$element.hasClass("active")),
                a && c.trigger("change");
        } else
            this.$element.attr("aria-pressed", !this.$element.hasClass("active")),
            this.$element.toggleClass("active");
    });
    var d = a.fn.button;
    (a.fn.button = b),
    (a.fn.button.Constructor = c),
    (a.fn.button.noConflict = function() {
        return (a.fn.button = d), this;
    }),
    a(document)
        .on("click.bs.button.data-api", '[data-toggle^="button"]', function(c) {
            var d = a(c.target);
            d.hasClass("btn") || (d = d.closest(".btn")),
                b.call(d, "toggle"),
                a(c.target).is('input[type="radio"]') ||
                a(c.target).is('input[type="checkbox"]') ||
                c.preventDefault();
        })
        .on(
            "focus.bs.button.data-api blur.bs.button.data-api",
            '[data-toggle^="button"]',
            function(b) {
                a(b.target)
                    .closest(".btn")
                    .toggleClass("focus", /^focus(in)?$/.test(b.type));
            }
        );
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.carousel"),
                f = a.extend({}, c.DEFAULTS, d.data(), "object" == typeof b && b),
                g = "string" == typeof b ? b : f.slide;
            e || d.data("bs.carousel", (e = new c(this, f))),
                "number" == typeof b ?
                e.to(b) :
                g ?
                e[g]() :
                f.interval && e.pause().cycle();
        });
    }
    var c = function(b, c) {
        (this.$element = a(b)),
        (this.$indicators = this.$element.find(".carousel-indicators")),
        (this.options = c),
        (this.paused = null),
        (this.sliding = null),
        (this.interval = null),
        (this.$active = null),
        (this.$items = null),
        this.options.keyboard &&
            this.$element.on("keydown.bs.carousel", a.proxy(this.keydown, this)),
            "hover" == this.options.pause &&
            !("ontouchstart" in document.documentElement) &&
            this.$element
            .on("mouseenter.bs.carousel", a.proxy(this.pause, this))
            .on("mouseleave.bs.carousel", a.proxy(this.cycle, this));
    };
    (c.VERSION = "3.3.6"),
    (c.TRANSITION_DURATION = 600),
    (c.DEFAULTS = { interval: 5e3, pause: "hover", wrap: !0, keyboard: !0 }),
    (c.prototype.keydown = function(a) {
        if (!/input|textarea/i.test(a.target.tagName)) {
            switch (a.which) {
                case 37:
                    this.prev();
                    break;
                case 39:
                    this.next();
                    break;
                default:
                    return;
            }
            a.preventDefault();
        }
    }),
    (c.prototype.cycle = function(b) {
        return (
            b || (this.paused = !1),
            this.interval && clearInterval(this.interval),
            this.options.interval &&
            !this.paused &&
            (this.interval = setInterval(
                a.proxy(this.next, this),
                this.options.interval
            )),
            this
        );
    }),
    (c.prototype.getItemIndex = function(a) {
        return (
            (this.$items = a.parent().children(".item")),
            this.$items.index(a || this.$active)
        );
    }),
    (c.prototype.getItemForDirection = function(a, b) {
        var c = this.getItemIndex(b),
            d =
            ("prev" == a && 0 === c) ||
            ("next" == a && c == this.$items.length - 1);
        if (d && !this.options.wrap) return b;
        var e = "prev" == a ? -1 : 1,
            f = (c + e) % this.$items.length;
        return this.$items.eq(f);
    }),
    (c.prototype.to = function(a) {
        var b = this,
            c = this.getItemIndex(
                (this.$active = this.$element.find(".item.active"))
            );
        return a > this.$items.length - 1 || 0 > a ?
            void 0 :
            this.sliding ?
            this.$element.one("slid.bs.carousel", function() {
                b.to(a);
            }) :
            c == a ?
            this.pause().cycle() :
            this.slide(a > c ? "next" : "prev", this.$items.eq(a));
    }),
    (c.prototype.pause = function(b) {
        return (
            b || (this.paused = !0),
            this.$element.find(".next, .prev").length &&
            a.support.transition &&
            (this.$element.trigger(a.support.transition.end), this.cycle(!0)),
            (this.interval = clearInterval(this.interval)),
            this
        );
    }),
    (c.prototype.next = function() {
        return this.sliding ? void 0 : this.slide("next");
    }),
    (c.prototype.prev = function() {
        return this.sliding ? void 0 : this.slide("prev");
    }),
    (c.prototype.slide = function(b, d) {
        var e = this.$element.find(".item.active"),
            f = d || this.getItemForDirection(b, e),
            g = this.interval,
            h = "next" == b ? "left" : "right",
            i = this;
        if (f.hasClass("active")) return (this.sliding = !1);
        var j = f[0],
            k = a.Event("slide.bs.carousel", { relatedTarget: j, direction: h });
        if ((this.$element.trigger(k), !k.isDefaultPrevented())) {
            if (
                ((this.sliding = !0), g && this.pause(), this.$indicators.length)
            ) {
                this.$indicators.find(".active").removeClass("active");
                var l = a(this.$indicators.children()[this.getItemIndex(f)]);
                l && l.addClass("active");
            }
            var m = a.Event("slid.bs.carousel", {
                relatedTarget: j,
                direction: h
            });
            return (
                a.support.transition && this.$element.hasClass("slide") ?
                (f.addClass(b),
                    f[0].offsetWidth,
                    e.addClass(h),
                    f.addClass(h),
                    e
                    .one("bsTransitionEnd", function() {
                        f.removeClass([b, h].join(" ")).addClass("active"),
                            e.removeClass(["active", h].join(" ")),
                            (i.sliding = !1),
                            setTimeout(function() {
                                i.$element.trigger(m);
                            }, 0);
                    })
                    .emulateTransitionEnd(c.TRANSITION_DURATION)) :
                (e.removeClass("active"),
                    f.addClass("active"),
                    (this.sliding = !1),
                    this.$element.trigger(m)),
                g && this.cycle(),
                this
            );
        }
    });
    var d = a.fn.carousel;
    (a.fn.carousel = b),
    (a.fn.carousel.Constructor = c),
    (a.fn.carousel.noConflict = function() {
        return (a.fn.carousel = d), this;
    });
    var e = function(c) {
        var d,
            e = a(this),
            f = a(
                e.attr("data-target") ||
                ((d = e.attr("href")) && d.replace(/.*(?=#[^\s]+$)/, ""))
            );
        if (f.hasClass("carousel")) {
            var g = a.extend({}, f.data(), e.data()),
                h = e.attr("data-slide-to");
            h && (g.interval = !1),
                b.call(f, g),
                h && f.data("bs.carousel").to(h),
                c.preventDefault();
        }
    };
    a(document)
        .on("click.bs.carousel.data-api", "[data-slide]", e)
        .on("click.bs.carousel.data-api", "[data-slide-to]", e),
        a(window).on("load", function() {
            a('[data-ride="carousel"]').each(function() {
                var c = a(this);
                b.call(c, c.data());
            });
        });
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        var c,
            d =
            b.attr("data-target") ||
            ((c = b.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, ""));
        return a(d);
    }

    function c(b) {
        return this.each(function() {
            var c = a(this),
                e = c.data("bs.collapse"),
                f = a.extend({}, d.DEFAULTS, c.data(), "object" == typeof b && b);
            !e && f.toggle && /show|hide/.test(b) && (f.toggle = !1),
                e || c.data("bs.collapse", (e = new d(this, f))),
                "string" == typeof b && e[b]();
        });
    }
    var d = function(b, c) {
        (this.$element = a(b)),
        (this.options = a.extend({}, d.DEFAULTS, c)),
        (this.$trigger = a(
            '[data-toggle="collapse"][href="#' +
            b.id +
            '"],[data-toggle="collapse"][data-target="#' +
            b.id +
            '"]'
        )),
        (this.transitioning = null),
        this.options.parent ?
            (this.$parent = this.getParent()) :
            this.addAriaAndCollapsedClass(this.$element, this.$trigger),
            this.options.toggle && this.toggle();
    };
    (d.VERSION = "3.3.6"),
    (d.TRANSITION_DURATION = 350),
    (d.DEFAULTS = { toggle: !0 }),
    (d.prototype.dimension = function() {
        var a = this.$element.hasClass("width");
        return a ? "width" : "height";
    }),
    (d.prototype.show = function() {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var b,
                e =
                this.$parent &&
                this.$parent.children(".panel").children(".in, .collapsing");
            if (!(
                    e &&
                    e.length &&
                    ((b = e.data("bs.collapse")), b && b.transitioning)
                )) {
                var f = a.Event("show.bs.collapse");
                if ((this.$element.trigger(f), !f.isDefaultPrevented())) {
                    e &&
                        e.length &&
                        (c.call(e, "hide"), b || e.data("bs.collapse", null));
                    var g = this.dimension();
                    this.$element
                        .removeClass("collapse")
                        .addClass("collapsing")[g](0)
                        .attr("aria-expanded", !0),
                        this.$trigger
                        .removeClass("collapsed")
                        .attr("aria-expanded", !0),
                        (this.transitioning = 1);
                    var h = function() {
                        this.$element
                            .removeClass("collapsing")
                            .addClass("collapse in")[g](""),
                            (this.transitioning = 0),
                            this.$element.trigger("shown.bs.collapse");
                    };
                    if (!a.support.transition) return h.call(this);
                    var i = a.camelCase(["scroll", g].join("-"));
                    this.$element
                        .one("bsTransitionEnd", a.proxy(h, this))
                        .emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i]);
                }
            }
        }
    }),
    (d.prototype.hide = function() {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var b = a.Event("hide.bs.collapse");
            if ((this.$element.trigger(b), !b.isDefaultPrevented())) {
                var c = this.dimension();
                this.$element[c](this.$element[c]())[0].offsetHeight,
                    this.$element
                    .addClass("collapsing")
                    .removeClass("collapse in")
                    .attr("aria-expanded", !1),
                    this.$trigger.addClass("collapsed").attr("aria-expanded", !1),
                    (this.transitioning = 1);
                var e = function() {
                    (this.transitioning = 0),
                    this.$element
                        .removeClass("collapsing")
                        .addClass("collapse")
                        .trigger("hidden.bs.collapse");
                };
                return a.support.transition ?
                    void this.$element[c](0)
                    .one("bsTransitionEnd", a.proxy(e, this))
                    .emulateTransitionEnd(d.TRANSITION_DURATION) :
                    e.call(this);
            }
        }
    }),
    (d.prototype.toggle = function() {
        this[this.$element.hasClass("in") ? "hide" : "show"]();
    }),
    (d.prototype.getParent = function() {
        return a(this.options.parent)
            .find(
                '[data-toggle="collapse"][data-parent="' +
                this.options.parent +
                '"]'
            )
            .each(
                a.proxy(function(c, d) {
                    var e = a(d);
                    this.addAriaAndCollapsedClass(b(e), e);
                }, this)
            )
            .end();
    }),
    (d.prototype.addAriaAndCollapsedClass = function(a, b) {
        var c = a.hasClass("in");
        a.attr("aria-expanded", c),
            b.toggleClass("collapsed", !c).attr("aria-expanded", c);
    });
    var e = a.fn.collapse;
    (a.fn.collapse = c),
    (a.fn.collapse.Constructor = d),
    (a.fn.collapse.noConflict = function() {
        return (a.fn.collapse = e), this;
    }),
    a(document).on(
        "click.bs.collapse.data-api",
        '[data-toggle="collapse"]',
        function(d) {
            var e = a(this);
            e.attr("data-target") || d.preventDefault();
            var f = b(e),
                g = f.data("bs.collapse"),
                h = g ? "toggle" : e.data();
            c.call(f, h);
        }
    );
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        var c = b.attr("data-target");
        c ||
            ((c = b.attr("href")),
                (c = c && /#[A-Za-z]/.test(c) && c.replace(/.*(?=#[^\s]*$)/, "")));
        var d = c && a(c);
        return d && d.length ? d : b.parent();
    }

    function c(c) {
        (c && 3 === c.which) ||
        (a(e).remove(),
            a(f).each(function() {
                var d = a(this),
                    e = b(d),
                    f = { relatedTarget: this };
                e.hasClass("open") &&
                    ((c &&
                            "click" == c.type &&
                            /input|textarea/i.test(c.target.tagName) &&
                            a.contains(e[0], c.target)) ||
                        (e.trigger((c = a.Event("hide.bs.dropdown", f))),
                            c.isDefaultPrevented() ||
                            (d.attr("aria-expanded", "false"),
                                e
                                .removeClass("open")
                                .trigger(a.Event("hidden.bs.dropdown", f)))));
            }));
    }

    function d(b) {
        return this.each(function() {
            var c = a(this),
                d = c.data("bs.dropdown");
            d || c.data("bs.dropdown", (d = new g(this))),
                "string" == typeof b && d[b].call(c);
        });
    }
    var e = ".dropdown-backdrop",
        f = '[data-toggle="dropdown"]',
        g = function(b) {
            a(b).on("click.bs.dropdown", this.toggle);
        };
    (g.VERSION = "3.3.6"),
    (g.prototype.toggle = function(d) {
        var e = a(this);
        if (!e.is(".disabled, :disabled")) {
            var f = b(e),
                g = f.hasClass("open");
            if ((c(), !g)) {
                "ontouchstart" in document.documentElement &&
                    !f.closest(".navbar-nav").length &&
                    a(document.createElement("div"))
                    .addClass("dropdown-backdrop")
                    .insertAfter(a(this))
                    .on("click", c);
                var h = { relatedTarget: this };
                if (
                    (f.trigger((d = a.Event("show.bs.dropdown", h))),
                        d.isDefaultPrevented())
                )
                    return;
                e.trigger("focus").attr("aria-expanded", "true"),
                    f.toggleClass("open").trigger(a.Event("shown.bs.dropdown", h));
            }
            return !1;
        }
    }),
    (g.prototype.keydown = function(c) {
        if (
            /(38|40|27|32)/.test(c.which) &&
            !/input|textarea/i.test(c.target.tagName)
        ) {
            var d = a(this);
            if (
                (c.preventDefault(),
                    c.stopPropagation(), !d.is(".disabled, :disabled"))
            ) {
                var e = b(d),
                    g = e.hasClass("open");
                if ((!g && 27 != c.which) || (g && 27 == c.which))
                    return (
                        27 == c.which && e.find(f).trigger("focus"), d.trigger("click")
                    );
                var h = " li:not(.disabled):visible a",
                    i = e.find(".dropdown-menu" + h);
                if (i.length) {
                    var j = i.index(c.target);
                    38 == c.which && j > 0 && j--,
                        40 == c.which && j < i.length - 1 && j++, ~j || (j = 0),
                        i.eq(j).trigger("focus");
                }
            }
        }
    });
    var h = a.fn.dropdown;
    (a.fn.dropdown = d),
    (a.fn.dropdown.Constructor = g),
    (a.fn.dropdown.noConflict = function() {
        return (a.fn.dropdown = h), this;
    }),
    a(document)
        .on("click.bs.dropdown.data-api", c)
        .on("click.bs.dropdown.data-api", ".dropdown form", function(a) {
            a.stopPropagation();
        })
        .on("click.bs.dropdown.data-api", f, g.prototype.toggle)
        .on("keydown.bs.dropdown.data-api", f, g.prototype.keydown)
        .on(
            "keydown.bs.dropdown.data-api",
            ".dropdown-menu",
            g.prototype.keydown
        );
})(jQuery), +(function(a) {
    "use strict";

    function b(b, d) {
        return this.each(function() {
            var e = a(this),
                f = e.data("bs.modal"),
                g = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b);
            f || e.data("bs.modal", (f = new c(this, g))),
                "string" == typeof b ? f[b](d) : g.show && f.show(d);
        });
    }
    var c = function(b, c) {
        (this.options = c),
        (this.$body = a(document.body)),
        (this.$element = a(b)),
        (this.$dialog = this.$element.find(".modal-dialog")),
        (this.$backdrop = null),
        (this.isShown = null),
        (this.originalBodyPad = null),
        (this.scrollbarWidth = 0),
        (this.ignoreBackdropClick = !1),
        this.options.remote &&
            this.$element.find(".modal-content").load(
                this.options.remote,
                a.proxy(function() {
                    this.$element.trigger("loaded.bs.modal");
                }, this)
            );
    };
    (c.VERSION = "3.3.6"),
    (c.TRANSITION_DURATION = 300),
    (c.BACKDROP_TRANSITION_DURATION = 150),
    (c.DEFAULTS = { backdrop: !0, keyboard: !0, show: !0 }),
    (c.prototype.toggle = function(a) {
        return this.isShown ? this.hide() : this.show(a);
    }),
    (c.prototype.show = function(b) {
        var d = this,
            e = a.Event("show.bs.modal", { relatedTarget: b });
        this.$element.trigger(e),
            this.isShown ||
            e.isDefaultPrevented() ||
            ((this.isShown = !0),
                this.checkScrollbar(),
                this.setScrollbar(),
                this.$body.addClass("modal-open"),
                this.escape(),
                this.resize(),
                this.$element.on(
                    "click.dismiss.bs.modal",
                    '[data-dismiss="modal"]',
                    a.proxy(this.hide, this)
                ),
                this.$dialog.on("mousedown.dismiss.bs.modal", function() {
                    d.$element.one("mouseup.dismiss.bs.modal", function(b) {
                        a(b.target).is(d.$element) && (d.ignoreBackdropClick = !0);
                    });
                }),
                this.backdrop(function() {
                    var e = a.support.transition && d.$element.hasClass("fade");
                    d.$element.parent().length || d.$element.appendTo(d.$body),
                        d.$element.show().scrollTop(0),
                        d.adjustDialog(),
                        e && d.$element[0].offsetWidth,
                        d.$element.addClass("in"),
                        d.enforceFocus();
                    var f = a.Event("shown.bs.modal", { relatedTarget: b });
                    e
                        ?
                        d.$dialog
                        .one("bsTransitionEnd", function() {
                            d.$element.trigger("focus").trigger(f);
                        })
                        .emulateTransitionEnd(c.TRANSITION_DURATION) :
                        d.$element.trigger("focus").trigger(f);
                }));
    }),
    (c.prototype.hide = function(b) {
        b && b.preventDefault(),
            (b = a.Event("hide.bs.modal")),
            this.$element.trigger(b),
            this.isShown &&
            !b.isDefaultPrevented() &&
            ((this.isShown = !1),
                this.escape(),
                this.resize(),
                a(document).off("focusin.bs.modal"),
                this.$element
                .removeClass("in")
                .off("click.dismiss.bs.modal")
                .off("mouseup.dismiss.bs.modal"),
                this.$dialog.off("mousedown.dismiss.bs.modal"),
                a.support.transition && this.$element.hasClass("fade") ?
                this.$element
                .one("bsTransitionEnd", a.proxy(this.hideModal, this))
                .emulateTransitionEnd(c.TRANSITION_DURATION) :
                this.hideModal());
    }),
    (c.prototype.enforceFocus = function() {
        a(document)
            .off("focusin.bs.modal")
            .on(
                "focusin.bs.modal",
                a.proxy(function(a) {
                    this.$element[0] === a.target ||
                        this.$element.has(a.target).length ||
                        this.$element.trigger("focus");
                }, this)
            );
    }),
    (c.prototype.escape = function() {
        this.isShown && this.options.keyboard ?
            this.$element.on(
                "keydown.dismiss.bs.modal",
                a.proxy(function(a) {
                    27 == a.which && this.hide();
                }, this)
            ) :
            this.isShown || this.$element.off("keydown.dismiss.bs.modal");
    }),
    (c.prototype.resize = function() {
        this.isShown ?
            a(window).on("resize.bs.modal", a.proxy(this.handleUpdate, this)) :
            a(window).off("resize.bs.modal");
    }),
    (c.prototype.hideModal = function() {
        var a = this;
        this.$element.hide(),
            this.backdrop(function() {
                a.$body.removeClass("modal-open"),
                    a.resetAdjustments(),
                    a.resetScrollbar(),
                    a.$element.trigger("hidden.bs.modal");
            });
    }),
    (c.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove(), (this.$backdrop = null);
    }),
    (c.prototype.backdrop = function(b) {
        var d = this,
            e = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var f = a.support.transition && e;
            if (
                ((this.$backdrop = a(document.createElement("div"))
                        .addClass("modal-backdrop " + e)
                        .appendTo(this.$body)),
                    this.$element.on(
                        "click.dismiss.bs.modal",
                        a.proxy(function(a) {
                            return this.ignoreBackdropClick ?
                                void(this.ignoreBackdropClick = !1) :
                                void(
                                    a.target === a.currentTarget &&
                                    ("static" == this.options.backdrop ?
                                        this.$element[0].focus() :
                                        this.hide())
                                );
                        }, this)
                    ),
                    f && this.$backdrop[0].offsetWidth,
                    this.$backdrop.addClass("in"), !b)
            )
                return;
            f
                ?
                this.$backdrop
                .one("bsTransitionEnd", b)
                .emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) :
                b();
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            var g = function() {
                d.removeBackdrop(), b && b();
            };
            a.support.transition && this.$element.hasClass("fade") ?
                this.$backdrop
                .one("bsTransitionEnd", g)
                .emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) :
                g();
        } else b && b();
    }),
    (c.prototype.handleUpdate = function() {
        this.adjustDialog();
    }),
    (c.prototype.adjustDialog = function() {
        var a =
            this.$element[0].scrollHeight > document.documentElement.clientHeight;
        this.$element.css({
            paddingLeft: !this.bodyIsOverflowing && a ? this.scrollbarWidth : "",
            paddingRight: this.bodyIsOverflowing && !a ? this.scrollbarWidth : ""
        });
    }),
    (c.prototype.resetAdjustments = function() {
        this.$element.css({ paddingLeft: "", paddingRight: "" });
    }),
    (c.prototype.checkScrollbar = function() {
        var a = window.innerWidth;
        if (!a) {
            var b = document.documentElement.getBoundingClientRect();
            a = b.right - Math.abs(b.left);
        }
        (this.bodyIsOverflowing = document.body.clientWidth < a),
        (this.scrollbarWidth = this.measureScrollbar());
    }),
    (c.prototype.setScrollbar = function() {
        var a = parseInt(this.$body.css("padding-right") || 0, 10);
        (this.originalBodyPad = document.body.style.paddingRight || ""),
        this.bodyIsOverflowing &&
            this.$body.css("padding-right", a + this.scrollbarWidth);
    }),
    (c.prototype.resetScrollbar = function() {
        this.$body.css("padding-right", this.originalBodyPad);
    }),
    (c.prototype.measureScrollbar = function() {
        var a = document.createElement("div");
        (a.className = "modal-scrollbar-measure"), this.$body.append(a);
        var b = a.offsetWidth - a.clientWidth;
        return this.$body[0].removeChild(a), b;
    });
    var d = a.fn.modal;
    (a.fn.modal = b),
    (a.fn.modal.Constructor = c),
    (a.fn.modal.noConflict = function() {
        return (a.fn.modal = d), this;
    }),
    a(document).on(
        "click.bs.modal.data-api",
        '[data-toggle="modal"]',
        function(c) {
            var d = a(this),
                e = d.attr("href"),
                f = a(
                    d.attr("data-target") || (e && e.replace(/.*(?=#[^\s]+$)/, ""))
                ),
                g = f.data("bs.modal") ?
                "toggle" :
                a.extend({ remote: !/#/.test(e) && e }, f.data(), d.data());
            d.is("a") && c.preventDefault(),
                f.one("show.bs.modal", function(a) {
                    a.isDefaultPrevented() ||
                        f.one("hidden.bs.modal", function() {
                            d.is(":visible") && d.trigger("focus");
                        });
                }),
                b.call(f, g, this);
        }
    );
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.tooltip"),
                f = "object" == typeof b && b;
            (e || !/destroy|hide/.test(b)) &&
            (e || d.data("bs.tooltip", (e = new c(this, f))),
                "string" == typeof b && e[b]());
        });
    }
    var c = function(a, b) {
        (this.type = null),
        (this.options = null),
        (this.enabled = null),
        (this.timeout = null),
        (this.hoverState = null),
        (this.$element = null),
        (this.inState = null),
        this.init("tooltip", a, b);
    };
    (c.VERSION = "3.3.6"),
    (c.TRANSITION_DURATION = 150),
    (c.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: { selector: "body", padding: 0 }
    }),
    (c.prototype.init = function(b, c, d) {
        if (
            ((this.enabled = !0),
                (this.type = b),
                (this.$element = a(c)),
                (this.options = this.getOptions(d)),
                (this.$viewport =
                    this.options.viewport &&
                    a(
                        a.isFunction(this.options.viewport) ?
                        this.options.viewport.call(this, this.$element) :
                        this.options.viewport.selector || this.options.viewport
                    )),
                (this.inState = { click: !1, hover: !1, focus: !1 }),
                this.$element[0] instanceof document.constructor &&
                !this.options.selector)
        )
            throw new Error(
                "`selector` option must be specified when initializing " +
                this.type +
                " on the window.document object!"
            );
        for (var e = this.options.trigger.split(" "), f = e.length; f--;) {
            var g = e[f];
            if ("click" == g)
                this.$element.on(
                    "click." + this.type,
                    this.options.selector,
                    a.proxy(this.toggle, this)
                );
            else if ("manual" != g) {
                var h = "hover" == g ? "mouseenter" : "focusin",
                    i = "hover" == g ? "mouseleave" : "focusout";
                this.$element.on(
                        h + "." + this.type,
                        this.options.selector,
                        a.proxy(this.enter, this)
                    ),
                    this.$element.on(
                        i + "." + this.type,
                        this.options.selector,
                        a.proxy(this.leave, this)
                    );
            }
        }
        this.options.selector ?
            (this._options = a.extend({}, this.options, {
                trigger: "manual",
                selector: ""
            })) :
            this.fixTitle();
    }),
    (c.prototype.getDefaults = function() {
        return c.DEFAULTS;
    }),
    (c.prototype.getOptions = function(b) {
        return (
            (b = a.extend({}, this.getDefaults(), this.$element.data(), b)),
            b.delay &&
            "number" == typeof b.delay &&
            (b.delay = { show: b.delay, hide: b.delay }),
            b
        );
    }),
    (c.prototype.getDelegateOptions = function() {
        var b = {},
            c = this.getDefaults();
        return (
            this._options &&
            a.each(this._options, function(a, d) {
                c[a] != d && (b[a] = d);
            }),
            b
        );
    }),
    (c.prototype.enter = function(b) {
        var c =
            b instanceof this.constructor ?
            b :
            a(b.currentTarget).data("bs." + this.type);
        return (
            c ||
            ((c = new this.constructor(
                    b.currentTarget,
                    this.getDelegateOptions()
                )),
                a(b.currentTarget).data("bs." + this.type, c)),
            b instanceof a.Event &&
            (c.inState["focusin" == b.type ? "focus" : "hover"] = !0),
            c.tip().hasClass("in") || "in" == c.hoverState ?
            void(c.hoverState = "in") :
            (clearTimeout(c.timeout),
                (c.hoverState = "in"),
                c.options.delay && c.options.delay.show ?
                void(c.timeout = setTimeout(function() {
                    "in" == c.hoverState && c.show();
                }, c.options.delay.show)) :
                c.show())
        );
    }),
    (c.prototype.isInStateTrue = function() {
        for (var a in this.inState)
            if (this.inState[a]) return !0;
        return !1;
    }),
    (c.prototype.leave = function(b) {
        var c =
            b instanceof this.constructor ?
            b :
            a(b.currentTarget).data("bs." + this.type);
        return (
            c ||
            ((c = new this.constructor(
                    b.currentTarget,
                    this.getDelegateOptions()
                )),
                a(b.currentTarget).data("bs." + this.type, c)),
            b instanceof a.Event &&
            (c.inState["focusout" == b.type ? "focus" : "hover"] = !1),
            c.isInStateTrue() ?
            void 0 :
            (clearTimeout(c.timeout),
                (c.hoverState = "out"),
                c.options.delay && c.options.delay.hide ?
                void(c.timeout = setTimeout(function() {
                    "out" == c.hoverState && c.hide();
                }, c.options.delay.hide)) :
                c.hide())
        );
    }),
    (c.prototype.show = function() {
        var b = a.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(b);
            var d = a.contains(
                this.$element[0].ownerDocument.documentElement,
                this.$element[0]
            );
            if (b.isDefaultPrevented() || !d) return;
            var e = this,
                f = this.tip(),
                g = this.getUID(this.type);
            this.setContent(),
                f.attr("id", g),
                this.$element.attr("aria-describedby", g),
                this.options.animation && f.addClass("fade");
            var h =
                "function" == typeof this.options.placement ?
                this.options.placement.call(this, f[0], this.$element[0]) :
                this.options.placement,
                i = /\s?auto?\s?/i,
                j = i.test(h);
            j && (h = h.replace(i, "") || "top"),
                f
                .detach()
                .css({ top: 0, left: 0, display: "block" })
                .addClass(h)
                .data("bs." + this.type, this),
                this.options.container ?
                f.appendTo(this.options.container) :
                f.insertAfter(this.$element),
                this.$element.trigger("inserted.bs." + this.type);
            var k = this.getPosition(),
                l = f[0].offsetWidth,
                m = f[0].offsetHeight;
            if (j) {
                var n = h,
                    o = this.getPosition(this.$viewport);
                (h =
                    "bottom" == h && k.bottom + m > o.bottom ?
                    "top" :
                    "top" == h && k.top - m < o.top ?
                    "bottom" :
                    "right" == h && k.right + l > o.width ?
                    "left" :
                    "left" == h && k.left - l < o.left ?
                    "right" :
                    h),
                f.removeClass(n).addClass(h);
            }
            var p = this.getCalculatedOffset(h, k, l, m);
            this.applyPlacement(p, h);
            var q = function() {
                var a = e.hoverState;
                e.$element.trigger("shown.bs." + e.type),
                    (e.hoverState = null),
                    "out" == a && e.leave(e);
            };
            a.support.transition && this.$tip.hasClass("fade") ?
                f
                .one("bsTransitionEnd", q)
                .emulateTransitionEnd(c.TRANSITION_DURATION) :
                q();
        }
    }),
    (c.prototype.applyPlacement = function(b, c) {
        var d = this.tip(),
            e = d[0].offsetWidth,
            f = d[0].offsetHeight,
            g = parseInt(d.css("margin-top"), 10),
            h = parseInt(d.css("margin-left"), 10);
        isNaN(g) && (g = 0),
            isNaN(h) && (h = 0),
            (b.top += g),
            (b.left += h),
            a.offset.setOffset(
                d[0],
                a.extend({
                        using: function(a) {
                            d.css({ top: Math.round(a.top), left: Math.round(a.left) });
                        }
                    },
                    b
                ),
                0
            ),
            d.addClass("in");
        var i = d[0].offsetWidth,
            j = d[0].offsetHeight;
        "top" == c && j != f && (b.top = b.top + f - j);
        var k = this.getViewportAdjustedDelta(c, b, i, j);
        k.left ? (b.left += k.left) : (b.top += k.top);
        var l = /top|bottom/.test(c),
            m = l ? 2 * k.left - e + i : 2 * k.top - f + j,
            n = l ? "offsetWidth" : "offsetHeight";
        d.offset(b), this.replaceArrow(m, d[0][n], l);
    }),
    (c.prototype.replaceArrow = function(a, b, c) {
        this.arrow()
            .css(c ? "left" : "top", 50 * (1 - a / b) + "%")
            .css(c ? "top" : "left", "");
    }),
    (c.prototype.setContent = function() {
        var a = this.tip(),
            b = this.getTitle();
        a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b),
            a.removeClass("fade in top bottom left right");
    }),
    (c.prototype.hide = function(b) {
        function d() {
            "in" != e.hoverState && f.detach(),
                e.$element
                .removeAttr("aria-describedby")
                .trigger("hidden.bs." + e.type),
                b && b();
        }
        var e = this,
            f = a(this.$tip),
            g = a.Event("hide.bs." + this.type);
        return (
            this.$element.trigger(g),
            g.isDefaultPrevented() ?
            void 0 :
            (f.removeClass("in"),
                a.support.transition && f.hasClass("fade") ?
                f
                .one("bsTransitionEnd", d)
                .emulateTransitionEnd(c.TRANSITION_DURATION) :
                d(),
                (this.hoverState = null),
                this)
        );
    }),
    (c.prototype.fixTitle = function() {
        var a = this.$element;
        (a.attr("title") || "string" != typeof a.attr("data-original-title")) &&
        a
            .attr("data-original-title", a.attr("title") || "")
            .attr("title", "");
    }),
    (c.prototype.hasContent = function() {
        return this.getTitle();
    }),
    (c.prototype.getPosition = function(b) {
        b = b || this.$element;
        var c = b[0],
            d = "BODY" == c.tagName,
            e = c.getBoundingClientRect();
        null == e.width &&
            (e = a.extend({}, e, {
                width: e.right - e.left,
                height: e.bottom - e.top
            }));
        var f = d ? { top: 0, left: 0 } : b.offset(),
            g = {
                scroll: d ?
                    document.documentElement.scrollTop || document.body.scrollTop : b.scrollTop()
            },
            h = d ? { width: a(window).width(), height: a(window).height() } :
            null;
        return a.extend({}, e, g, h, f);
    }),
    (c.prototype.getCalculatedOffset = function(a, b, c, d) {
        return "bottom" == a ? { top: b.top + b.height, left: b.left + b.width / 2 - c / 2 } :
            "top" == a ? { top: b.top - d, left: b.left + b.width / 2 - c / 2 } :
            "left" == a ? { top: b.top + b.height / 2 - d / 2, left: b.left - c } : { top: b.top + b.height / 2 - d / 2, left: b.left + b.width };
    }),
    (c.prototype.getViewportAdjustedDelta = function(a, b, c, d) {
        var e = { top: 0, left: 0 };
        if (!this.$viewport) return e;
        var f = (this.options.viewport && this.options.viewport.padding) || 0,
            g = this.getPosition(this.$viewport);
        if (/right|left/.test(a)) {
            var h = b.top - f - g.scroll,
                i = b.top + f - g.scroll + d;
            h < g.top ?
                (e.top = g.top - h) :
                i > g.top + g.height && (e.top = g.top + g.height - i);
        } else {
            var j = b.left - f,
                k = b.left + f + c;
            j < g.left ?
                (e.left = g.left - j) :
                k > g.right && (e.left = g.left + g.width - k);
        }
        return e;
    }),
    (c.prototype.getTitle = function() {
        var a,
            b = this.$element,
            c = this.options;
        return (a =
            b.attr("data-original-title") ||
            ("function" == typeof c.title ? c.title.call(b[0]) : c.title));
    }),
    (c.prototype.getUID = function(a) {
        do a += ~~(1e6 * Math.random());
        while (document.getElementById(a));
        return a;
    }),
    (c.prototype.tip = function() {
        if (!this.$tip &&
            ((this.$tip = a(this.options.template)), 1 != this.$tip.length)
        )
            throw new Error(
                this.type +
                " `template` option must consist of exactly 1 top-level element!"
            );
        return this.$tip;
    }),
    (c.prototype.arrow = function() {
        return (this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow"));
    }),
    (c.prototype.enable = function() {
        this.enabled = !0;
    }),
    (c.prototype.disable = function() {
        this.enabled = !1;
    }),
    (c.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled;
    }),
    (c.prototype.toggle = function(b) {
        var c = this;
        b &&
            ((c = a(b.currentTarget).data("bs." + this.type)),
                c ||
                ((c = new this.constructor(
                        b.currentTarget,
                        this.getDelegateOptions()
                    )),
                    a(b.currentTarget).data("bs." + this.type, c))),
            b ?
            ((c.inState.click = !c.inState.click),
                c.isInStateTrue() ? c.enter(c) : c.leave(c)) :
            c.tip().hasClass("in") ?
            c.leave(c) :
            c.enter(c);
    }),
    (c.prototype.destroy = function() {
        var a = this;
        clearTimeout(this.timeout),
            this.hide(function() {
                a.$element.off("." + a.type).removeData("bs." + a.type),
                    a.$tip && a.$tip.detach(),
                    (a.$tip = null),
                    (a.$arrow = null),
                    (a.$viewport = null);
            });
    });
    var d = a.fn.tooltip;
    (a.fn.tooltip = b),
    (a.fn.tooltip.Constructor = c),
    (a.fn.tooltip.noConflict = function() {
        return (a.fn.tooltip = d), this;
    });
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.popover"),
                f = "object" == typeof b && b;
            (e || !/destroy|hide/.test(b)) &&
            (e || d.data("bs.popover", (e = new c(this, f))),
                "string" == typeof b && e[b]());
        });
    }
    var c = function(a, b) {
        this.init("popover", a, b);
    };
    if (!a.fn.tooltip) throw new Error("Popover requires tooltip.js");
    (c.VERSION = "3.3.6"),
    (c.DEFAULTS = a.extend({}, a.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    })),
    (c.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype)),
    (c.prototype.constructor = c),
    (c.prototype.getDefaults = function() {
        return c.DEFAULTS;
    }),
    (c.prototype.setContent = function() {
        var a = this.tip(),
            b = this.getTitle(),
            c = this.getContent();
        a.find(".popover-title")[this.options.html ? "html" : "text"](b),
            a
            .find(".popover-content")
            .children()
            .detach()
            .end()[
                this.options.html ?
                "string" == typeof c ?
                "html" :
                "append" :
                "text"
            ](c),
            a.removeClass("fade top bottom left right in"),
            a.find(".popover-title").html() || a.find(".popover-title").hide();
    }),
    (c.prototype.hasContent = function() {
        return this.getTitle() || this.getContent();
    }),
    (c.prototype.getContent = function() {
        var a = this.$element,
            b = this.options;
        return (
            a.attr("data-content") ||
            ("function" == typeof b.content ? b.content.call(a[0]) : b.content)
        );
    }),
    (c.prototype.arrow = function() {
        return (this.$arrow = this.$arrow || this.tip().find(".arrow"));
    });
    var d = a.fn.popover;
    (a.fn.popover = b),
    (a.fn.popover.Constructor = c),
    (a.fn.popover.noConflict = function() {
        return (a.fn.popover = d), this;
    });
})(jQuery), +(function(a) {
    "use strict";

    function b(c, d) {
        (this.$body = a(document.body)),
        (this.$scrollElement = a(a(c).is(document.body) ? window : c)),
        (this.options = a.extend({}, b.DEFAULTS, d)),
        (this.selector = (this.options.target || "") + " .nav li > a"),
        (this.offsets = []),
        (this.targets = []),
        (this.activeTarget = null),
        (this.scrollHeight = 0),
        this.$scrollElement.on(
                "scroll.bs.scrollspy",
                a.proxy(this.process, this)
            ),
            this.refresh(),
            this.process();
    }

    function c(c) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.scrollspy"),
                f = "object" == typeof c && c;
            e || d.data("bs.scrollspy", (e = new b(this, f))),
                "string" == typeof c && e[c]();
        });
    }
    (b.VERSION = "3.3.6"),
    (b.DEFAULTS = { offset: 10 }),
    (b.prototype.getScrollHeight = function() {
        return (
            this.$scrollElement[0].scrollHeight ||
            Math.max(
                this.$body[0].scrollHeight,
                document.documentElement.scrollHeight
            )
        );
    }),
    (b.prototype.refresh = function() {
        var b = this,
            c = "offset",
            d = 0;
        (this.offsets = []),
        (this.targets = []),
        (this.scrollHeight = this.getScrollHeight()),
        a.isWindow(this.$scrollElement[0]) ||
            ((c = "position"), (d = this.$scrollElement.scrollTop())),
            this.$body
            .find(this.selector)
            .map(function() {
                var b = a(this),
                    e = b.data("target") || b.attr("href"),
                    f = /^#./.test(e) && a(e);
                return (
                    (f && f.length && f.is(":visible") && [
                        [f[c]().top + d, e]
                    ]) ||
                    null
                );
            })
            .sort(function(a, b) {
                return a[0] - b[0];
            })
            .each(function() {
                b.offsets.push(this[0]), b.targets.push(this[1]);
            });
    }),
    (b.prototype.process = function() {
        var a,
            b = this.$scrollElement.scrollTop() + this.options.offset,
            c = this.getScrollHeight(),
            d = this.options.offset + c - this.$scrollElement.height(),
            e = this.offsets,
            f = this.targets,
            g = this.activeTarget;
        if ((this.scrollHeight != c && this.refresh(), b >= d))
            return g != (a = f[f.length - 1]) && this.activate(a);
        if (g && b < e[0]) return (this.activeTarget = null), this.clear();
        for (a = e.length; a--;)
            g != f[a] &&
            b >= e[a] &&
            (void 0 === e[a + 1] || b < e[a + 1]) &&
            this.activate(f[a]);
    }),
    (b.prototype.activate = function(b) {
        (this.activeTarget = b), this.clear();
        var c =
            this.selector +
            '[data-target="' +
            b +
            '"],' +
            this.selector +
            '[href="' +
            b +
            '"]',
            d = a(c)
            .parents("li")
            .addClass("active");
        d.parent(".dropdown-menu").length &&
            (d = d.closest("li.dropdown").addClass("active")),
            d.trigger("activate.bs.scrollspy");
    }),
    (b.prototype.clear = function() {
        a(this.selector)
            .parentsUntil(this.options.target, ".active")
            .removeClass("active");
    });
    var d = a.fn.scrollspy;
    (a.fn.scrollspy = c),
    (a.fn.scrollspy.Constructor = b),
    (a.fn.scrollspy.noConflict = function() {
        return (a.fn.scrollspy = d), this;
    }),
    a(window).on("load.bs.scrollspy.data-api", function() {
        a('[data-spy="scroll"]').each(function() {
            var b = a(this);
            c.call(b, b.data());
        });
    });
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.tab");
            e || d.data("bs.tab", (e = new c(this))),
                "string" == typeof b && e[b]();
        });
    }
    var c = function(b) {
        this.element = a(b);
    };
    (c.VERSION = "3.3.6"),
    (c.TRANSITION_DURATION = 150),
    (c.prototype.show = function() {
        var b = this.element,
            c = b.closest("ul:not(.dropdown-menu)"),
            d = b.data("target");
        if (
            (d ||
                ((d = b.attr("href")), (d = d && d.replace(/.*(?=#[^\s]*$)/, ""))), !b.parent("li").hasClass("active"))
        ) {
            var e = c.find(".active:last a"),
                f = a.Event("hide.bs.tab", { relatedTarget: b[0] }),
                g = a.Event("show.bs.tab", { relatedTarget: e[0] });
            if (
                (e.trigger(f),
                    b.trigger(g), !g.isDefaultPrevented() && !f.isDefaultPrevented())
            ) {
                var h = a(d);
                this.activate(b.closest("li"), c),
                    this.activate(h, h.parent(), function() {
                        e.trigger({ type: "hidden.bs.tab", relatedTarget: b[0] }),
                            b.trigger({ type: "shown.bs.tab", relatedTarget: e[0] });
                    });
            }
        }
    }),
    (c.prototype.activate = function(b, d, e) {
        function f() {
            g
                .removeClass("active")
                .find("> .dropdown-menu > .active")
                .removeClass("active")
                .end()
                .find('[data-toggle="tab"]')
                .attr("aria-expanded", !1),
                b
                .addClass("active")
                .find('[data-toggle="tab"]')
                .attr("aria-expanded", !0),
                h ? (b[0].offsetWidth, b.addClass("in")) : b.removeClass("fade"),
                b.parent(".dropdown-menu").length &&
                b
                .closest("li.dropdown")
                .addClass("active")
                .end()
                .find('[data-toggle="tab"]')
                .attr("aria-expanded", !0),
                e && e();
        }
        var g = d.find("> .active"),
            h =
            e &&
            a.support.transition &&
            ((g.length && g.hasClass("fade")) || !!d.find("> .fade").length);
        g.length && h ?
            g
            .one("bsTransitionEnd", f)
            .emulateTransitionEnd(c.TRANSITION_DURATION) :
            f(),
            g.removeClass("in");
    });
    var d = a.fn.tab;
    (a.fn.tab = b),
    (a.fn.tab.Constructor = c),
    (a.fn.tab.noConflict = function() {
        return (a.fn.tab = d), this;
    });
    var e = function(c) {
        c.preventDefault(), b.call(a(this), "show");
    };
    a(document)
        .on("click.bs.tab.data-api", '[data-toggle="tab"]', e)
        .on("click.bs.tab.data-api", '[data-toggle="pill"]', e);
})(jQuery), +(function(a) {
    "use strict";

    function b(b) {
        return this.each(function() {
            var d = a(this),
                e = d.data("bs.affix"),
                f = "object" == typeof b && b;
            e || d.data("bs.affix", (e = new c(this, f))),
                "string" == typeof b && e[b]();
        });
    }
    var c = function(b, d) {
        (this.options = a.extend({}, c.DEFAULTS, d)),
        (this.$target = a(this.options.target)
            .on("scroll.bs.affix.data-api", a.proxy(this.checkPosition, this))
            .on(
                "click.bs.affix.data-api",
                a.proxy(this.checkPositionWithEventLoop, this)
            )),
        (this.$element = a(b)),
        (this.affixed = null),
        (this.unpin = null),
        (this.pinnedOffset = null),
        this.checkPosition();
    };
    (c.VERSION = "3.3.6"),
    (c.RESET = "affix affix-top affix-bottom"),
    (c.DEFAULTS = { offset: 0, target: window }),
    (c.prototype.getState = function(a, b, c, d) {
        var e = this.$target.scrollTop(),
            f = this.$element.offset(),
            g = this.$target.height();
        if (null != c && "top" == this.affixed) return c > e ? "top" : !1;
        if ("bottom" == this.affixed)
            return null != c ?
                e + this.unpin <= f.top ?
                !1 :
                "bottom" :
                a - d >= e + g ?
                !1 :
                "bottom";
        var h = null == this.affixed,
            i = h ? e : f.top,
            j = h ? g : b;
        return null != c && c >= e ?
            "top" :
            null != d && i + j >= a - d ?
            "bottom" :
            !1;
    }),
    (c.prototype.getPinnedOffset = function() {
        if (this.pinnedOffset) return this.pinnedOffset;
        this.$element.removeClass(c.RESET).addClass("affix");
        var a = this.$target.scrollTop(),
            b = this.$element.offset();
        return (this.pinnedOffset = b.top - a);
    }),
    (c.prototype.checkPositionWithEventLoop = function() {
        setTimeout(a.proxy(this.checkPosition, this), 1);
    }),
    (c.prototype.checkPosition = function() {
        if (this.$element.is(":visible")) {
            var b = this.$element.height(),
                d = this.options.offset,
                e = d.top,
                f = d.bottom,
                g = Math.max(a(document).height(), a(document.body).height());
            "object" != typeof d && (f = e = d),
                "function" == typeof e && (e = d.top(this.$element)),
                "function" == typeof f && (f = d.bottom(this.$element));
            var h = this.getState(g, b, e, f);
            if (this.affixed != h) {
                null != this.unpin && this.$element.css("top", "");
                var i = "affix" + (h ? "-" + h : ""),
                    j = a.Event(i + ".bs.affix");
                if ((this.$element.trigger(j), j.isDefaultPrevented())) return;
                (this.affixed = h),
                (this.unpin = "bottom" == h ? this.getPinnedOffset() : null),
                this.$element
                    .removeClass(c.RESET)
                    .addClass(i)
                    .trigger(i.replace("affix", "affixed") + ".bs.affix");
            }
            "bottom" == h && this.$element.offset({ top: g - b - f });
        }
    });
    var d = a.fn.affix;
    (a.fn.affix = b),
    (a.fn.affix.Constructor = c),
    (a.fn.affix.noConflict = function() {
        return (a.fn.affix = d), this;
    }),
    a(window).on("load", function() {
        a('[data-spy="affix"]').each(function() {
            var c = a(this),
                d = c.data();
            (d.offset = d.offset || {}),
            null != d.offsetBottom && (d.offset.bottom = d.offsetBottom),
                null != d.offsetTop && (d.offset.top = d.offsetTop),
                b.call(c, d);
        });
    });
})(jQuery),
(function(a) {
    "use strict";

    function b(a) {
        return new RegExp("(^|\\s+)" + a + "(\\s+|$)");
    }

    function c(a, b) {
        var c = d(a, b) ? f : e;
        c(a, b);
    }
    var d, e, f;
    "classList" in document.documentElement ?
        ((d = function(a, b) {
                return a.classList.contains(b);
            }),
            (e = function(a, b) {
                a.classList.add(b);
            }),
            (f = function(a, b) {
                a.classList.remove(b);
            })) :
        ((d = function(a, c) {
                return b(c).test(a.className);
            }),
            (e = function(a, b) {
                d(a, b) || (a.className = a.className + " " + b);
            }),
            (f = function(a, c) {
                a.className = a.className.replace(b(c), " ");
            }));
    var g = {
        hasClass: d,
        addClass: e,
        removeClass: f,
        toggleClass: c,
        has: d,
        add: e,
        remove: f,
        toggle: c
    };
    "function" == typeof define && define.amd ? define(g) : (a.classie = g);
})(window), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    var b = function(c, d) {
        (this.id = ++a.FE.ID),
        (this.opts = a.extend(!0, {},
            a.extend({}, b.DEFAULTS, "object" == typeof d && d)
        ));
        var e = JSON.stringify(this.opts);
        (a.FE.OPTS_MAPPING[e] = a.FE.OPTS_MAPPING[e] || this.id),
        (this.sid = a.FE.OPTS_MAPPING[e]),
        (a.FE.SHARED[this.sid] = a.FE.SHARED[this.sid] || {}),
        (this.shared = a.FE.SHARED[this.sid]),
        (this.shared.count = (this.shared.count || 0) + 1),
        (this.$oel = a(c)),
        this.$oel.data("froala.editor", this),
            (this.o_doc = c.ownerDocument),
            (this.o_win =
                "defaultView" in this.o_doc ?
                this.o_doc.defaultView :
                this.o_doc.parentWindow);
        var f = a(this.o_win).scrollTop();
        this.$oel.on(
                "froala.doInit",
                a.proxy(function() {
                    this.$oel.off("froala.doInit"),
                        (this.doc = this.$el.get(0).ownerDocument),
                        (this.win =
                            "defaultView" in this.doc ?
                            this.doc.defaultView :
                            this.doc.parentWindow),
                        (this.$doc = a(this.doc)),
                        (this.$win = a(this.win)),
                        this.opts.pluginsEnabled ||
                        (this.opts.pluginsEnabled = Object.keys(a.FE.PLUGINS)),
                        this.opts.initOnClick ?
                        (this.load(a.FE.MODULES),
                            this.$el.on("touchstart.init", function() {
                                a(this).data("touched", !0);
                            }),
                            this.$el.on("touchmove.init", function() {
                                a(this).removeData("touched");
                            }),
                            this.$el.on(
                                "mousedown.init touchend.init dragenter.init focus.init",
                                a.proxy(function(b) {
                                    if ("touchend" == b.type && !this.$el.data("touched"))
                                        return !0;
                                    if (1 === b.which || 0 === b.which) {
                                        this.$el.off(
                                                "mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"
                                            ),
                                            this.load(a.FE.MODULES),
                                            this.load(a.FE.PLUGINS);
                                        var c = b.originalEvent && b.originalEvent.originalTarget;
                                        c && "IMG" == c.tagName && a(c).trigger("mousedown"),
                                            "undefined" == typeof this.ul && this.destroy(),
                                            "touchend" == b.type &&
                                            this.image &&
                                            b.originalEvent &&
                                            b.originalEvent.target &&
                                            a(b.originalEvent.target).is("img") &&
                                            setTimeout(
                                                a.proxy(function() {
                                                    this.image.edit(a(b.originalEvent.target));
                                                }, this),
                                                100
                                            ),
                                            this.events.trigger("initialized");
                                    }
                                }, this)
                            )) :
                        (this.load(a.FE.MODULES),
                            this.load(a.FE.PLUGINS),
                            a(this.o_win).scrollTop(f),
                            "undefined" == typeof this.ul && this.destroy(),
                            this.events.trigger("initialized"));
                }, this)
            ),
            this._init();
    };
    (b.DEFAULTS = { initOnClick: !1, pluginsEnabled: null }),
    (b.MODULES = {}),
    (b.PLUGINS = {}),
    (b.VERSION = "2.3.4"),
    (b.INSTANCES = []),
    (b.OPTS_MAPPING = {}),
    (b.SHARED = {}),
    (b.ID = 0),
    (b.prototype._init = function() {
        var b = this.$oel.prop("tagName"),
            c = a.proxy(function() {
                (this._original_html = this._original_html || this.$oel.html()),
                (this.$box = this.$box || this.$oel),
                this.opts.fullPage && (this.opts.iframe = !0),
                    this.opts.iframe ?
                    ((this.$iframe = a(
                            '<iframe src="about:blank" frameBorder="0">'
                        )),
                        (this.$wp = a("<div></div>")),
                        this.$box.html(this.$wp),
                        this.$wp.append(this.$iframe),
                        this.$iframe.get(0).contentWindow.document.open(),
                        this.$iframe
                        .get(0)
                        .contentWindow.document.write("<!DOCTYPE html>"),
                        this.$iframe
                        .get(0)
                        .contentWindow.document.write(
                            "<html><head></head><body></body></html>"
                        ),
                        this.$iframe.get(0).contentWindow.document.close(),
                        (this.$el = this.$iframe.contents().find("body")),
                        (this.$head = this.$iframe.contents().find("head")),
                        (this.$html = this.$iframe.contents().find("html")),
                        (this.iframe_document = this.$iframe.get(
                            0
                        ).contentWindow.document),
                        this.$oel.trigger("froala.doInit")) :
                    ((this.$el = a("<div></div>")),
                        (this.$wp = a("<div></div>").append(this.$el)),
                        this.$box.html(this.$wp),
                        this.$oel.trigger("froala.doInit"));
            }, this),
            d = a.proxy(function() {
                (this.$box = a("<div>")),
                this.$oel.before(this.$box).hide(),
                    (this._original_html = this.$oel.val()),
                    this.$oel.parents("form").on(
                        "submit." + this.id,
                        a.proxy(function() {
                            this.events.trigger("form.submit");
                        }, this)
                    ),
                    this.$oel.parents("form").on(
                        "reset." + this.id,
                        a.proxy(function() {
                            this.events.trigger("form.reset");
                        }, this)
                    ),
                    c();
            }, this),
            e = a.proxy(function() {
                (this.$el = this.$oel),
                this.$el
                    .attr("contenteditable", !0)
                    .css("outline", "none")
                    .css("display", "inline-block"),
                    (this.opts.multiLine = !1),
                    (this.opts.toolbarInline = !1),
                    this.$oel.trigger("froala.doInit");
            }, this),
            f = a.proxy(function() {
                (this.$el = this.$oel),
                (this.opts.toolbarInline = !1),
                this.$oel.trigger("froala.doInit");
            }, this),
            g = a.proxy(function() {
                (this.$el = this.$oel),
                (this.opts.toolbarInline = !1),
                this.$oel.on("click.popup", function(a) {
                        a.preventDefault();
                    }),
                    this.$oel.trigger("froala.doInit");
            }, this);
        this.opts.editInPopup ?
            g() :
            "TEXTAREA" == b ?
            d() :
            "A" == b ?
            e() :
            "IMG" == b ?
            f() :
            "BUTTON" == b || "INPUT" == b ?
            ((this.opts.editInPopup = !0), (this.opts.toolbarInline = !1), g()) :
            c();
    }),
    (b.prototype.load = function(b) {
        for (var c in b)
            if (b.hasOwnProperty(c)) {
                if (this[c]) continue;
                if (a.FE.PLUGINS[c] && this.opts.pluginsEnabled.indexOf(c) < 0)
                    continue;
                if (
                    ((this[c] = new b[c](this)),
                        this[c]._init &&
                        (this[c]._init(), this.opts.initOnClick && "core" == c))
                )
                    return !1;
            }
    }),
    (b.prototype.destroy = function() {
        this.shared.count--, this.events.$off();
        var b = this.html.get();
        if (
            (this.events.trigger("destroy", [], !0),
                this.events.trigger("shared.destroy", void 0, !0),
                0 === this.shared.count)
        ) {
            for (var c in this.shared)
                this.shared.hasOwnProperty(c) &&
                (null == this.shared[c], (a.FE.SHARED[this.sid][c] = null));
            a.FE.SHARED[this.sid] = {};
        }
        this.$oel.parents("form").off("." + this.id),
            this.$oel.off("click.popup"),
            this.$oel.removeData("froala.editor"),
            this.core.destroy(b),
            a.FE.INSTANCES.splice(a.FE.INSTANCES.indexOf(this), 1);
    }),
    (a.fn.froalaEditor = function(c) {
        for (var d = [], e = 0; e < arguments.length; e++) d.push(arguments[e]);
        if ("string" == typeof c) {
            var f = [];
            return (
                this.each(function() {
                    var b = a(this),
                        e = b.data("froala.editor");
                    if (e) {
                        var g, h;
                        if (
                            (c.indexOf(".") > 0 && e[c.split(".")[0]] ?
                                (e[c.split(".")[0]] && (g = e[c.split(".")[0]]),
                                    (h = c.split(".")[1])) :
                                ((g = e), (h = c.split(".")[0])), !g[h])
                        )
                            return a.error(
                                "Method " + c + " does not exist in Froala Editor."
                            );
                        var i = g[h].apply(e, d.slice(1));
                        void 0 === i ? f.push(this) : 0 === f.length && f.push(i);
                    }
                }),
                1 == f.length ? f[0] : f
            );
        }
        return "object" != typeof c && c ?
            void 0 :
            this.each(function() {
                var d = a(this).data("froala.editor");
                if (!d) {
                    var e = this;
                    new b(e, c);
                }
            });
    }),
    (a.fn.froalaEditor.Constructor = b),
    (a.FroalaEditor = b),
    (a.FE = b),
    (a.FE.MODULES.node = function(b) {
        function c(b) {
            return b && "IFRAME" != b.tagName ? a(b).contents() : [];
        }

        function d(b) {
            return b ?
                b.nodeType != Node.ELEMENT_NODE ?
                !1 :
                a.FE.BLOCK_TAGS.indexOf(b.tagName.toLowerCase()) >= 0 :
                !1;
        }

        function e(e, f) {
            if (a(e).find("table").length > 0) return !1;
            if (
                e.querySelectorAll(a.FE.VOID_ELEMENTS.join(",")).length -
                e.querySelectorAll("br").length
            )
                return !1;
            if (
                e.querySelectorAll(
                    b.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),") +
                    ":not(.fr-marker)"
                ).length
            )
                return !1;
            if (e.querySelectorAll(a.FE.BLOCK_TAGS.join(",")).length > 1)
                return !1;
            if (
                e.querySelectorAll(
                    b.opts.htmlDoNotWrapTags.join(":not(.fr-marker),") +
                    ":not(.fr-marker)"
                ).length
            )
                return !1;
            var g = c(e);
            1 == g.length && d(g[0]) && (g = c(g[0]));
            for (var h = !1, i = 0; i < g.length; i++) {
                var j = g[i];
                if (!(
                        (f && a(j).hasClass("fr-marker")) ||
                        (j.nodeType == Node.TEXT_NODE && 0 == j.textContent.length)
                    )) {
                    if (
                        "BR" != j.tagName &&
                        (j.textContent || "").replace(/\u200B/gi, "").replace(/\n/g, "")
                        .length > 0
                    )
                        return !1;
                    if (h) return !1;
                    "BR" == j.tagName && (h = !0);
                }
            }
            return !0;
        }

        function f(c) {
            for (; c &&
                c.parentNode !== b.$el.get(0) &&
                (!c.parentNode || !a(c.parentNode).hasClass("fr-inner"));

            )
                if (((c = c.parentNode), d(c))) return c;
            return null;
        }

        function g(c, e, f) {
            if (
                ("undefined" == typeof e && (e = []),
                    "undefined" == typeof f && (f = !0),
                    e.push(b.$el.get(0)),
                    e.indexOf(c.parentNode) >= 0 ||
                    (c.parentNode && a(c.parentNode).hasClass("fr-inner")) ||
                    (c.parentNode &&
                        a.FE.SIMPLE_ENTER_TAGS.indexOf(c.parentNode.tagName) >= 0 &&
                        f))
            )
                return null;
            for (; e.indexOf(c.parentNode) < 0 &&
                c.parentNode &&
                !a(c.parentNode).hasClass("fr-inner") &&
                (a.FE.SIMPLE_ENTER_TAGS.indexOf(c.parentNode.tagName) < 0 || !f) &&
                (!d(c) || !d(c.parentNode) || !f);

            )
                c = c.parentNode;
            return c;
        }

        function h(a) {
            var b = {},
                c = a.attributes;
            if (c)
                for (var d = 0; d < c.length; d++) {
                    var e = c[d];
                    b[e.nodeName] = e.value;
                }
            return b;
        }

        function i(a) {
            for (
                var b = "", c = h(a), d = Object.keys(c).sort(), e = 0; e < d.length; e++
            ) {
                var f = d[e],
                    g = c[f];
                b +=
                    g.indexOf('"') < 0 ?
                    " " + f + '="' + g + '"' :
                    " " + f + "='" + g + "'";
            }
            return b;
        }

        function j(a) {
            for (var b = a.attributes, c = 0; c < b.length; c++) {
                var d = b[c];
                a.removeAttribute(d.nodeName);
            }
        }

        function k(a) {
            return "<" + a.tagName.toLowerCase() + i(a) + ">";
        }

        function l(a) {
            return "</" + a.tagName.toLowerCase() + ">";
        }

        function m(b, c) {
            "undefined" == typeof c && (c = !0);
            for (
                var d = b.previousSibling; d && c && a(d).hasClass("fr-marker");

            )
                d = d.previousSibling;
            return d ?
                d.nodeType == Node.TEXT_NODE && "" === d.textContent ?
                m(d) :
                !1 :
                !0;
        }

        function n(b, c) {
            "undefined" == typeof c && (c = !0);
            for (var d = b.nextSibling; d && c && a(d).hasClass("fr-marker");)
                d = d.nextSibling;
            return d ?
                d.nodeType == Node.TEXT_NODE && "" === d.textContent ?
                n(d) :
                !1 :
                !0;
        }

        function o(b) {
            return (
                b &&
                b.nodeType == Node.ELEMENT_NODE &&
                a.FE.VOID_ELEMENTS.indexOf((b.tagName || "").toLowerCase()) >= 0
            );
        }

        function p(a) {
            return a ? ["UL", "OL"].indexOf(a.tagName) >= 0 : !1;
        }

        function q(a) {
            return a === b.$el.get(0);
        }

        function r(a) {
            return (
                a && a.className && (a.className || "").indexOf("fr-deletable") >= 0
            );
        }

        function s(a) {
            return (
                a === b.doc.activeElement &&
                (!b.doc.hasFocus || b.doc.hasFocus()) &&
                !!(q(a) || a.type || a.href || ~a.tabIndex)
            );
        }

        function t(a) {
            return (
                (!a.getAttribute || "false" != a.getAttribute("contenteditable")) && ["STYLE", "SCRIPT"].indexOf(a.tagName) < 0
            );
        }
        return {
            isBlock: d,
            isEmpty: e,
            blockParent: f,
            deepestParent: g,
            rawAttributes: h,
            attributes: i,
            clearAttributes: j,
            openTagString: k,
            closeTagString: l,
            isFirstSibling: m,
            isLastSibling: n,
            isList: p,
            isElement: q,
            contents: c,
            isVoid: o,
            hasFocus: s,
            isEditable: t,
            isDeletable: r
        };
    }),
    a.extend(a.FE.DEFAULTS, {
            htmlAllowedTags: [
                "a",
                "abbr",
                "address",
                "area",
                "article",
                "aside",
                "audio",
                "b",
                "base",
                "bdi",
                "bdo",
                "blockquote",
                "br",
                "button",
                "canvas",
                "caption",
                "cite",
                "code",
                "col",
                "colgroup",
                "datalist",
                "dd",
                "del",
                "details",
                "dfn",
                "dialog",
                "div",
                "dl",
                "dt",
                "em",
                "embed",
                "fieldset",
                "figcaption",
                "figure",
                "footer",
                "form",
                "h1",
                "h2",
                "h3",
                "h4",
                "h5",
                "h6",
                "header",
                "hgroup",
                "hr",
                "i",
                "iframe",
                "img",
                "input",
                "ins",
                "kbd",
                "keygen",
                "label",
                "legend",
                "li",
                "link",
                "main",
                "map",
                "mark",
                "menu",
                "menuitem",
                "meter",
                "nav",
                "noscript",
                "object",
                "ol",
                "optgroup",
                "option",
                "output",
                "p",
                "param",
                "pre",
                "progress",
                "queue",
                "rp",
                "rt",
                "ruby",
                "s",
                "samp",
                "script",
                "style",
                "section",
                "select",
                "small",
                "source",
                "span",
                "strike",
                "strong",
                "sub",
                "summary",
                "sup",
                "table",
                "tbody",
                "td",
                "textarea",
                "tfoot",
                "th",
                "thead",
                "time",
                "tr",
                "track",
                "u",
                "ul",
                "var",
                "video",
                "wbr"
            ],
            htmlRemoveTags: ["script", "style"],
            htmlAllowedAttrs: [
                "accept",
                "accept-charset",
                "accesskey",
                "action",
                "align",
                "allowfullscreen",
                "allowtransparency",
                "alt",
                "async",
                "autocomplete",
                "autofocus",
                "autoplay",
                "autosave",
                "background",
                "bgcolor",
                "border",
                "charset",
                "cellpadding",
                "cellspacing",
                "checked",
                "cite",
                "class",
                "color",
                "cols",
                "colspan",
                "content",
                "contenteditable",
                "contextmenu",
                "controls",
                "coords",
                "data",
                "data-.*",
                "datetime",
                "default",
                "defer",
                "dir",
                "dirname",
                "disabled",
                "download",
                "draggable",
                "dropzone",
                "enctype",
                "for",
                "form",
                "formaction",
                "frameborder",
                "headers",
                "height",
                "hidden",
                "high",
                "href",
                "hreflang",
                "http-equiv",
                "icon",
                "id",
                "ismap",
                "itemprop",
                "keytype",
                "kind",
                "label",
                "lang",
                "language",
                "list",
                "loop",
                "low",
                "max",
                "maxlength",
                "media",
                "method",
                "min",
                "mozallowfullscreen",
                "multiple",
                "name",
                "novalidate",
                "open",
                "optimum",
                "pattern",
                "ping",
                "placeholder",
                "poster",
                "preload",
                "pubdate",
                "radiogroup",
                "readonly",
                "rel",
                "required",
                "reversed",
                "rows",
                "rowspan",
                "sandbox",
                "scope",
                "scoped",
                "scrolling",
                "seamless",
                "selected",
                "shape",
                "size",
                "sizes",
                "span",
                "src",
                "srcdoc",
                "srclang",
                "srcset",
                "start",
                "step",
                "summary",
                "spellcheck",
                "style",
                "tabindex",
                "target",
                "title",
                "type",
                "translate",
                "usemap",
                "value",
                "valign",
                "webkitallowfullscreen",
                "width",
                "wrap"
            ],
            htmlAllowComments: !0,
            fullPage: !1
        }),
        (a.FE.HTML5Map = { B: "STRONG", I: "EM", STRIKE: "S" }),
        (a.FE.MODULES.clean = function(b) {
            function c(a) {
                if (a.className && a.className.indexOf("fr-marker") >= 0) return !1;
                var d,
                    e = b.node.contents(a),
                    f = [];
                for (d = 0; d < e.length; d++)
                    e[d].nodeType != Node.ELEMENT_NODE || b.node.isVoid(e[d]) ?
                    e[d].nodeType == Node.TEXT_NODE &&
                    (e[d].textContent = e[d].textContent.replace(/\u200b/g, "")) :
                    e[d].textContent.replace(/\u200b/g, "").length !=
                    e[d].textContent.length && c(e[d]);
                if (
                    a.nodeType == Node.ELEMENT_NODE &&
                    !b.node.isVoid(a) &&
                    (a.normalize(),
                        (e = b.node.contents(a)),
                        (f = a.querySelectorAll(".fr-marker")),
                        e.length - f.length == 0)
                ) {
                    for (d = 0; d < e.length; d++)
                        if ((e[d].className || "").indexOf("fr-marker") < 0) return !1;
                    for (d = 0; d < f.length; d++)
                        a.parentNode.insertBefore(f[d].cloneNode(!0), a);
                    return a.parentNode.removeChild(a), !1;
                }
            }

            function d(a) {
                if (a.nodeType == Node.COMMENT_NODE)
                    return "<!--" + a.nodeValue + "-->";
                if (a.nodeType == Node.TEXT_NODE)
                    return a.textContent
                        .replace(/\</g, "&lt;")
                        .replace(/\>/g, "&gt;")
                        .replace(/\u00A0/g, "&nbsp;");
                if (a.nodeType != Node.ELEMENT_NODE) return a.outerHTML;
                if (
                    a.nodeType == Node.ELEMENT_NODE && ["STYLE", "SCRIPT"].indexOf(a.tagName) >= 0
                )
                    return a.outerHTML;
                if ("IFRAME" == a.tagName) return a.outerHTML;
                var c = a.childNodes;
                if (0 === c.length) return a.outerHTML;
                for (var e = "", f = 0; f < c.length; f++) e += d(c[f]);
                return b.node.openTagString(a) + e + b.node.closeTagString(a);
            }

            function e(a) {
                return (
                    (I = []),
                    (a = a.replace(
                        /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
                        function(a) {
                            return (
                                I.push(a), "[FROALA.EDITOR.SCRIPT " + (I.length - 1) + "]"
                            );
                        }
                    )),
                    (a = a.replace(/<img((?:[\w\W]*?)) src="/g, '<img$1 data-fr-src="'))
                );
            }

            function f(a) {
                return (
                    (a = a.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi, function(
                        a,
                        c
                    ) {
                        return b.opts.htmlRemoveTags.indexOf("script") >= 0 ?
                            "" :
                            I[parseInt(c, 10)];
                    })),
                    (a = a.replace(/<img((?:[\w\W]*?)) data-fr-src="/g, '<img$1 src="'))
                );
            }

            function g(a) {
                var b;
                for (b in a) a.hasOwnProperty(b) && (b.match(H) || delete a[b]);
                for (var c = "", d = Object.keys(a).sort(), e = 0; e < d.length; e++)
                    (b = d[e]),
                    (c +=
                        a[b].indexOf('"') < 0 ?
                        " " + b + '="' + a[b] + '"' :
                        " " + b + "='" + a[b] + "'");
                return c;
            }

            function h(a, c, d) {
                if (b.opts.fullPage) {
                    var e = b.html.extractDoctype(d),
                        f = g(b.html.extractNodeAttrs(d, "html"));
                    c =
                        null == c ?
                        b.html.extractNode(d, "head") || "<title></title>" :
                        c;
                    var h = g(b.html.extractNodeAttrs(d, "head")),
                        i = g(b.html.extractNodeAttrs(d, "body"));
                    return (
                        e +
                        "<html" +
                        f +
                        "><head" +
                        h +
                        ">" +
                        c +
                        "</head><body" +
                        i +
                        ">" +
                        a +
                        "</body></html>"
                    );
                }
                return a;
            }

            function i(c, e) {
                var f = a("<div>" + c + "</div>"),
                    g = "";
                if (f) {
                    for (var h = b.node.contents(f.get(0)), i = 0; i < h.length; i++)
                        e(h[i]);
                    h = b.node.contents(f.get(0));
                    for (var i = 0; i < h.length; i++) g += d(h[i]);
                }
                return g;
            }

            function j(a, c, d) {
                a = e(a);
                var g = a,
                    j = null;
                if (b.opts.fullPage) {
                    var g =
                        b.html.extractNode(a, "body") ||
                        (a.indexOf("<body") >= 0 ? "" : a);
                    d && (j = b.html.extractNode(a, "head") || "");
                }
                (g = i(g, c)), j && (j = i(j, c));
                var k = h(g, j, a);
                return f(k);
            }

            function k(a) {
                return a.replace(/\u200b/g, "").length == a.length ?
                    a :
                    b.clean.exec(a, c);
            }

            function l() {
                var c = b.$el
                    .get(0)
                    .querySelectorAll(Object.keys(a.FE.HTML5Map).join(","));
                if (c.length) {
                    b.selection.save();
                    for (var d = 0; d < c.length; d++)
                        "" === b.node.attributes(c[d]) &&
                        a(c[d]).replaceWith(
                            "<" +
                            a.FE.HTML5Map[c[d].tagName] +
                            ">" +
                            c[d].innerHTML +
                            "</" +
                            a.FE.HTML5Map[c[d].tagName] +
                            ">"
                        );
                    b.selection.restore();
                }
            }

            function m(c) {
                if (
                    "SPAN" == c.tagName &&
                    (c.className || "").indexOf("fr-marker") >= 0
                )
                    return !1;
                if (
                    ("PRE" == c.tagName && o(c),
                        c.nodeType == Node.ELEMENT_NODE &&
                        (c.getAttribute("data-fr-src") &&
                            c.setAttribute(
                                "data-fr-src",
                                b.helpers.sanitizeURL(c.getAttribute("data-fr-src"))
                            ),
                            c.getAttribute("href") &&
                            c.setAttribute(
                                "href",
                                b.helpers.sanitizeURL(c.getAttribute("href"))
                            ), ["TABLE", "TBODY", "TFOOT", "TR"].indexOf(c.tagName) >= 0 &&
                            (c.innerHTML = c.innerHTML.trim())), !b.opts.pasteAllowLocalImages &&
                        c.nodeType == Node.ELEMENT_NODE &&
                        "IMG" == c.tagName &&
                        c.getAttribute("data-fr-src") &&
                        0 == c.getAttribute("data-fr-src").indexOf("file://"))
                )
                    return c.parentNode.removeChild(c), !1;
                if (
                    c.nodeType == Node.ELEMENT_NODE &&
                    a.FE.HTML5Map[c.tagName] &&
                    "" === b.node.attributes(c)
                ) {
                    var d = a.FE.HTML5Map[c.tagName],
                        e = "<" + d + ">" + c.innerHTML + "</" + d + ">";
                    c.insertAdjacentHTML("beforebegin", e),
                        (c = c.previousSibling),
                        c.parentNode.removeChild(c.nextSibling);
                }
                if (b.opts.htmlAllowComments || c.nodeType != Node.COMMENT_NODE)
                    if (c.tagName && c.tagName.match(G)) c.parentNode.removeChild(c);
                    else if (c.tagName && !c.tagName.match(F))
                    c.outerHTML = c.innerHTML;
                else {
                    var f = c.attributes;
                    if (f)
                        for (var g = f.length - 1; g >= 0; g--) {
                            var h = f[g];
                            h.nodeName.match(H) || c.removeAttribute(h.nodeName);
                        }
                } else
                    0 !== c.data.indexOf("[FROALA.EDITOR") &&
                    c.parentNode.removeChild(c);
            }

            function n(a) {
                for (var c = b.node.contents(a), d = 0; d < c.length; d++)
                    c[d].nodeType != Node.TEXT_NODE && n(c[d]);
                m(a);
            }

            function o(a) {
                var b = a.innerHTML;
                b.indexOf("\n") >= 0 && (a.innerHTML = b.replace(/\n/g, "<br>"));
            }

            function p(c, d, e, f) {
                "undefined" == typeof d && (d = []),
                    "undefined" == typeof e && (e = []),
                    "undefined" == typeof f && (f = !1),
                    (c = c.replace(/\u0009/g, ""));
                var g,
                    h = a.merge([], b.opts.htmlAllowedTags);
                for (g = 0; g < d.length; g++)
                    h.indexOf(d[g]) >= 0 && h.splice(h.indexOf(d[g]), 1);
                var i = a.merge([], b.opts.htmlAllowedAttrs);
                for (g = 0; g < e.length; g++)
                    i.indexOf(e[g]) >= 0 && i.splice(i.indexOf(e[g]), 1);
                return (
                    i.push("data-fr-.*"),
                    i.push("fr-.*"),
                    (F = new RegExp("^" + h.join("$|^") + "$", "gi")),
                    (H = new RegExp("^" + i.join("$|^") + "$", "gi")),
                    (G = new RegExp(
                        "^" + b.opts.htmlRemoveTags.join("$|^") + "$",
                        "gi"
                    )),
                    (c = j(c, n, !0))
                );
            }

            function q() {
                for (
                    var c = b.$el.get(0).querySelectorAll("blockquote + blockquote"),
                        d = 0; d < c.length; d++
                ) {
                    var e = c[d];
                    b.node.attributes(e) == b.node.attributes(e.previousSibling) &&
                        (a(e)
                            .prev()
                            .append(a(e).html()),
                            a(e).remove());
                }
            }

            function r() {
                for (
                    var a = b.$el.get(0).querySelectorAll("tr"), c = 0; c < a.length; c++
                ) {
                    for (var d = a[c].children, e = !0, f = 0; f < d.length; f++)
                        if ("TH" != d[f].tagName) {
                            e = !1;
                            break;
                        }
                    if (0 != e && 0 != d.length) {
                        for (
                            var g = a[c]; g && "TABLE" != g.tagName && "THEAD" != g.tagName;

                        )
                            g = g.parentNode;
                        var h = g;
                        "THEAD" != h.tagName &&
                            ((h = b.doc.createElement("THEAD")),
                                g.insertBefore(h, g.firstChild)),
                            h.appendChild(a[c]);
                    }
                }
            }

            function s() {
                for (
                    var c = b.$el.get(0).querySelectorAll("table"), d = 0; d < c.length; d++
                ) {
                    for (
                        var e = c[d].previousSibling; e && e.nodeType == Node.TEXT_NODE && 0 == e.textContent.length;

                    )
                        e = e.previousSibling;
                    !e ||
                        b.node.isBlock(e) ||
                        "BR" == e.tagName ||
                        (e.nodeType != Node.TEXT_NODE &&
                            e.nodeType != Node.ELEMENT_NODE) ||
                        a(e).is(b.opts.htmlDoNotWrapTags.join(",")) ||
                        c[d].parentNode.insertBefore(b.doc.createElement("br"), c[d]);
                }
            }

            function t() {
                var c = b.html.defaultTag();
                if (c)
                    for (
                        var d = b.$el
                            .get(0)
                            .querySelectorAll("td > " + c + ", th > " + c),
                            e = 0; e < d.length; e++
                    )
                        "" === b.node.attributes(d[e]) &&
                        a(d[e]).replaceWith(d[e].innerHTML + "<br>");
            }

            function u() {
                r(), s(), t();
            }

            function v() {
                var a = [],
                    c = function(a) {
                        return !b.node.isList(a.parentNode);
                    };
                do {
                    if (a.length) {
                        var d = a[0],
                            e = b.doc.createElement("ul");
                        d.parentNode.insertBefore(e, d);
                        do {
                            var f = d;
                            (d = d.nextSibling), e.appendChild(f);
                        } while (d && "LI" == d.tagName);
                    }
                    a = [];
                    for (
                        var g = b.$el.get(0).querySelectorAll("li"), h = 0; h < g.length; h++
                    )
                        c(g[h]) && a.push(g[h]);
                } while (a.length > 0);
            }

            function w() {
                for (
                    var a = b.$el.get(0).querySelectorAll("ol + ol, ul + ul"), c = 0; c < a.length; c++
                ) {
                    var d = a[c];
                    if (
                        b.node.isList(d.previousSibling) &&
                        b.node.openTagString(d) == b.node.openTagString(d.previousSibling)
                    ) {
                        for (var e = b.node.contents(d), f = 0; f < e.length; f++)
                            d.previousSibling.appendChild(e[f]);
                        d.parentNode.removeChild(d);
                    }
                }
            }

            function x() {
                var a,
                    c = function(b) {
                        0 === b.querySelectorAll("LI").length &&
                            ((a = !0), b.parentNode.removeChild(b));
                    };
                do {
                    a = !1;
                    for (
                        var d = b.$el.get(0).querySelectorAll("li:empty"), e = 0; e < d.length; e++
                    )
                        d[e].parentNode.removeChild(d[e]);
                    for (
                        var f = b.$el.get(0).querySelectorAll("ul, ol"), e = 0; e < f.length; e++
                    )
                        c(f[e]);
                } while (a === !0);
            }

            function y() {
                for (
                    var c = b.$el
                        .get(0)
                        .querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),
                        d = 0; d < c.length; d++
                ) {
                    var e = c[d],
                        f = e.previousSibling;
                    f &&
                        ("LI" == f.tagName ? f.appendChild(e) : a(e).wrap("<li></li>"));
                }
            }

            function z() {
                for (
                    var c = b.$el.get(0).querySelectorAll("li > ul, li > ol"), d = 0; d < c.length; d++
                ) {
                    var e = c[d];
                    if (e.nextSibling) {
                        var f = e.nextSibling,
                            g = a("<li>");
                        a(e.parentNode).after(g);
                        do {
                            var h = f;
                            (f = f.nextSibling), g.append(h);
                        } while (f);
                    }
                }
            }

            function A() {
                for (
                    var c = b.$el.get(0).querySelectorAll("li > ul, li > ol"), d = 0; d < c.length; d++
                ) {
                    var e = c[d];
                    if (b.node.isFirstSibling(e)) a(e).before("<br/>");
                    else if (e.previousSibling && "BR" == e.previousSibling.tagName) {
                        for (
                            var f = e.previousSibling.previousSibling; f && a(f).hasClass("fr-marker");

                        )
                            f = f.previousSibling;
                        f && "BR" != f.tagName && a(e.previousSibling).remove();
                    }
                }
            }

            function B() {
                for (
                    var c = b.$el.get(0).querySelectorAll("li:empty"), d = 0; d < c.length; d++
                )
                    a(c[d]).remove();
            }

            function C() {
                for (
                    var c = b.$el.get(0).querySelectorAll("ul, ol"), d = 0; d < c.length; d++
                )
                    for (
                        var e = b.node.contents(c[d]), f = null, g = e.length - 1; g >= 0; g--
                    )
                        "LI" != e[g].tagName ?
                        (f || ((f = a("<li>")), f.insertBefore(e[g])), f.append(e[g])) :
                        (f = null);
            }

            function D() {
                v(), w(), x(), y(), z(), A(), C(), B();
            }

            function E() {
                b.opts.fullPage &&
                    a.merge(b.opts.htmlAllowedTags, [
                        "head",
                        "title",
                        "style",
                        "link",
                        "base",
                        "body",
                        "html"
                    ]);
            }
            var F,
                G,
                H,
                I = [],
                I = [];
            return {
                _init: E,
                html: p,
                toHTML5: l,
                tables: u,
                lists: D,
                quotes: q,
                invisibleSpaces: k,
                exec: j
            };
        }),
        (a.FE.XS = 0),
        (a.FE.SM = 1),
        (a.FE.MD = 2),
        (a.FE.LG = 3),
        (a.FE.MODULES.helpers = function(b) {
            function c() {
                var a,
                    b,
                    c = -1;
                return (
                    "Microsoft Internet Explorer" == navigator.appName ?
                    ((a = navigator.userAgent),
                        (b = new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})")),
                        null !== b.exec(a) && (c = parseFloat(RegExp.$1))) :
                    "Netscape" == navigator.appName &&
                    ((a = navigator.userAgent),
                        (b = new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})")),
                        null !== b.exec(a) && (c = parseFloat(RegExp.$1))),
                    c
                );
            }

            function d() {
                var a = {},
                    b = c();
                if (b > 0) a.msie = !0;
                else {
                    var d = navigator.userAgent.toLowerCase(),
                        e =
                        /(edge)[ \/]([\w.]+)/.exec(d) ||
                        /(chrome)[ \/]([\w.]+)/.exec(d) ||
                        /(webkit)[ \/]([\w.]+)/.exec(d) ||
                        /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(d) ||
                        /(msie) ([\w.]+)/.exec(d) ||
                        (d.indexOf("compatible") < 0 &&
                            /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(d)) || [],
                        f = { browser: e[1] || "", version: e[2] || "0" };
                    e[1] && (a[f.browser] = !0),
                        a.chrome ? (a.webkit = !0) : a.webkit && (a.safari = !0);
                }
                return a.msie && (a.version = b), a;
            }

            function e() {
                return /(iPad|iPhone|iPod)/g.test(navigator.userAgent) && !h();
            }

            function f() {
                return /(Android)/g.test(navigator.userAgent) && !h();
            }

            function g() {
                return /(Blackberry)/g.test(navigator.userAgent);
            }

            function h() {
                return /(Windows Phone)/gi.test(navigator.userAgent);
            }

            function i() {
                return f() || e() || g();
            }

            function j() {
                return (
                    window.requestAnimationFrame ||
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame ||
                    function(a) {
                        window.setTimeout(a, 1e3 / 60);
                    }
                );
            }

            function k(a) {
                return parseInt(a, 10) || 0;
            }

            function l() {
                var b = a('<div class="fr-visibility-helper"></div>').appendTo(
                        "body"
                    ),
                    c = k(b.css("margin-left"));
                return b.remove(), c;
            }

            function m() {
                return (
                    "ontouchstart" in window ||
                    (window.DocumentTouch && document instanceof DocumentTouch)
                );
            }

            function n(a) {
                if (!/^(https?:|ftps?:|)\/\//i.test(a)) return !1;
                a = String(a)
                    .replace(/</g, "%3C")
                    .replace(/>/g, "%3E")
                    .replace(/"/g, "%22")
                    .replace(/ /g, "%20");
                var b = /(http|ftp|https):\/\/[a-z\u00a1-\uffff0-9]+(\.[a-z\u00a1-\uffff0-9]*)*([a-z\u00a1-\uffff0-9.,@?^=%&amp;:\/~+#-]*[a-z\u00a1-\uffff0-9@?^=%&amp;\/~+#-])?/gi;
                return b.test(a);
            }

            function o(a) {
                if (/^(https?:|ftps?:|)\/\//i.test(a)) {
                    if (!n(a) && !n("http:" + a)) return "";
                } else
                    a = encodeURIComponent(a)
                    .replace(/%23/g, "#")
                    .replace(/%2F/g, "/")
                    .replace(/%25/g, "%")
                    .replace(/mailto%3A/gi, "mailto:")
                    .replace(/file%3A/gi, "file:")
                    .replace(/sms%3A/gi, "sms:")
                    .replace(/tel%3A/gi, "tel:")
                    .replace(/notes%3A/gi, "notes:")
                    .replace(/data%3Aimage/gi, "data:image")
                    .replace(/blob%3A/gi, "blob:")
                    .replace(/webkit-fake-url%3A/gi, "webkit-fake-url:")
                    .replace(/%3F/g, "?")
                    .replace(/%3D/g, "=")
                    .replace(/%26/g, "&")
                    .replace(/&amp;/g, "&")
                    .replace(/%2C/g, ",")
                    .replace(/%3B/g, ";")
                    .replace(/%2B/g, "+")
                    .replace(/%40/g, "@")
                    .replace(/%5B/g, "[")
                    .replace(/%5D/g, "]")
                    .replace(/%7B/g, "{")
                    .replace(/%7D/g, "}");
                return a;
            }

            function p(a) {
                return (
                    a &&
                    !a.propertyIsEnumerable("length") &&
                    "object" == typeof a &&
                    "number" == typeof a.length
                );
            }

            function q(a) {
                function b(a) {
                    return ("0" + parseInt(a, 10).toString(16)).slice(-2);
                }
                try {
                    return a && "transparent" !== a ?
                        /^#[0-9A-F]{6}$/i.test(a) ?
                        a :
                        ((a = a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/)),
                            ("#" + b(a[1]) + b(a[2]) + b(a[3])).toUpperCase()) :
                        "";
                } catch (c) {
                    return null;
                }
            }

            function r(a) {
                var b = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
                a = a.replace(b, function(a, b, c, d) {
                    return b + b + c + c + d + d;
                });
                var c = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
                return c ?
                    "rgb(" +
                    parseInt(c[1], 16) +
                    ", " +
                    parseInt(c[2], 16) +
                    ", " +
                    parseInt(c[3], 16) +
                    ")" :
                    "";
            }

            function s(b) {
                var c = (b.css("text-align") || "").replace(/-(.*)-/g, "");
                if (["left", "right", "justify", "center"].indexOf(c) < 0) {
                    if (!v) {
                        var d = a(
                            '<div dir="auto" style="text-align: initial; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>'
                        );
                        a("body").append(d);
                        var e = d
                            .find("#s1")
                            .get(0)
                            .getBoundingClientRect().left,
                            f = d
                            .find("#s2")
                            .get(0)
                            .getBoundingClientRect().left;
                        d.remove(), (v = f > e ? "left" : "right");
                    }
                    c = v;
                }
                return c;
            }

            function t() {
                return (
                    null == w &&
                    (w = navigator.platform.toUpperCase().indexOf("MAC") >= 0),
                    w
                );
            }

            function u() {
                b.browser = d();
            }
            var v,
                w = null;
            return {
                _init: u,
                isIOS: e,
                isMac: t,
                isAndroid: f,
                isBlackberry: g,
                isWindowsPhone: h,
                isMobile: i,
                requestAnimationFrame: j,
                getPX: k,
                screenSize: l,
                isTouch: m,
                sanitizeURL: o,
                isArray: p,
                RGBToHex: q,
                HEXtoRGB: r,
                isURL: n,
                getAlignment: s
            };
        }),
        (a.FE.MODULES.events = function(b) {
            function c(a, b, c) {
                s(a, b, c);
            }

            function d() {
                c(b.$el, "cut copy paste beforepaste", function(a) {
                    v(a.type, [a]);
                });
            }

            function e() {
                c(
                        b.$el,
                        "click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",
                        function(a) {
                            v(a.type, [a]);
                        }
                    ),
                    r("mousedown", function() {
                        for (var c = 0; c < a.FE.INSTANCES.length; c++)
                            a.FE.INSTANCES[c] != b &&
                            a.FE.INSTANCES[c].popups &&
                            a.FE.INSTANCES[c].popups.areVisible() &&
                            a.FE.INSTANCES[c].$el.find(".fr-marker").remove();
                    });
            }

            function f() {
                c(b.$el, "keydown keypress keyup input", function(a) {
                    v(a.type, [a]);
                });
            }

            function g() {
                c(b.$win, b._mousedown, function(a) {
                        v("window.mousedown", [a]), n();
                    }),
                    c(b.$win, b._mouseup, function(a) {
                        v("window.mouseup", [a]);
                    }),
                    c(b.$win, "cut copy keydown keyup touchmove touchend", function(a) {
                        v("window." + a.type, [a]);
                    });
            }

            function h() {
                c(b.$doc, "dragend drop", function(a) {
                    v("document." + a.type, [a]);
                });
            }

            function i(c) {
                if (("undefined" == typeof c && (c = !0), !b.$wp)) return !1;
                if (
                    (b.helpers.isIOS() && b.$win.get(0).focus(), !b.core.hasFocus() && c)
                ) {
                    var d = b.$win.scrollTop();
                    return (
                        b.$el.focus(), d != b.$win.scrollTop() && b.$win.scrollTop(d), !1
                    );
                }
                if (!b.core.hasFocus() || b.$el.find(".fr-marker").length > 0)
                    return !1;
                var e = b.selection.info(b.$el.get(0));
                if (
                    e.atStart &&
                    b.selection.isCollapsed() &&
                    null != b.html.defaultTag()
                ) {
                    var f = b.markers.insert();
                    if (f && !b.node.blockParent(f)) {
                        a(f).remove();
                        var g = b.$el.find(b.html.blockTagsQuery()).get(0);
                        g && (a(g).prepend(a.FE.MARKERS), b.selection.restore());
                    } else f && a(f).remove();
                }
            }

            function j() {
                c(b.$el, "focus", function(a) {
                        p() && (i(!1), C === !1 && v(a.type, [a]));
                    }),
                    c(b.$el, "blur", function(a) {
                        p() && C === !0 && (v(a.type, [a]), n());
                    }),
                    r("focus", function() {
                        C = !0;
                    }),
                    r("blur", function() {
                        C = !1;
                    });
            }

            function k() {
                b.helpers.isMobile() ?
                    ((b._mousedown = "touchstart"),
                        (b._mouseup = "touchend"),
                        (b._move = "touchmove"),
                        (b._mousemove = "touchmove")) :
                    ((b._mousedown = "mousedown"),
                        (b._mouseup = "mouseup"),
                        (b._move = ""),
                        (b._mousemove = "mousemove"));
            }

            function l(c) {
                var d = a(c.currentTarget);
                return b.edit.isDisabled() || d.hasClass("fr-disabled") ?
                    (c.preventDefault(), !1) :
                    "mousedown" === c.type && 1 !== c.which ?
                    !0 :
                    (b.helpers.isMobile() || c.preventDefault(),
                        (b.helpers.isAndroid() || b.helpers.isWindowsPhone()) &&
                        0 === d.parents(".fr-dropdown-menu").length &&
                        (c.preventDefault(), c.stopPropagation()),
                        d.addClass("fr-selected"),
                        void b.events.trigger("commands.mousedown", [d]));
            }

            function m(c, d) {
                var e = a(c.currentTarget);
                if (b.edit.isDisabled() || e.hasClass("fr-disabled"))
                    return c.preventDefault(), !1;
                if ("mouseup" === c.type && 1 !== c.which) return !0;
                if (!e.hasClass("fr-selected")) return !0;
                if ("touchmove" != c.type) {
                    if (
                        (c.stopPropagation(),
                            c.stopImmediatePropagation(),
                            c.preventDefault(), !e.hasClass("fr-selected"))
                    )
                        return a(".fr-selected").removeClass("fr-selected"), !1;
                    if (
                        (a(".fr-selected").removeClass("fr-selected"),
                            e.data("dragging") || e.attr("disabled"))
                    )
                        return e.removeData("dragging"), !1;
                    var f = e.data("timeout");
                    f && (clearTimeout(f), e.removeData("timeout")), d.apply(b, [c]);
                } else
                    e.data("timeout") ||
                    e.data(
                        "timeout",
                        setTimeout(function() {
                            e.data("dragging", !0);
                        }, 100)
                    );
            }

            function n() {
                A = !0;
            }

            function o() {
                A = !1;
            }

            function p() {
                return A;
            }

            function q(a, c, d) {
                s(
                        a,
                        b._mousedown,
                        c,
                        function(a) {
                            b.edit.isDisabled() || l(a);
                        }, !0
                    ),
                    s(
                        a,
                        b._mouseup + " " + b._move,
                        c,
                        function(a) {
                            b.edit.isDisabled() || m(a, d);
                        }, !0
                    ),
                    s(
                        a,
                        "mousedown click mouseup",
                        c,
                        function(a) {
                            b.edit.isDisabled() || a.stopPropagation();
                        }, !0
                    ),
                    r("window.mouseup", function() {
                        b.edit.isDisabled() ||
                            (a.find(c).removeClass("fr-selected"), n());
                    });
            }

            function r(a, c, d) {
                var e = a.split(" ");
                if (e.length > 1) {
                    for (var f = 0; f < e.length; f++) r(e[f], c, d);
                    return !0;
                }
                "undefined" == typeof d && (d = !1);
                var g;
                (g =
                    0 != a.indexOf("shared.") ?
                    (B[a] = B[a] || []) :
                    (b.shared._events[a] = b.shared._events[a] || [])),
                d ? g.unshift(c) : g.push(c);
            }

            function s(a, c, d, e, f) {
                "function" == typeof d && ((f = e), (e = d), (d = !1));
                var g = f ? b.shared.$_events : D,
                    h = f ? b.sid : b.id;
                d
                    ?
                    a.on(c.split(" ").join(".ed" + h + " ") + ".ed" + h, d, e) :
                    a.on(c.split(" ").join(".ed" + h + " ") + ".ed" + h, e),
                    g.indexOf(a.get(0)) < 0 && g.push(a.get(0));
            }

            function t(b, c) {
                for (var d = 0; d < b.length; d++) a(b[d]).off(".ed" + c);
            }

            function u() {
                t(D, b.id),
                    (D = []),
                    0 == b.shared.count &&
                    (t(b.shared.$_events, b.sid), (b.shared.$_events = null));
            }

            function v(c, d, e) {
                if (!b.edit.isDisabled() || e) {
                    var f;
                    if (0 != c.indexOf("shared.")) f = B[c];
                    else {
                        if (b.shared.count > 0) return !1;
                        f = b.shared._events[c];
                    }
                    var g;
                    if (f)
                        for (var h = 0; h < f.length; h++)
                            if (((g = f[h].apply(b, d)), g === !1)) return !1;
                    return (
                        (g = b.$oel.triggerHandler(
                            "froalaEditor." + c,
                            a.merge([b], d || [])
                        )),
                        g === !1 ? !1 : g
                    );
                }
            }

            function w(c, d, e) {
                if (!b.edit.isDisabled() || e) {
                    var f;
                    if (0 != c.indexOf("shared.")) f = B[c];
                    else {
                        if (b.shared.count > 0) return !1;
                        f = b.shared._events[c];
                    }
                    var g;
                    if (f)
                        for (var h = 0; h < f.length; h++)
                            (g = f[h].apply(b, [d])), "undefined" != typeof g && (d = g);
                    return (
                        (g = b.$oel.triggerHandler(
                            "froalaEditor." + c,
                            a.merge([b], [d])
                        )),
                        "undefined" != typeof g && (d = g),
                        d
                    );
                }
            }

            function x() {
                for (var a in B) B.hasOwnProperty(a) && delete B[a];
            }

            function y() {
                for (var a in b.shared._events)
                    b.shared._events.hasOwnProperty(a) && delete b.shared._events[a];
            }

            function z() {
                (b.shared.$_events = b.shared.$_events || []),
                (b.shared._events = {}),
                k(),
                    e(),
                    g(),
                    h(),
                    f(),
                    j(),
                    n(),
                    d(),
                    r("destroy", x),
                    r("shared.destroy", y);
            }
            var A,
                B = {},
                C = !1,
                D = [];
            return {
                _init: z,
                on: r,
                trigger: v,
                bindClick: q,
                disableBlur: o,
                enableBlur: n,
                blurActive: p,
                focus: i,
                chainTrigger: w,
                $on: s,
                $off: u
            };
        }),
        (a.FE.INVISIBLE_SPACE = "&#8203;"),
        (a.FE.START_MARKER =
            '<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">' +
            a.FE.INVISIBLE_SPACE +
            "</span>"),
        (a.FE.END_MARKER =
            '<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">' +
            a.FE.INVISIBLE_SPACE +
            "</span>"),
        (a.FE.MARKERS = a.FE.START_MARKER + a.FE.END_MARKER),
        (a.FE.MODULES.markers = function(b) {
            function c(c, d) {
                return a(
                    '<span class="fr-marker" data-id="' +
                    d +
                    '" data-type="' +
                    c +
                    '" style="display: ' +
                    (b.browser.safari ? "none" : "inline-block") +
                    '; line-height: 0;">' +
                    a.FE.INVISIBLE_SPACE +
                    "</span>",
                    b.doc
                )[0];
            }

            function d(d, e, f) {
                try {
                    var g = d.cloneRange();
                    if ((g.collapse(e), g.insertNode(c(e, f)), e === !0 && d.collapsed))
                        for (
                            var h = b.$el.find(
                                    'span.fr-marker[data-type="true"][data-id="' + f + '"]'
                                ),
                                i = h.get(0).nextSibling; i &&
                            i.nodeType === Node.TEXT_NODE &&
                            0 === i.textContent.length;

                        )
                            a(i).remove(), (i = h.nextSibling);
                    if (e === !0 && !d.collapsed) {
                        var h = b.$el
                            .find('span.fr-marker[data-type="true"][data-id="' + f + '"]')
                            .get(0),
                            i = h.nextSibling;
                        if (i && i.nodeType === Node.ELEMENT_NODE && b.node.isBlock(i)) {
                            var j = [i];
                            do(i = j[0]), (j = b.node.contents(i));
                            while (j[0] && b.node.isBlock(j[0]));
                            a(i).prepend(a(h));
                        }
                    }
                    if (e === !1 && !d.collapsed) {
                        var h = b.$el
                            .find(
                                'span.fr-marker[data-type="false"][data-id="' + f + '"]'
                            )
                            .get(0),
                            i = h.previousSibling;
                        if (i && i.nodeType === Node.ELEMENT_NODE && b.node.isBlock(i)) {
                            var j = [i];
                            do(i = j[j.length - 1]), (j = b.node.contents(i));
                            while (j[j.length - 1] && b.node.isBlock(j[j.length - 1]));
                            a(i).append(a(h));
                        }
                        h.parentNode && ["TD", "TH"].indexOf(h.parentNode.tagName) >= 0 &&
                            h.parentNode.previousSibling &&
                            !h.previousSibling &&
                            a(h.parentNode.previousSibling).append(h);
                    }
                    var k = b.$el
                        .find(
                            'span.fr-marker[data-type="' + e + '"][data-id="' + f + '"]'
                        )
                        .get(0);
                    return k && (k.style.display = "none"), k;
                } catch (l) {
                    return null;
                }
            }

            function e() {
                if (!b.$wp) return null;
                try {
                    var c = b.selection.ranges(0),
                        d = c.commonAncestorContainer;
                    if (d != b.$el.get(0) && 0 == b.$el.find(d).length) return null;
                    var e = c.cloneRange(),
                        f = c.cloneRange();
                    e.collapse(!0);
                    var g = a(
                        '<span class="fr-marker" style="display: none; line-height: 0;">' +
                        a.FE.INVISIBLE_SPACE +
                        "</span>",
                        b.doc
                    )[0];
                    if ((e.insertNode(g), (g = b.$el.find("span.fr-marker").get(0)))) {
                        for (
                            var h = g.nextSibling; h &&
                            h.nodeType === Node.TEXT_NODE &&
                            0 === h.textContent.length;

                        )
                            a(h).remove(),
                            (h = b.$el.find("span.fr-marker").get(0).nextSibling);
                        return b.selection.clear(), b.selection.get().addRange(f), g;
                    }
                    return null;
                } catch (i) {}
            }

            function f() {
                b.selection.isCollapsed() || b.selection.remove();
                var c = b.$el.find(".fr-marker").get(0);
                if ((null == c && (c = e()), null == c)) return null;
                var d;
                if ((d = b.node.deepestParent(c)))
                    if (b.node.isBlock(d) && b.node.isEmpty(d))
                        a(d).replaceWith('<span class="fr-marker"></span>');
                    else {
                        var f = c,
                            g = "",
                            h = "";
                        do
                            (f = f.parentNode),
                            (g += b.node.closeTagString(f)),
                            (h = b.node.openTagString(f) + h);
                        while (f != d);
                        a(c).replaceWith('<span id="fr-break"></span>');
                        var i =
                            b.node.openTagString(d) +
                            a(d).html() +
                            b.node.closeTagString(d);
                        (i = i.replace(
                            /<span id="fr-break"><\/span>/g,
                            g + '<span class="fr-marker"></span>' + h
                        )),
                        a(d).replaceWith(i);
                    }
                return b.$el.find(".fr-marker").get(0);
            }

            function g(a) {
                var c = a.clientX,
                    d = a.clientY;
                h();
                var f,
                    g = null;
                if (
                    ("undefined" != typeof b.doc.caretPositionFromPoint ?
                        ((f = b.doc.caretPositionFromPoint(c, d)),
                            (g = b.doc.createRange()),
                            g.setStart(f.offsetNode, f.offset),
                            g.setEnd(f.offsetNode, f.offset)) :
                        "undefined" != typeof b.doc.caretRangeFromPoint &&
                        ((f = b.doc.caretRangeFromPoint(c, d)),
                            (g = b.doc.createRange()),
                            g.setStart(f.startContainer, f.startOffset),
                            g.setEnd(f.startContainer, f.startOffset)),
                        null !== g && "undefined" != typeof b.win.getSelection)
                ) {
                    var i = b.win.getSelection();
                    i.removeAllRanges(), i.addRange(g);
                } else if ("undefined" != typeof b.doc.body.createTextRange)
                    try {
                        (g = b.doc.body.createTextRange()), g.moveToPoint(c, d);
                        var j = g.duplicate();
                        j.moveToPoint(c, d), g.setEndPoint("EndToEnd", j), g.select();
                    } catch (k) {
                        return !1;
                    }
                e();
            }

            function h() {
                b.$el.find(".fr-marker").remove();
            }
            return { place: d, insert: e, split: f, insertAtPoint: g, remove: h };
        }),
        (a.FE.MODULES.selection = function(b) {
            function c() {
                var a = "";
                return (
                    b.win.getSelection ?
                    (a = b.win.getSelection()) :
                    b.doc.getSelection ?
                    (a = b.doc.getSelection()) :
                    b.doc.selection && (a = b.doc.selection.createRange().text),
                    a.toString()
                );
            }

            function d() {
                var a = "";
                return (a = b.win.getSelection ?
                    b.win.getSelection() :
                    b.doc.getSelection ?
                    b.doc.getSelection() :
                    b.doc.selection.createRange());
            }

            function e(a) {
                var c = d(),
                    e = [];
                if (c && c.getRangeAt && c.rangeCount)
                    for (var e = [], f = 0; f < c.rangeCount; f++)
                        e.push(c.getRangeAt(f));
                else e = b.doc.createRange ? [b.doc.createRange()] : [];
                return "undefined" != typeof a ? e[a] : e;
            }

            function f() {
                var a = d();
                try {
                    a.removeAllRanges ?
                        a.removeAllRanges() :
                        a.empty ?
                        a.empty() :
                        a.clear && a.clear();
                } catch (b) {}
            }

            function g() {
                var f = d();
                try {
                    if (f.rangeCount) {
                        var g = e(0),
                            h = g.startContainer;
                        if (h.nodeType == Node.ELEMENT_NODE) {
                            var i = !1;
                            if (h.childNodes.length > 0 && h.childNodes[g.startOffset]) {
                                for (
                                    var j = h.childNodes[g.startOffset]; j &&
                                    j.nodeType == Node.TEXT_NODE &&
                                    0 == j.textContent.length;

                                )
                                    j = j.nextSibling;
                                j &&
                                    j.textContent.replace(/\u200B/g, "") ===
                                    c().replace(/\u200B/g, "") &&
                                    ((h = j), (i = !0));
                            } else if (!g.collapsed &&
                                h.nextSibling &&
                                h.nextSibling.nodeType == Node.ELEMENT_NODE
                            ) {
                                var j = h.nextSibling;
                                j &&
                                    j.textContent.replace(/\u200B/g, "") ===
                                    c().replace(/\u200B/g, "") &&
                                    ((h = j), (i = !0));
                            }!i &&
                                h.childNodes.length > 0 &&
                                a(h.childNodes[0])
                                .text()
                                .replace(/\u200B/g, "") === c().replace(/\u200B/g, "") && ["BR", "IMG", "HR"].indexOf(h.childNodes[0].tagName) < 0 &&
                                (h = h.childNodes[0]);
                        }
                        for (; h.nodeType != Node.ELEMENT_NODE && h.parentNode;)
                            h = h.parentNode;
                        for (var k = h; k && "HTML" != k.tagName;) {
                            if (k == b.$el.get(0)) return h;
                            k = a(k).parent()[0];
                        }
                    }
                } catch (l) {}
                return b.$el.get(0);
            }

            function h() {
                var f = d();
                try {
                    if (f.rangeCount) {
                        var g = e(0),
                            h = g.endContainer;
                        if (h.nodeType == Node.ELEMENT_NODE) {
                            var i = !1;
                            if (
                                h.childNodes.length > 0 &&
                                h.childNodes[g.endOffset] &&
                                a(h.childNodes[g.endOffset]).text() === c()
                            )
                                (h = h.childNodes[g.endOffset]), (i = !0);
                            else if (!g.collapsed &&
                                h.previousSibling &&
                                h.previousSibling.nodeType == Node.ELEMENT_NODE
                            ) {
                                var j = h.previousSibling;
                                j &&
                                    j.textContent.replace(/\u200B/g, "") ===
                                    c().replace(/\u200B/g, "") &&
                                    ((h = j), (i = !0));
                            } else if (!g.collapsed &&
                                h.childNodes.length > 0 &&
                                h.childNodes[g.endOffset]
                            ) {
                                var j = h.childNodes[g.endOffset].previousSibling;
                                j.nodeType == Node.ELEMENT_NODE &&
                                    j &&
                                    j.textContent.replace(/\u200B/g, "") ===
                                    c().replace(/\u200B/g, "") &&
                                    ((h = j), (i = !0));
                            }!i &&
                                h.childNodes.length > 0 &&
                                a(h.childNodes[h.childNodes.length - 1]).text() === c() && ["BR", "IMG", "HR"].indexOf(
                                    h.childNodes[h.childNodes.length - 1].tagName
                                ) < 0 &&
                                (h = h.childNodes[h.childNodes.length - 1]);
                        }
                        for (
                            h.nodeType == Node.TEXT_NODE &&
                            0 == g.endOffset &&
                            h.previousSibling &&
                            h.previousSibling.nodeType == Node.ELEMENT_NODE &&
                            (h = h.previousSibling); h.nodeType != Node.ELEMENT_NODE && h.parentNode;

                        )
                            h = h.parentNode;
                        for (var k = h; k && "HTML" != k.tagName;) {
                            if (k == b.$el.get(0)) return h;
                            k = a(k).parent()[0];
                        }
                    }
                } catch (l) {}
                return b.$el.get(0);
            }

            function i(a, b) {
                var c = a;
                return (
                    c.nodeType == Node.ELEMENT_NODE &&
                    c.childNodes.length > 0 &&
                    c.childNodes[b] &&
                    (c = c.childNodes[b]),
                    c.nodeType == Node.TEXT_NODE && (c = c.parentNode),
                    c
                );
            }

            function j() {
                var c = [],
                    f = d();
                if (t() && f.rangeCount)
                    for (var g = e(), h = 0; h < g.length; h++) {
                        var j = g[h],
                            k = i(j.startContainer, j.startOffset),
                            l = i(j.endContainer, j.endOffset);
                        b.node.isBlock(k) && c.indexOf(k) < 0 && c.push(k);
                        var m = b.node.blockParent(k);
                        m && c.indexOf(m) < 0 && c.push(m);
                        for (var n = [], o = k; o !== l && o !== b.$el.get(0);)
                            n.indexOf(o) < 0 && o.children && o.children.length ?
                            (n.push(o), (o = o.children[0])) :
                            o.nextSibling ?
                            (o = o.nextSibling) :
                            o.parentNode && ((o = o.parentNode), n.push(o)),
                            b.node.isBlock(o) &&
                            n.indexOf(o) < 0 &&
                            c.indexOf(o) < 0 &&
                            (o !== l || j.endOffset > 0) &&
                            c.push(o);
                        b.node.isBlock(l) &&
                            c.indexOf(l) < 0 &&
                            j.endOffset > 0 &&
                            c.push(l);
                        var m = b.node.blockParent(l);
                        m && c.indexOf(m) < 0 && c.push(m);
                    }
                for (var h = c.length - 1; h > 0; h--)
                    a(c[h]).find(c).length && "LI" != c[h].tagName && c.splice(h, 1);
                return c;
            }

            function k() {
                if (b.$wp) {
                    b.markers.remove();
                    for (var a = e(), c = [], d = 0; d < a.length; d++)
                        if (a[d].startContainer !== b.doc) {
                            var f = a[d],
                                g = f.collapsed,
                                h = b.markers.place(f, !0, d),
                                i = b.markers.place(f, !1, d);
                            if ((b.$el.get(0).normalize(), b.browser.safari && !g)) {
                                var f = b.doc.createRange();
                                f.setStartAfter(h), f.setEndBefore(i), c.push(f);
                            }
                        }
                    if (b.browser.safari && c.length) {
                        b.selection.clear();
                        for (var d = 0; d < c.length; d++)
                            b.selection.get().addRange(c[d]);
                    }
                }
            }

            function l() {
                var c = b.$el.get(0).querySelectorAll('.fr-marker[data-type="true"]');
                if (!b.$wp) return b.markers.remove(), !1;
                if (0 === c.length) return !1;
                if (b.browser.msie || b.browser.edge)
                    for (var e = 0; e < c.length; e++)
                        c[e].style.display = "inline-block";
                b.core.hasFocus() ||
                    b.browser.msie ||
                    b.browser.webkit ||
                    b.$el.focus(),
                    f();
                for (var g = d(), e = 0; e < c.length; e++) {
                    var h = a(c[e]).data("id"),
                        i = c[e],
                        j = b.doc.createRange(),
                        k = b.$el.find(
                            '.fr-marker[data-type="false"][data-id="' + h + '"]'
                        );
                    (b.browser.msie || b.browser.edge) &&
                    k.css("display", "inline-block");
                    var l = null;
                    if (k.length > 0) {
                        k = k[0];
                        try {
                            for (
                                var n = !1, o = i.nextSibling; o &&
                                o.nodeType == Node.TEXT_NODE &&
                                0 == o.textContent.length;

                            ) {
                                var p = o;
                                (o = o.nextSibling), a(p).remove();
                            }
                            for (
                                var q = k.nextSibling; q &&
                                q.nodeType == Node.TEXT_NODE &&
                                0 == q.textContent.length;

                            ) {
                                var p = q;
                                (q = q.nextSibling), a(p).remove();
                            }
                            if (i.nextSibling == k || k.nextSibling == i) {
                                for (
                                    var r = i.nextSibling == k ? i : k,
                                        s = r == i ? k : i,
                                        t = r.previousSibling; t && t.nodeType == Node.TEXT_NODE && 0 == t.length;

                                ) {
                                    var p = t;
                                    (t = t.previousSibling), a(p).remove();
                                }
                                if (t && t.nodeType == Node.TEXT_NODE)
                                    for (; t &&
                                        t.previousSibling &&
                                        t.previousSibling.nodeType == Node.TEXT_NODE;

                                    )
                                        (t.previousSibling.textContent =
                                            t.previousSibling.textContent + t.textContent),
                                        (t = t.previousSibling),
                                        a(t.nextSibling).remove();
                                for (
                                    var u = s.nextSibling; u && u.nodeType == Node.TEXT_NODE && 0 == u.length;

                                ) {
                                    var p = u;
                                    (u = u.nextSibling), a(p).remove();
                                }
                                if (u && u.nodeType == Node.TEXT_NODE)
                                    for (; u &&
                                        u.nextSibling &&
                                        u.nextSibling.nodeType == Node.TEXT_NODE;

                                    )
                                        (u.nextSibling.textContent =
                                            u.textContent + u.nextSibling.textContent),
                                        (u = u.nextSibling),
                                        a(u.previousSibling).remove();
                                if (
                                    (t && (b.node.isVoid(t) || b.node.isBlock(t)) && (t = null),
                                        u && (b.node.isVoid(u) || b.node.isBlock(u)) && (u = null),
                                        t &&
                                        u &&
                                        t.nodeType == Node.TEXT_NODE &&
                                        u.nodeType == Node.TEXT_NODE)
                                ) {
                                    a(i).remove(), a(k).remove();
                                    var v = t.textContent.length;
                                    (t.textContent = t.textContent + u.textContent),
                                    a(u).remove(),
                                        b.spaces.normalize(t),
                                        j.setStart(t, v),
                                        j.setEnd(t, v),
                                        (n = !0);
                                } else
                                    !t && u && u.nodeType == Node.TEXT_NODE ?
                                    (a(i).remove(),
                                        a(k).remove(),
                                        b.spaces.normalize(u),
                                        (l = a(b.doc.createTextNode(""))),
                                        a(u).before(l),
                                        j.setStart(u, 0),
                                        j.setEnd(u, 0),
                                        (n = !0)) :
                                    !u &&
                                    t &&
                                    t.nodeType == Node.TEXT_NODE &&
                                    (a(i).remove(),
                                        a(k).remove(),
                                        b.spaces.normalize(t),
                                        (l = a(b.doc.createTextNode(""))),
                                        a(t).after(l),
                                        j.setStart(t, t.textContent.length),
                                        j.setEnd(t, t.textContent.length),
                                        (n = !0));
                            }
                            if (!n) {
                                var w, x;
                                if (b.browser.chrome && i.nextSibling == k)
                                    (w = m(k, j, !0) || j.setStartAfter(k)),
                                    (x = m(i, j, !1) || j.setEndBefore(i));
                                else {
                                    i.previousSibling == k && ((i = k), (k = i.nextSibling)),
                                        (k.nextSibling && "BR" === k.nextSibling.tagName) ||
                                        (!k.nextSibling && b.node.isBlock(i.previousSibling)) ||
                                        (i.previousSibling &&
                                            "BR" == i.previousSibling.tagName) ||
                                        ((i.style.display = "inline"),
                                            (k.style.display = "inline"),
                                            (l = a(b.doc.createTextNode(""))));
                                    var y = i.previousSibling;
                                    y &&
                                        y.style &&
                                        "block" == b.win.getComputedStyle(y).display &&
                                        !b.opts.enter == a.FE.ENTER_BR ?
                                        (j.setEndAfter(y), j.setStartAfter(y)) :
                                        ((w =
                                                m(i, j, !0) ||
                                                (a(i).before(l) && j.setStartBefore(i))),
                                            (x =
                                                m(k, j, !1) || (a(k).after(l) && j.setEndAfter(k))));
                                }
                                "function" == typeof w && w(), "function" == typeof x && x();
                            }
                        } catch (z) {}
                    }
                    l && l.remove();
                    try {
                        g.addRange(j);
                    } catch (z) {}
                }
                b.markers.remove();
            }

            function m(c, d, e) {
                var f = c.previousSibling,
                    g = c.nextSibling;
                if (
                    f &&
                    g &&
                    f.nodeType == Node.TEXT_NODE &&
                    g.nodeType == Node.TEXT_NODE
                ) {
                    var h = f.textContent.length;
                    return e ?
                        ((g.textContent = f.textContent + g.textContent),
                            a(f).remove(),
                            a(c).remove(),
                            b.spaces.normalize(g),
                            function() {
                                d.setStart(g, h);
                            }) :
                        ((f.textContent = f.textContent + g.textContent),
                            a(g).remove(),
                            a(c).remove(),
                            b.spaces.normalize(f),
                            function() {
                                d.setEnd(f, h);
                            });
                }
                if (f && !g && f.nodeType == Node.TEXT_NODE) {
                    var h = f.textContent.length;
                    return e ?
                        (b.spaces.normalize(f),
                            function() {
                                d.setStart(f, h);
                            }) :
                        (b.spaces.normalize(f),
                            function() {
                                d.setEnd(f, h);
                            });
                }
                return g && !f && g.nodeType == Node.TEXT_NODE ?
                    e ?
                    (b.spaces.normalize(g),
                        function() {
                            d.setStart(g, 0);
                        }) :
                    (b.spaces.normalize(g),
                        function() {
                            d.setEnd(g, 0);
                        }) :
                    !1;
            }

            function n() {
                return !0;
            }

            function o() {
                for (var a = e(), b = 0; b < a.length; b++)
                    if (!a[b].collapsed) return !1;
                return !0;
            }

            function p(a) {
                var c,
                    d,
                    e = !1,
                    f = !1;
                if (b.win.getSelection) {
                    var g = b.win.getSelection();
                    g.rangeCount &&
                        ((c = g.getRangeAt(0)),
                            (d = c.cloneRange()),
                            d.selectNodeContents(a),
                            d.setEnd(c.startContainer, c.startOffset),
                            (e = "" === d.toString()),
                            d.selectNodeContents(a),
                            d.setStart(c.endContainer, c.endOffset),
                            (f = "" === d.toString()));
                } else
                    b.doc.selection &&
                    "Control" != b.doc.selection.type &&
                    ((c = b.doc.selection.createRange()),
                        (d = c.duplicate()),
                        d.moveToElementText(a),
                        d.setEndPoint("EndToStart", c),
                        (e = "" === d.text),
                        d.moveToElementText(a),
                        d.setEndPoint("StartToEnd", c),
                        (f = "" === d.text));
                return { atStart: e, atEnd: f };
            }

            function q() {
                if (o()) return !1;
                b.$el
                    .find("td")
                    .prepend('<span class="fr-mk">' + a.FE.INVISIBLE_SPACE + "</span>"),
                    b.$el
                    .find("img")
                    .append(
                        '<span class="fr-mk">' + a.FE.INVISIBLE_SPACE + "</span>"
                    );
                var c = !1,
                    d = p(b.$el.get(0));
                return (
                    d.atStart && d.atEnd && (c = !0), b.$el.find(".fr-mk").remove(), c
                );
            }

            function r(c, d) {
                "undefined" == typeof d && (d = !0);
                var e = a(c).html();
                e &&
                    e.replace(/\u200b/g, "").length != e.length &&
                    a(c).html(e.replace(/\u200b/g, ""));
                for (var f = b.node.contents(c), g = 0; g < f.length; g++)
                    f[g].nodeType != Node.ELEMENT_NODE ?
                    a(f[g]).remove() :
                    (r(f[g], 0 == g), 0 == g && (d = !1));
                c.nodeType == Node.TEXT_NODE ?
                    a(c).replaceWith(
                        '<span data-first="true" data-text="true"></span>'
                    ) :
                    d && a(c).attr("data-first", !0);
            }

            function s(c, d) {
                var e = b.node.contents(c.get(0));
                ["TD", "TH"].indexOf(c.get(0).tagName) >= 0 &&
                    1 == c.find(".fr-marker").length &&
                    a(e[0]).hasClass("fr-marker") &&
                    c.attr("data-del-cell", !0);
                for (var f = 0; f < e.length; f++) {
                    var g = e[f];
                    a(g).hasClass("fr-marker") ?
                        (d = (d + 1) % 2) :
                        d ?
                        a(g).find(".fr-marker").length > 0 ?
                        (d = s(a(g), d)) : ["TD", "TH"].indexOf(g.tagName) < 0 &&
                        !a(g).hasClass("fr-inner") ?
                        !b.opts.keepFormatOnDelete ||
                        b.$el.find("[data-first]").length > 0 ?
                        a(g).remove() :
                        r(g) :
                        a(g).hasClass("fr-inner") ?
                        0 == a(g).find(".fr-inner").length ?
                        a(g).html("<br>") :
                        a(g)
                        .find(".fr-inner")
                        .filter(function() {
                            return 0 == a(this).find("fr-inner").length;
                        })
                        .html("<br>") :
                        (a(g).empty(), a(g).attr("data-del-cell", !0)) :
                        a(g).find(".fr-marker").length > 0 && (d = s(a(g), d));
                }
                return d;
            }

            function t() {
                try {
                    if (!b.$wp) return !1;
                    for (
                        var a = e(0), c = a.commonAncestorContainer; c && !b.node.isElement(c);

                    )
                        c = c.parentNode;
                    return !!b.node.isElement(c);
                } catch (d) {
                    return !1;
                }
            }

            function u() {
                if (o()) return !0;
                k();
                for (
                    var c = function(b) {
                            for (
                                var c = b.previousSibling; c &&
                                c.nodeType == Node.TEXT_NODE &&
                                0 == c.textContent.length;

                            ) {
                                var d = c,
                                    c = c.previousSibling;
                                a(d).remove();
                            }
                            return c;
                        },
                        d = function(b) {
                            for (
                                var c = b.nextSibling; c &&
                                c.nodeType == Node.TEXT_NODE &&
                                0 == c.textContent.length;

                            ) {
                                var d = c,
                                    c = c.nextSibling;
                                a(d).remove();
                            }
                            return c;
                        },
                        e = b.$el.find('.fr-marker[data-type="true"]'),
                        f = 0; f < e.length; f++
                )
                    for (
                        var g = e[f]; !c(g) && !b.node.isBlock(g.parentNode) && !b.$el.is(g.parentNode);

                    )
                        a(g.parentNode).before(g);
                for (
                    var h = b.$el.find('.fr-marker[data-type="false"]'), f = 0; f < h.length; f++
                ) {
                    for (
                        var i = h[f]; !d(i) && !b.node.isBlock(i.parentNode) && !b.$el.is(i.parentNode);

                    )
                        a(i.parentNode).after(i);
                    i.parentNode &&
                        b.node.isBlock(i.parentNode) &&
                        b.node.isEmpty(i.parentNode) &&
                        !b.$el.is(i.parentNode) &&
                        a(i.parentNode).after(i);
                }
                if (n()) {
                    s(b.$el, 0);
                    var j = b.$el.find('[data-first="true"]');
                    if (j.length)
                        b.$el.find(".fr-marker").remove(),
                        j
                        .append(a.FE.INVISIBLE_SPACE + a.FE.MARKERS)
                        .removeAttr("data-first"),
                        j.attr("data-text") && j.replaceWith(j.html());
                    else {
                        b.$el
                            .find("table")
                            .filter(function() {
                                var b =
                                    a(this).find("[data-del-cell]").length > 0 &&
                                    a(this).find("[data-del-cell]").length ==
                                    a(this).find("td, th").length;
                                return b;
                            })
                            .remove(),
                            b.$el.find("[data-del-cell]").removeAttr("data-del-cell");
                        for (
                            var e = b.$el.find('.fr-marker[data-type="true"]'), f = 0; f < e.length; f++
                        ) {
                            var m = e[f],
                                p = m.nextSibling,
                                q = b.$el
                                .find(
                                    '.fr-marker[data-type="false"][data-id="' +
                                    a(m).data("id") +
                                    '"]'
                                )
                                .get(0);
                            if (q) {
                                if (p && p == q);
                                else if (m) {
                                    var r = b.node.blockParent(m),
                                        t = b.node.blockParent(q),
                                        u = !1,
                                        v = !1;
                                    if (
                                        (r && ["UL", "OL"].indexOf(r.tagName) >= 0 &&
                                            ((r = null), (u = !0)),
                                            t && ["UL", "OL"].indexOf(t.tagName) >= 0 &&
                                            ((t = null), (v = !0)),
                                            a(m).after(q),
                                            r == t)
                                    );
                                    else if (null != r || u)
                                        if (
                                            null != t ||
                                            v ||
                                            0 != a(r).parentsUntil(b.$el, "table").length
                                        )
                                            r &&
                                            t &&
                                            0 == a(r).parentsUntil(b.$el, "table").length &&
                                            0 == a(t).parentsUntil(b.$el, "table").length &&
                                            (a(r).append(a(t).html()), a(t).remove());
                                        else {
                                            for (
                                                var p = r; !p.nextSibling && p.parentNode != b.$el.get(0);

                                            )
                                                p = p.parentNode;
                                            for (p = p.nextSibling; p && "BR" != p.tagName;) {
                                                var w = p.nextSibling;
                                                a(r).append(p), (p = w);
                                            }
                                            p && "BR" == p.tagName && a(p).remove();
                                        }
                                    else {
                                        var x = b.node.deepestParent(m);
                                        x
                                            ?
                                            (a(x).after(a(t).html()), a(t).remove()) :
                                            0 == a(t).parentsUntil(b.$el, "table").length &&
                                            (a(m)
                                                .next()
                                                .after(a(t).html()),
                                                a(t).remove());
                                    }
                                }
                            } else
                                (q = a(m)
                                    .clone()
                                    .attr("data-type", !1)),
                                a(m).after(q);
                        }
                    }
                }
                b.opts.keepFormatOnDelete || b.html.fillEmptyBlocks(),
                    b.html.cleanEmptyTags(!0),
                    b.clean.lists(),
                    b.spaces.normalize();
                var y = b.$el.find(".fr-marker:last").get(0),
                    z = b.$el.find(".fr-marker:first").get(0);
                !y.nextSibling &&
                    z.previousSibling &&
                    "BR" == z.previousSibling.tagName &&
                    b.node.isElement(y.parentNode) &&
                    b.node.isElement(z.parentNode) &&
                    b.$el.append("<br>"),
                    l();
            }

            function v(c) {
                if (a(c).find(".fr-marker").length > 0) return !1;
                for (var d = b.node.contents(c); d.length && b.node.isBlock(d[0]);)
                    (c = d[0]), (d = b.node.contents(c));
                a(c).prepend(a.FE.MARKERS);
            }

            function w(c) {
                if (a(c).find(".fr-marker").length > 0) return !1;
                for (
                    var d = b.node.contents(c); d.length && b.node.isBlock(d[d.length - 1]);

                )
                    (c = d[d.length - 1]), (d = b.node.contents(c));
                a(c).append(a.FE.MARKERS);
            }

            function x(c) {
                for (
                    var d = c.previousSibling; d && d.nodeType == Node.TEXT_NODE && 0 == d.textContent.length;

                )
                    d = d.previousSibling;
                return d ?
                    (b.node.isBlock(d) ?
                        w(d) :
                        "BR" == d.tagName ?
                        a(d).before(a.FE.MARKERS) :
                        a(d).after(a.FE.MARKERS), !0) :
                    !1;
            }

            function y(c) {
                for (
                    var d = c.nextSibling; d && d.nodeType == Node.TEXT_NODE && 0 == d.textContent.length;

                )
                    d = d.nextSibling;
                return d ?
                    (b.node.isBlock(d) ? v(d) : a(d).before(a.FE.MARKERS), !0) :
                    !1;
            }
            return {
                text: c,
                get: d,
                ranges: e,
                clear: f,
                element: g,
                endElement: h,
                save: k,
                restore: l,
                isCollapsed: o,
                isFull: q,
                inEditor: t,
                remove: u,
                blocks: j,
                info: p,
                setAtEnd: w,
                setAtStart: v,
                setBefore: x,
                setAfter: y,
                rangeElement: i
            };
        }),
        (a.FE.MODULES.spaces = function(b) {
            function c(a) {
                var b = a.nextSibling || a.parentNode;
                return a.parentNode.removeChild(a), b;
            }

            function d(a, b) {
                return (a && a.parentNode === b) || "PRE" === b.nodeName ?
                    b.nextSibling || b.parentNode :
                    b.firstChild || b.nextSibling || b.parentNode;
            }

            function e(a) {
                if (
                    a.firstChild &&
                    "PRE" !== a.nodeName &&
                    !(["STYLE", "SCRIPT"].indexOf(a.tagName) >= 0)
                ) {
                    for (
                        var e = null, f = null, g = d(f, a); g !== a &&
                        "PRE" !== g.nodeName && ["STYLE", "SCRIPT"].indexOf(g.tagName) < 0;

                    ) {
                        if (g.nodeType === Node.TEXT_NODE) {
                            var h = g.data.replace(/[ \r\n\t]+/g, " ");
                            if (
                                ((e && !/ $/.test(e.data)) ||
                                    " " !== h[0] ||
                                    (h = h.substr(1)), !h || 0 == h.length)
                            ) {
                                g = c(g);
                                continue;
                            }
                            (g.data = h), (e = g);
                        } else
                            g.nodeType === Node.ELEMENT_NODE &&
                            (b.node.isBlock(g) || b.node.isVoid(g) ?
                                (e && e.data && (e.data = e.data.replace(/ $/, "")),
                                    (e = null)) :
                                0 == g.textContent.length && (e = g));
                        var i = d(f, g);
                        (f = g), (g = i);
                    }
                    e &&
                        e.data &&
                        ((e.data = e.data.replace(/ $/, "")), e.data || c(e));
                }
            }

            function f(c, d) {
                if (
                    (("undefined" != typeof c && c) || (c = b.$el.get(0)),
                        "undefined" == typeof d && (d = !1),
                        d && e(c), !c.getAttribute || "false" != c.getAttribute("contenteditable"))
                )
                    if (
                        c.nodeType == Node.ELEMENT_NODE && ["STYLE", "SCRIPT", "HEAD"].indexOf(c.tagName) < 0
                    )
                        for (var g = b.node.contents(c), h = g.length - 1; h >= 0; h--)
                            (g[h].tagName != Node.ELEMENT_NODE ||
                                (g[h].className || "").indexOf("fr-marker") < 0) &&
                            f(g[h]);
                    else if (c.nodeType == Node.TEXT_NODE && c.textContent.length > 0) {
                    var i = (c.previousSibling, c.nextSibling, c.textContent);
                    i = i.replace(new RegExp(a.FE.UNICODE_NBSP, "g"), " ");
                    for (var j = "", k = 0; k < i.length; k++)
                        j +=
                        32 != i.charCodeAt(k) ||
                        (0 !== k && 32 != j.charCodeAt(k - 1)) ?
                        i[k] :
                        a.FE.UNICODE_NBSP;
                    (!c.nextSibling ||
                        b.node.isBlock(c.nextSibling) ||
                        (c.nextSibling.nodeType == Node.ELEMENT_NODE &&
                            b.win.getComputedStyle(c.nextSibling) &&
                            "block" == b.win.getComputedStyle(c.nextSibling).display)) &&
                    (j = j.replace(/ $/, a.FE.UNICODE_NBSP)), !c.previousSibling ||
                        b.node.isVoid(c.previousSibling) ||
                        b.node.isBlock(c.previousSibling) ||
                        ((j = j.replace(/^\u00A0([^ $])/, " $1")),
                            1 !== j.length ||
                            160 !== j.charCodeAt(0) ||
                            !c.nextSibling ||
                            b.node.isVoid(c.nextSibling) ||
                            b.node.isBlock(c.nextSibling) ||
                            (j = " ")),
                        (j = j.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g, "$1 $2")),
                        c.textContent != j && (c.textContent = j);
                }
            }
            return { normalize: f };
        }),
        (a.FE.UNICODE_NBSP = String.fromCharCode(160)),
        (a.FE.VOID_ELEMENTS = [
            "area",
            "base",
            "br",
            "col",
            "embed",
            "hr",
            "img",
            "input",
            "keygen",
            "link",
            "menuitem",
            "meta",
            "param",
            "source",
            "track",
            "wbr"
        ]),
        (a.FE.BLOCK_TAGS = [
            "address",
            "article",
            "aside",
            "audio",
            "blockquote",
            "canvas",
            "dd",
            "div",
            "dl",
            "dt",
            "fieldset",
            "figcaption",
            "figure",
            "footer",
            "form",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "header",
            "hgroup",
            "hr",
            "li",
            "main",
            "nav",
            "noscript",
            "ol",
            "output",
            "p",
            "pre",
            "section",
            "table",
            "tbody",
            "td",
            "tfoot",
            "th",
            "thead",
            "tr",
            "ul",
            "video"
        ]),
        a.extend(a.FE.DEFAULTS, {
            htmlAllowedEmptyTags: [
                "textarea",
                "a",
                "iframe",
                "object",
                "video",
                "style",
                "script",
                ".fa",
                ".fr-emoticon"
            ],
            htmlDoNotWrapTags: ["script", "style"],
            htmlSimpleAmpersand: !1
        }),
        (a.FE.MODULES.html = function(b) {
            function c() {
                return b.opts.enter == a.FE.ENTER_P ?
                    "p" :
                    b.opts.enter == a.FE.ENTER_DIV ?
                    "div" :
                    b.opts.enter == a.FE.ENTER_BR ?
                    null :
                    void 0;
            }

            function d() {
                for (
                    var c = [], d = b.$el.get(0).querySelectorAll(f()), e = 0; e < d.length; e++
                )
                    if (!(
                            d[e].querySelectorAll(a.FE.VOID_ELEMENTS.join(",")).length >
                            0 ||
                            d[e].querySelectorAll(
                                b.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),") +
                                ":not(.fr-marker)"
                            ).length > 0 ||
                            d[e].querySelectorAll(f()).length > 0
                        )) {
                        for (
                            var g = b.node.contents(d[e]), h = !1, i = 0; i < g.length; i++
                        )
                            if (
                                g[i].nodeType != Node.COMMENT_NODE &&
                                g[i].textContent &&
                                g[i].textContent.replace(/\u200B/g, "").replace(/\n/g, "")
                                .length > 0
                            ) {
                                h = !0;
                                break;
                            }
                        h || c.push(d[e]);
                    }
                return c;
            }

            function e() {
                return a.FE.BLOCK_TAGS.join(":empty, ") + ":empty";
            }

            function f() {
                return a.FE.BLOCK_TAGS.join(", ");
            }

            function g(c) {
                var d = a.merge([], a.FE.VOID_ELEMENTS);
                (d = a.merge(d, b.opts.htmlAllowedEmptyTags)),
                "undefined" == typeof c && (d = a.merge(d, a.FE.BLOCK_TAGS));
                var e, f;
                do {
                    (f = !1),
                    (e = b.$el
                        .get(0)
                        .querySelectorAll(
                            "*:empty:not(" + d.join("):not(") + "):not(.fr-marker)"
                        ));
                    for (var g = 0; g < e.length; g++)
                        (0 === e[g].attributes.length ||
                            "undefined" != typeof e[g].getAttribute("href")) &&
                        (a(e[g]).remove(), (f = !0));
                    e = b.$el
                        .get(0)
                        .querySelectorAll(
                            "*:empty:not(" + d.join("):not(") + "):not(.fr-marker)"
                        );
                } while (e.length && f);
            }

            function h(d, e) {
                var f = c();
                if ((e && (f = 'div class="fr-temp-div"'), f))
                    for (
                        var g = b.node.contents(d.get(0)), h = null, i = 0; i < g.length; i++
                    ) {
                        var j = g[i];
                        if (
                            j.nodeType == Node.ELEMENT_NODE &&
                            (b.node.isBlock(j) ||
                                (a(j).is(b.opts.htmlDoNotWrapTags.join(",")) &&
                                    !a(j).hasClass("fr-marker")))
                        )
                            h = null;
                        else if (
                            j.nodeType != Node.ELEMENT_NODE &&
                            j.nodeType != Node.TEXT_NODE
                        )
                            h = null;
                        else if (j.nodeType == Node.ELEMENT_NODE && "BR" == j.tagName)
                            if (null == h)
                                e ?
                                a(j).replaceWith(
                                    "<" + f + ' data-empty="true"><br></div>'
                                ) :
                                a(j).replaceWith("<" + f + "><br></" + f + ">");
                            else {
                                a(j).remove();
                                for (
                                    var k = b.node.contents(h), l = !1, m = 0; m < k.length; m++
                                )
                                    if (!a(k[m]).hasClass("fr-marker") &&
                                        (k[m].nodeType != Node.TEXT_NODE ||
                                            0 !== k[m].textContent.replace(/ /g, "").length)
                                    ) {
                                        l = !0;
                                        break;
                                    }
                                l === !1 && (h.append("<br>"), h.data("empty", !0)),
                                    (h = null);
                            }
                        else
                            j.nodeType == Node.TEXT_NODE &&
                            0 ==
                            a(j)
                            .text()
                            .trim().length ?
                            a(j).remove() :
                            (null == h && ((h = a("<" + f + ">")), a(j).before(h)),
                                j.nodeType == Node.TEXT_NODE &&
                                a(j)
                                .text()
                                .trim().length > 0 ?
                                (h.append(a(j).clone()), a(j).remove()) :
                                h.append(a(j)));
                    }
            }

            function i(c, d, e, f) {
                return b.$wp ?
                    ("undefined" == typeof c && (c = !1),
                        "undefined" == typeof d && (d = !1),
                        "undefined" == typeof e && (e = !1),
                        "undefined" == typeof f && (f = !1),
                        h(b.$el, c),
                        f &&
                        b.$el.find(".fr-inner").each(function() {
                            h(a(this), c);
                        }),
                        d &&
                        b.$el.find("td, th").each(function() {
                            h(a(this), c);
                        }),
                        void(
                            e &&
                            b.$el.find("blockquote").each(function() {
                                h(a(this), c);
                            })
                        )) :
                    !1;
            }

            function j() {
                b.$el.find("div.fr-temp-div").each(function() {
                        a(this).data("empty") || "LI" == this.parentNode.tagName ?
                            a(this).replaceWith(a(this).html()) :
                            a(this).replaceWith(a(this).html() + "<br>");
                    }),
                    b.$el
                    .find(".fr-temp-div")
                    .removeClass("fr-temp-div")
                    .filter(function() {
                        return "" == a(this).attr("class");
                    })
                    .removeAttr("class");
            }

            function k() {
                for (var c = d(), e = 0; e < c.length; e++) {
                    var f = c[e];
                    "false" == f.getAttribute("contenteditable") ||
                        0 !=
                        f.querySelectorAll(
                            b.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),") +
                            ":not(.fr-marker)"
                        ).length ||
                        b.node.isVoid(f) ||
                        ("TABLE" != f.tagName &&
                            f.appendChild(b.doc.createElement("br")));
                }
                if (b.browser.msie && b.opts.enter == a.FE.ENTER_BR) {
                    var g = b.node.contents(b.$el.get(0));
                    g.length &&
                        g[g.length - 1].nodeType == Node.TEXT_NODE &&
                        b.$el.append("<br>");
                }
            }

            function l() {
                return b.$el.find(f());
            }

            function m(a) {
                if (
                    ("undefined" == typeof a && (a = b.$el.get(0)),
                        a && ["SCRIPT", "STYLE", "PRE"].indexOf(a.tagName) >= 0)
                )
                    return !1;
                for (var c = b.node.contents(a), d = c.length - 1; d >= 0; d--)
                    c[d].nodeType == Node.TEXT_NODE ?
                    ((c[d].textContent = c[d].textContent.replace(
                            /(?!^)( ){2,}(?!$)/g,
                            " "
                        )),
                        (c[d].textContent = c[d].textContent.replace(/\n/g, " ")),
                        (c[d].textContent = c[d].textContent.replace(/^[ ]{2,}/g, " ")),
                        (c[d].textContent = c[d].textContent.replace(/[ ]{2,}$/g, " ")),
                        (b.node.isBlock(a) || b.node.isElement(a)) &&
                        (c[d].previousSibling ||
                            (c[d].textContent = c[d].textContent.replace(/^ */, "")),
                            c[d].nextSibling ||
                            (c[d].textContent = c[d].textContent.replace(/ *$/, "")),
                            c[d].previousSibling &&
                            c[d].nextSibling &&
                            " " == c[d].textContent &&
                            (c[d].previousSibling &&
                                c[d].nextSibling &&
                                b.node.isBlock(c[d].previousSibling) &&
                                b.node.isBlock(c[d].nextSibling) ?
                                (c[d].textContent = "") :
                                (c[d].textContent = "\n")))) :
                    m(c[d]);
            }

            function n(a) {
                return (
                    a &&
                    (b.node.isBlock(a) || ["STYLE", "SCRIPT", "HEAD", "BR", "HR"].indexOf(a.tagName) >= 0 ||
                        a.nodeType == Node.COMMENT_NODE)
                );
            }

            function o(c) {
                if (
                    ("undefined" == typeof c && (c = b.$el.get(0)),
                        c.nodeType == Node.ELEMENT_NODE && ["STYLE", "SCRIPT", "HEAD"].indexOf(c.tagName) < 0)
                ) {
                    for (var d = b.node.contents(c), e = d.length - 1; e >= 0; e--)
                        if (!a(d[e]).hasClass("fr-marker")) {
                            var f = o(d[e]);
                            if (1 == f) return !0;
                        }
                } else if (c.nodeType == Node.TEXT_NODE && c.textContent.length > 0) {
                    var g = c.previousSibling,
                        h = c.nextSibling;
                    if (n(g) && n(h) && 0 === c.textContent.trim().length) return !0;
                    var i = c.textContent;
                    i = i.replace(new RegExp(a.FE.UNICODE_NBSP, "g"), " ");
                    for (var j = "", k = 0; k < i.length; k++)
                        j +=
                        32 != i.charCodeAt(k) || (0 !== k && 32 != j.charCodeAt(k - 1)) ?
                        i[k] :
                        a.FE.UNICODE_NBSP;
                    if (
                        (c.nextSibling || (j = j.replace(/ $/, a.FE.UNICODE_NBSP)),
                            c.previousSibling &&
                            !b.node.isVoid(c.previousSibling) &&
                            (j = j.replace(/^\u00A0([^ $])/, " $1")),
                            (j = j.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g, "$1 $2")),
                            c.textContent != j)
                    )
                        return !0;
                }
                return !1;
            }

            function p(a, b, c) {
                var d = new RegExp(b, "gi"),
                    e = d.exec(a);
                return e ? e[c] : null;
            }

            function q(a, b) {
                var c = a.match(
                    /<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i
                );
                return c ?
                    b.implementation.createDocumentType(c[1], c[3], c[4]) :
                    b.implementation.createDocumentType("html");
            }

            function r(a) {
                var b = a.doctype,
                    c = "<!DOCTYPE html>";
                return (
                    b &&
                    (c =
                        "<!DOCTYPE " +
                        b.name +
                        (b.publicId ? ' PUBLIC "' + b.publicId + '"' : "") +
                        (!b.publicId && b.systemId ? " SYSTEM" : "") +
                        (b.systemId ? ' "' + b.systemId + '"' : "") +
                        ">"),
                    c
                );
            }

            function s() {
                i(),
                    m(),
                    g(),
                    b.spaces.normalize(null, !0),
                    b.html.fillEmptyBlocks(),
                    b.clean.quotes(),
                    b.clean.lists(),
                    b.clean.tables(),
                    b.clean.toHTML5(),
                    b.selection.restore(),
                    t(),
                    b.placeholder.refresh();
            }

            function t() {
                b.core.isEmpty() &&
                    (null != c() ?
                        0 === b.$el.get(0).querySelectorAll(f()).length &&
                        0 ===
                        b.$el
                        .get(0)
                        .querySelectorAll(
                            b.opts.htmlDoNotWrapTags.join(":not(.fr-marker),") +
                            ":not(.fr-marker)"
                        ).length &&
                        (b.core.hasFocus() ?
                            (b.$el.html(
                                    "<" + c() + ">" + a.FE.MARKERS + "<br/></" + c() + ">"
                                ),
                                b.selection.restore()) :
                            b.$el.html("<" + c() + "><br/></" + c() + ">")) :
                        0 ===
                        b.$el.get(0).querySelectorAll("*:not(.fr-marker):not(br)")
                        .length &&
                        (b.core.hasFocus() ?
                            (b.$el.html(a.FE.MARKERS + "<br/>"), b.selection.restore()) :
                            b.$el.html("<br/>")));
            }

            function u(a, b) {
                return p(a, "<" + b + "[^>]*?>([\\w\\W]*)</" + b + ">", 1);
            }

            function v(c, d) {
                var e = a("<div " + (p(c, "<" + d + "([^>]*?)>", 1) || "") + ">");
                return b.node.rawAttributes(e.get(0));
            }

            function w(a) {
                return p(a, "<!DOCTYPE([^>]*?)>", 0) || "<!DOCTYPE html>";
            }

            function x(c) {
                var d = b.clean.html(c || "", [], [], b.opts.fullPage);
                if (b.opts.fullPage) {
                    var e = u(d, "body") || (d.indexOf("<body") >= 0 ? "" : d),
                        f = v(d, "body"),
                        g = u(d, "head") || "<title></title>",
                        h = v(d, "head"),
                        i = a("<div>")
                        .append(g)
                        .find(
                            "base, link, meta, noscript, script, style, template, title"
                        )
                        .remove()
                        .end()
                        .html()
                        .trim();
                    g = a("<div>")
                        .append(g)
                        .find(
                            "base, link, meta, noscript, script, style, template, title"
                        )
                        .map(function() {
                            return this.outerHTML;
                        })
                        .toArray()
                        .join("");
                    var j = w(d),
                        k = v(d, "html");
                    b.$el.html(i + "\n" + e),
                        b.node.clearAttributes(b.$el.get(0)),
                        b.$el.attr(f),
                        b.$el.addClass("fr-view"),
                        b.$el.attr("spellcheck", b.opts.spellcheck),
                        b.$el.attr("dir", b.opts.direction),
                        b.$head.html(g),
                        b.node.clearAttributes(b.$head.get(0)),
                        b.$head.attr(h),
                        b.node.clearAttributes(b.$html.get(0)),
                        b.$html.attr(k),
                        b.iframe_document.doctype.parentNode.replaceChild(
                            q(j, b.iframe_document),
                            b.iframe_document.doctype
                        );
                } else b.$el.html(d);
                var l = b.edit.isDisabled();
                b.edit.on(),
                    b.core.injectStyle(b.opts.iframeStyle),
                    s(),
                    b.opts.useClasses ||
                    (b.$el.find("[fr-original-class]").each(function() {
                            this.setAttribute(
                                    "class",
                                    this.getAttribute("fr-original-class")
                                ),
                                this.removeAttribute("fr-original-class");
                        }),
                        b.$el.find("[fr-original-style]").each(function() {
                            this.setAttribute(
                                    "style",
                                    this.getAttribute("fr-original-style")
                                ),
                                this.removeAttribute("fr-original-style");
                        })),
                    l && b.edit.off(),
                    b.events.trigger("html.set");
            }

            function y(a, c) {
                if (!b.$wp)
                    return b.$oel
                        .clone()
                        .removeClass("fr-view")
                        .removeAttr("contenteditable")
                        .get(0).outerHTML;
                var d = "";
                b.events.trigger("html.beforeGet");
                var e,
                    f = function(a) {
                        var b = /(#[^\s\+>~\.\[:]+)/g,
                            c = /(\[[^\]]+\])/g,
                            d = /(\.[^\s\+>~\.\[:]+)/g,
                            e = /(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,
                            f = /(:[\w-]+\([^\)]*\))/gi,
                            g = /(:[^\s\+>~\.\[:]+)/g,
                            h = /([^\s\+>~\.\[:]+)/g;
                        !(function() {
                            var b = /:not\(([^\)]*)\)/g;
                            b.test(a) && (a = a.replace(b, "     $1 "));
                        })();
                        var i =
                            100 * (a.match(b) || []).length +
                            10 * (a.match(c) || []).length +
                            10 * (a.match(d) || []).length +
                            10 * (a.match(f) || []).length +
                            10 * (a.match(g) || []).length +
                            (a.match(e) || []).length;
                        return (
                            (a = a.replace(/[\*\s\+>~]/g, " ")),
                            (a = a.replace(/[#\.]/g, " ")),
                            (i += (a.match(h) || []).length)
                        );
                    },
                    g = [],
                    h = {};
                if (!b.opts.useClasses && !c) {
                    for (e = 0; e < b.doc.styleSheets.length; e++) {
                        var i,
                            j = 0;
                        try {
                            (i = b.doc.styleSheets[e].cssRules),
                            b.doc.styleSheets[e].ownerNode &&
                                "STYLE" == b.doc.styleSheets[e].ownerNode.nodeType &&
                                (j = 1);
                        } catch (k) {}
                        if (i)
                            for (var l = 0, m = i.length; m > l; l++)
                                if (i[l].selectorText && i[l].style.cssText.length > 0) {
                                    var n,
                                        o = i[l].selectorText
                                        .replace(/body |\.fr-view /g, "")
                                        .replace(/::/g, ":");
                                    try {
                                        n = b.$el.get(0).querySelectorAll(o);
                                    } catch (k) {
                                        n = [];
                                    }
                                    for (var p = 0; p < n.length; p++) {
                                        !n[p].getAttribute("fr-original-style") &&
                                            n[p].getAttribute("style") ?
                                            (n[p].setAttribute(
                                                    "fr-original-style",
                                                    n[p].getAttribute("style")
                                                ),
                                                g.push(n[p])) :
                                            n[p].getAttribute("fr-original-style") ||
                                            g.push(n[p]),
                                            h[n[p]] || (h[n[p]] = {});
                                        for (
                                            var q = 1e3 * j + f(i[l].selectorText),
                                                s = i[l].style.cssText.split(";"),
                                                t = 0; t < s.length; t++
                                        ) {
                                            var u = s[t].trim().split(":")[0];
                                            h[n[p]][u] ||
                                                ((h[n[p]][u] = 0),
                                                    (
                                                        n[p].getAttribute("fr-original-style") || ""
                                                    ).indexOf(u + ":") >= 0 && (h[n[p]][u] = 1e4)),
                                                q >= h[n[p]][u] &&
                                                ((h[n[p]][u] = q),
                                                    s[t].trim().length &&
                                                    (n[p].style[u.trim()] = s[t]
                                                        .trim()
                                                        .split(":")[1]
                                                        .trim()));
                                        }
                                    }
                                }
                    }
                    for (e = 0; e < g.length; e++)
                        if (
                            (g[e].getAttribute("class") &&
                                (g[e].setAttribute(
                                        "fr-original-class",
                                        g[e].getAttribute("class")
                                    ),
                                    g[e].removeAttribute("class")),
                                (g[e].getAttribute("fr-original-style") || "").trim().length >
                                0)
                        )
                            for (
                                var v = g[e].getAttribute("fr-original-style").split(";"),
                                    p = 0; p < v.length; p++
                            )
                                v[p].indexOf(":") > 0 &&
                                (g[e].style[v[p].split(":")[0].trim()] = v[p]
                                    .split(":")[1]
                                    .trim());
                }
                if (
                    (b.core.isEmpty() ?
                        b.opts.fullPage &&
                        ((d = r(b.iframe_document)),
                            (d +=
                                "<html" +
                                b.node.attributes(b.$html.get(0)) +
                                ">" +
                                b.$html.find("head").get(0).outerHTML +
                                "<body></body></html>")) :
                        ("undefined" == typeof a && (a = !1),
                            b.opts.fullPage ?
                            ((d = r(b.iframe_document)),
                                b.$el.removeClass("fr-view"),
                                (d +=
                                    "<html" +
                                    b.node.attributes(b.$html.get(0)) +
                                    ">" +
                                    b.$html.html() +
                                    "</html>"),
                                b.$el.addClass("fr-view")) :
                            (d = b.$el.html())), !b.opts.useClasses && !c)
                )
                    for (e = 0; e < g.length; e++)
                        g[e].getAttribute("fr-original-class") &&
                        (g[e].setAttribute(
                                "class",
                                g[e].getAttribute("fr-original-class")
                            ),
                            g[e].removeAttribute("fr-original-class")),
                        g[e].getAttribute("fr-original-style") ?
                        (g[e].setAttribute(
                                "style",
                                g[e].getAttribute("fr-original-style")
                            ),
                            g[e].removeAttribute("fr-original-style")) :
                        g[e].removeAttribute("style");
                b.opts.fullPage &&
                    ((d = d.replace(
                            /<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,
                            ""
                        )),
                        (d = d.replace(
                            /<link(?:[\w\W]*?)data-fr-style="true"(?:[\w\W]*?)>/g,
                            ""
                        )),
                        (d = d.replace(
                            /<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,
                            ""
                        )),
                        (d = d.replace(
                            /<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,
                            "<body$1$2>$3</body>"
                        )),
                        (d = d.replace(
                            /<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,
                            "<body$1$3>$4</body>"
                        )),
                        (d = d.replace(
                            /<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,
                            "<body$1$3>$4</body>"
                        )),
                        (d = d.replace(
                            /<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,
                            '<body$1class="$2$4"$5>$6</body>'
                        )),
                        (d = d.replace(
                            /<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,
                            "<body$1$2>$3</body>"
                        ))),
                    b.opts.htmlSimpleAmpersand && (d = d.replace(/\&amp;/gi, "&")),
                    b.events.trigger("html.afterGet"),
                    a ||
                    (d = d.replace(
                        /<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,
                        ""
                    )),
                    (d = b.clean.invisibleSpaces(d));
                var w = b.events.chainTrigger("html.get", d);
                return (
                    "string" == typeof w && (d = w),
                    (d = d.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g, function(
                        a
                    ) {
                        return a.replace(/<br>/g, "\n");
                    }))
                );
            }

            function z() {
                var c = function(c, d) {
                        for (; d &&
                            (d.nodeType == Node.TEXT_NODE || !b.node.isBlock(d)) &&
                            !b.node.isElement(d);

                        )
                            d &&
                            d.nodeType != Node.TEXT_NODE &&
                            a(c).wrapInner(
                                b.node.openTagString(d) + b.node.closeTagString(d)
                            ),
                            (d = d.parentNode);
                        d && c.innerHTML == d.innerHTML && (c.innerHTML = d.outerHTML);
                    },
                    d = function() {
                        var c,
                            d = null;
                        return (
                            b.win.getSelection ?
                            ((c = b.win.getSelection()),
                                c &&
                                c.rangeCount &&
                                ((d = c.getRangeAt(0).commonAncestorContainer),
                                    d.nodeType != Node.ELEMENT_NODE && (d = d.parentNode))) :
                            (c = b.doc.selection) &&
                            "Control" != c.type &&
                            (d = c.createRange().parentElement()),
                            null != d &&
                            (a.inArray(b.$el.get(0), a(d).parents()) >= 0 ||
                                d == b.$el.get(0)) ?
                            d :
                            null
                        );
                    },
                    e = "";
                if ("undefined" != typeof b.win.getSelection) {
                    b.browser.mozilla &&
                        (b.selection.save(),
                            b.$el.find('.fr-marker[data-type="false"]').length > 1 &&
                            (b.$el
                                .find('.fr-marker[data-type="false"][data-id="0"]')
                                .remove(),
                                b.$el
                                .find('.fr-marker[data-type="false"]:last')
                                .attr("data-id", "0"),
                                b.$el
                                .find(".fr-marker")
                                .not('[data-id="0"]')
                                .remove()),
                            b.selection.restore());
                    for (var f = b.selection.ranges(), g = 0; g < f.length; g++) {
                        var h = document.createElement("div");
                        h.appendChild(f[g].cloneContents()),
                            c(h, d()),
                            a(h).find(".fr-element").length > 0 && (h = b.$el.get(0)),
                            (e += h.innerHTML);
                    }
                } else
                    "undefined" != typeof b.doc.selection &&
                    "Text" == b.doc.selection.type &&
                    (e = b.doc.selection.createRange().htmlText);
                return e;
            }

            function A(b) {
                var c = a("<div>").html(b);
                return c.find(f()).length > 0;
            }

            function B(a) {
                var c = b.doc.createElement("div");
                return (c.innerHTML = a), b.selection.setAtEnd(c), c.innerHTML;
            }

            function C(a) {
                return a
                    .replace(/</gi, "&lt;")
                    .replace(/>/gi, "&gt;")
                    .replace(/"/gi, "&quot;")
                    .replace(/'/gi, "&apos;");
            }

            function D(c, d, e) {
                b.selection.isCollapsed() || b.selection.remove();
                var f;
                if (
                    ((f = d ? c : b.clean.html(c)),
                        (f = f.replace(/\r|\n/g, " ")),
                        c.indexOf('class="fr-marker"') < 0 && (f = B(f)),
                        b.core.isEmpty())
                )
                    b.$el.html(f);
                else {
                    var g = b.markers.insert();
                    if (g) {
                        var h;
                        if ((A(f) || e) && (h = b.node.deepestParent(g))) {
                            var g = b.markers.split();
                            if (!g) return !1;
                            a(g).replaceWith(f);
                        } else a(g).replaceWith(f);
                    } else b.$el.append(f);
                }
                s(), b.events.trigger("html.inserted");
            }

            function E(c) {
                var d = null;
                "undefined" == typeof c && (d = b.selection.element());
                var e, f;
                do {
                    (f = !1), (e = b.$el.get(0).querySelectorAll("*:not(.fr-marker)"));
                    for (var g = 0; g < e.length; g++) {
                        var h = e[g];
                        if (d != h) {
                            var i = h.textContent;
                            0 === h.children.length &&
                                1 === i.length &&
                                8203 == i.charCodeAt(0) &&
                                (a(h).remove(), (f = !0));
                        }
                    }
                } while (f);
            }

            function F() {
                var a = function() {
                    E(), b.placeholder && b.placeholder.refresh();
                };
                b.events.on("mouseup", a),
                    b.events.on("keydown", a),
                    b.events.on("contentChanged", t);
            }
            return {
                defaultTag: c,
                emptyBlocks: d,
                emptyBlockTagsQuery: e,
                blockTagsQuery: f,
                fillEmptyBlocks: k,
                cleanEmptyTags: g,
                cleanWhiteTags: E,
                doNormalize: o,
                cleanBlankSpaces: m,
                blocks: l,
                getDoctype: r,
                set: x,
                get: y,
                getSelected: z,
                insert: D,
                wrap: i,
                unwrap: j,
                escapeEntities: C,
                checkIfEmpty: t,
                extractNode: u,
                extractNodeAttrs: v,
                extractDoctype: w,
                _init: F
            };
        }),
        a.extend(a.FE.DEFAULTS, {
            height: null,
            heightMax: null,
            heightMin: null,
            width: null
        }),
        (a.FE.MODULES.size = function(a) {
            function b() {
                c(),
                    a.opts.height &&
                    a.$el.css(
                        "minHeight",
                        a.opts.height -
                        a.helpers.getPX(a.$el.css("padding-top")) -
                        a.helpers.getPX(a.$el.css("padding-bottom"))
                    ),
                    a.$iframe.height(a.$el.outerHeight(!0));
            }

            function c() {
                a.opts.heightMin ?
                    a.$el.css("minHeight", a.opts.heightMin) :
                    a.$el.css("minHeight", ""),
                    a.opts.heightMax ?
                    (a.$wp.css("maxHeight", a.opts.heightMax),
                        a.$wp.css("overflow", "auto")) :
                    (a.$wp.css("maxHeight", ""), a.$wp.css("overflow", "")),
                    a.opts.height ?
                    (a.$wp.height(a.opts.height),
                        a.$el.css(
                            "minHeight",
                            a.opts.height -
                            a.helpers.getPX(a.$el.css("padding-top")) -
                            a.helpers.getPX(a.$el.css("padding-bottom"))
                        ),
                        a.$wp.css("overflow", "auto")) :
                    (a.$wp.css("height", ""),
                        a.opts.heightMin || a.$el.css("minHeight", ""),
                        a.opts.heightMax || a.$wp.css("overflow", "")),
                    a.opts.width && a.$box.width(a.opts.width);
            }

            function d() {
                return a.$wp ?
                    (c(),
                        void(
                            a.$iframe &&
                            (a.events.on("keyup", b),
                                a.events.on("commands.after", b),
                                a.events.on("html.set", b),
                                a.events.on("init", b),
                                a.events.on("initialized", b))
                        )) :
                    !1;
            }
            return { _init: d, syncIframe: b, refresh: c };
        }),
        a.extend(a.FE.DEFAULTS, { language: null }),
        (a.FE.LANGUAGE = {}),
        (a.FE.MODULES.language = function(b) {
            function c(a) {
                return e && e.translation[a] ? e.translation[a] : a;
            }

            function d() {
                a.FE.LANGUAGE && (e = a.FE.LANGUAGE[b.opts.language]),
                    e && e.direction && (b.opts.direction = e.direction);
            }
            var e;
            return { _init: d, translate: c };
        }),
        a.extend(a.FE.DEFAULTS, { placeholderText: "Type something" }),
        (a.FE.MODULES.placeholder = function(b) {
            function c() {
                b.$placeholder || g();
                var c = 0,
                    d = 0,
                    e = 0,
                    f = 0,
                    h = b.node.contents(b.$el.get(0));
                if (h.length && h[0].nodeType == Node.ELEMENT_NODE) {
                    var i = a(h[0]);
                    b.opts.toolbarInline ||
                        ((c = b.helpers.getPX(i.css("margin-top"))),
                            (e = b.helpers.getPX(i.css("padding-top"))),
                            (d = b.helpers.getPX(i.css("margin-left"))),
                            (f = b.helpers.getPX(i.css("padding-left")))),
                        b.$placeholder.css("font-size", i.css("font-size")),
                        b.$placeholder.css("line-height", i.css("line-height"));
                } else
                    b.$placeholder.css("font-size", b.$el.css("font-size")),
                    b.$placeholder.css("line-height", b.$el.css("line-height"));
                b.$wp.addClass("show-placeholder"),
                    b.$placeholder
                    .css({
                        marginTop: Math.max(
                            b.helpers.getPX(b.$el.css("margin-top")),
                            c
                        ),
                        paddingTop: Math.max(
                            b.helpers.getPX(b.$el.css("padding-top")),
                            e
                        ),
                        paddingLeft: Math.max(
                            b.helpers.getPX(b.$el.css("padding-left")),
                            f
                        ),
                        marginLeft: Math.max(
                            b.helpers.getPX(b.$el.css("margin-left")),
                            d
                        )
                    })
                    .text(
                        b.language.translate(
                            b.opts.placeholderText || b.$oel.attr("placeholder") || ""
                        )
                    ),
                    b.$placeholder.html(b.$placeholder.text().replace(/\n/g, "<br>"));
            }

            function d() {
                b.$wp.removeClass("show-placeholder");
            }

            function e() {
                return b.$wp ? b.$wp.hasClass("show-placeholder") : !0;
            }

            function f() {
                return b.$wp ? void(b.core.isEmpty() ? c() : d()) : !1;
            }

            function g() {
                (b.$placeholder = a('<span class="fr-placeholder"></span>')),
                b.$wp.append(b.$placeholder);
            }

            function h() {
                return b.$wp ?
                    void b.events.on(
                        "init input keydown keyup contentChanged initialized",
                        f
                    ) :
                    !1;
            }
            return { _init: h, show: c, hide: d, refresh: f, isVisible: e };
        }),
        (a.FE.MODULES.edit = function(a) {
            function b() {
                if (a.browser.mozilla)
                    try {
                        a.doc.execCommand("enableObjectResizing", !1, "false"),
                            a.doc.execCommand("enableInlineTableEditing", !1, "false");
                    } catch (b) {}
                if (a.browser.msie)
                    try {
                        a.doc.body.addEventListener("mscontrolselect", function(a) {
                            return a.preventDefault(), !1;
                        });
                    } catch (b) {}
            }

            function c() {
                a.$wp ?
                    (a.$el.attr("contenteditable", !0),
                        a.$el.removeClass("fr-disabled"),
                        a.$tb && a.$tb.removeClass("fr-disabled"),
                        b()) :
                    a.$el.is("a") && a.$el.attr("contenteditable", !0),
                    (f = !1);
            }

            function d() {
                a.$wp ?
                    (a.$el.attr("contenteditable", !1),
                        a.$el.addClass("fr-disabled"),
                        a.$tb && a.$tb.addClass("fr-disabled")) :
                    a.$el.is("a") && a.$el.attr("contenteditable", !1),
                    (f = !0);
            }

            function e() {
                return f;
            }
            var f = !1;
            return { on: c, off: d, disableDesign: b, isDisabled: e };
        }),
        a.extend(a.FE.DEFAULTS, {
            editorClass: null,
            typingTimer: 500,
            iframe: !1,
            requestWithCORS: !0,
            requestHeaders: {},
            useClasses: !0,
            spellcheck: !0,
            iframeStyle: 'html{margin: 0px;}body{padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}',
            iframeStyleFiles: [],
            direction: "auto",
            zIndex: 1,
            disableRightClick: !1,
            scrollableContainer: "body",
            keepFormatOnDelete: !1,
            theme: null
        }),
        (a.FE.MODULES.core = function(b) {
            function c(a) {
                if (b.opts.iframe) {
                    b.$head.find("style[data-fr-style], link[data-fr-style]").remove(),
                        b.$head.append('<style data-fr-style="true">' + a + "</style>");
                    for (var c = 0; c < b.opts.iframeStyleFiles.length; c++)
                        b.$head.append(
                            '<link data-fr-style="true" rel="stylesheet" href="' +
                            b.opts.iframeStyleFiles[c] +
                            '">'
                        );
                }
            }

            function d() {
                b.opts.iframe || b.$el.addClass("fr-element fr-view");
            }

            function e() {
                if (
                    (b.$box.addClass(
                            "fr-box" + (b.opts.editorClass ? " " + b.opts.editorClass : "")
                        ),
                        b.$wp.addClass("fr-wrapper"),
                        d(),
                        b.opts.iframe)
                ) {
                    b.$iframe.addClass("fr-iframe"), b.$el.addClass("fr-view");
                    for (var a = 0; a < b.o_doc.styleSheets.length; a++) {
                        var c;
                        try {
                            c = b.o_doc.styleSheets[a].cssRules;
                        } catch (e) {}
                        if (c)
                            for (var f = 0, g = c.length; g > f; f++)
                                !c[f].selectorText ||
                                (0 !== c[f].selectorText.indexOf(".fr-view") &&
                                    0 !== c[f].selectorText.indexOf(".fr-element")) ||
                                (c[f].style.cssText.length > 0 &&
                                    (0 === c[f].selectorText.indexOf(".fr-view") ?
                                        (b.opts.iframeStyle +=
                                            c[f].selectorText.replace(/\.fr-view/g, "body") +
                                            "{" +
                                            c[f].style.cssText +
                                            "}") :
                                        (b.opts.iframeStyle +=
                                            c[f].selectorText.replace(/\.fr-element/g, "body") +
                                            "{" +
                                            c[f].style.cssText +
                                            "}")));
                    }
                }
                "auto" != b.opts.direction &&
                    b.$box
                    .removeClass("fr-ltr fr-rtl")
                    .addClass("fr-" + b.opts.direction),
                    b.$el.attr("dir", b.opts.direction),
                    b.$wp.attr("dir", b.opts.direction),
                    b.opts.zIndex > 1 && b.$box.css("z-index", b.opts.zIndex),
                    b.opts.theme && b.$box.addClass(b.opts.theme + "-theme");
            }

            function f() {
                return b.node.isEmpty(b.$el.get(0));
            }

            function g() {
                b.drag_support = {
                    filereader: "undefined" != typeof FileReader,
                    formdata: !!b.win.FormData,
                    progress: "upload" in new XMLHttpRequest()
                };
            }

            function h(a, c) {
                var d = new XMLHttpRequest();
                d.open(c, a, !0), b.opts.requestWithCORS && (d.withCredentials = !0);
                for (var e in b.opts.requestHeaders)
                    b.opts.requestHeaders.hasOwnProperty(e) &&
                    d.setRequestHeader(e, b.opts.requestHeaders[e]);
                return d;
            }

            function i(a) {
                "TEXTAREA" == b.$oel.get(0).tagName && b.$oel.val(a),
                    b.$wp &&
                    ("TEXTAREA" == b.$oel.get(0).tagName ?
                        (b.$el.html(""),
                            b.$wp.html(""),
                            b.$box.replaceWith(b.$oel),
                            b.$oel.show()) :
                        (b.$wp.replaceWith(a),
                            b.$el.html(""),
                            b.$box.removeClass(
                                "fr-view fr-ltr fr-box " + (b.opts.editorClass || "")
                            ),
                            b.opts.theme && b.$box.addClass(b.opts.theme + "-theme"))),
                    (this.$wp = null),
                    (this.$el = null),
                    (this.$box = null);
            }

            function j() {
                return b.browser.mozilla && b.helpers.isMobile() ?
                    b.selection.inEditor() :
                    b.node.hasFocus(b.$el.get(0)) || b.$el.find("*:focus").length > 0;
            }

            function k(a) {
                if (!a) return !1;
                var c = a.data("instance");
                return c ? c.id == b.id : !1;
            }

            function l() {
                if ((a.FE.INSTANCES.push(b), g(), b.$wp)) {
                    e(),
                        b.html.set(b._original_html),
                        b.$el.attr("spellcheck", b.opts.spellcheck),
                        b.helpers.isMobile() &&
                        (b.$el.attr("autocomplete", b.opts.spellcheck ? "on" : "off"),
                            b.$el.attr("autocorrect", b.opts.spellcheck ? "on" : "off"),
                            b.$el.attr("autocapitalize", b.opts.spellcheck ? "on" : "off")),
                        b.opts.disableRightClick &&
                        b.events.$on(b.$el, "contextmenu", function(a) {
                            return 2 == a.button ? !1 : void 0;
                        });
                    try {
                        b.doc.execCommand("styleWithCSS", !1, !1);
                    } catch (c) {}
                }
                b.events.on("drop", function(a) {
                        a.preventDefault(), a.stopPropagation();
                    }),
                    "TEXTAREA" == b.$oel.get(0).tagName &&
                    (b.events.on("contentChanged", function() {
                            b.$oel.val(b.html.get());
                        }),
                        b.events.on("form.submit", function() {
                            b.$oel.val(b.html.get());
                        }),
                        b.events.on("form.reset", function() {
                            b.html.set(b._original_html);
                        }),
                        b.$oel.val(b.html.get())),
                    b.helpers.isIOS() &&
                    b.events.$on(b.$doc, "selectionchange", function() {
                        b.$doc.get(0).hasFocus() || b.$win.get(0).focus();
                    }),
                    b.events.trigger("init");
            }
            return {
                _init: l,
                destroy: i,
                isEmpty: f,
                getXHR: h,
                injectStyle: c,
                hasFocus: j,
                sameInstance: k
            };
        }),
        (a.FE.MODULES.format = function(b) {
            function c(a, b) {
                var c = "<" + a;
                for (var d in b)
                    b.hasOwnProperty(d) && (c += " " + d + '="' + b[d] + '"');
                return (c += ">");
            }

            function d(a) {
                return "</" + a + ">";
            }

            function e(a, b) {
                var c = a;
                for (var d in b)
                    b.hasOwnProperty(d) &&
                    (a +=
                        "id" == d ?
                        "#" + b[d] :
                        "class" == d ?
                        "." + b[d] :
                        "[" + d + '="' + b[d] + '"]');
                return c;
            }

            function f(a, b) {
                return a && a.nodeType == Node.ELEMENT_NODE ?
                    (
                        a.matches ||
                        a.matchesSelector ||
                        a.msMatchesSelector ||
                        a.mozMatchesSelector ||
                        a.webkitMatchesSelector ||
                        a.oMatchesSelector
                    ).call(a, b) :
                    !1;
            }

            function g(d, e, f) {
                if (d) {
                    if (b.node.isBlock(d)) return g(d.firstChild, e, f), !1;
                    for (
                        var h = a(c(e, f)).insertBefore(d), i = d; i &&
                        !a(i).is(".fr-marker") &&
                        0 == a(i).find(".fr-marker").length;

                    ) {
                        var j = i;
                        (i = i.nextSibling), h.append(j);
                    }
                    if (i) a(i).find(".fr-marker").length && g(i.firstChild, e, f);
                    else {
                        for (
                            var k = h.get(0).parentNode; k && !k.nextSibling && !b.node.isElement(k);

                        )
                            k = k.parentNode;
                        if (k) {
                            var l = k.nextSibling;
                            l && (b.node.isBlock(l) ? g(l.firstChild, e, f) : g(l, e, f));
                        }
                    }
                    h.is(":empty") && h.remove();
                }
            }

            function h(h, i) {
                if (
                    ("undefined" == typeof i && (i = {}),
                        i.style && delete i.style,
                        b.selection.isCollapsed())
                ) {
                    b.markers.insert();
                    var j = b.$el.find(".fr-marker");
                    j.replaceWith(c(h, i) + a.FE.INVISIBLE_SPACE + a.FE.MARKERS + d(h)),
                        b.selection.restore();
                } else {
                    b.selection.save();
                    var k = b.$el.find('.fr-marker[data-type="true"]').get(0)
                        .nextSibling;
                    g(k, h, i);
                    var l;
                    do
                        (l = b.$el.find(e(h, i) + " > " + e(h, i))),
                        l.each(function() {
                            a(this).replaceWith(this.innerHTML);
                        });
                    while (l.length);
                    b.$el.get(0).normalize();
                    for (
                        var m = b.$el.get(0).querySelectorAll(".fr-marker"), n = 0; n < m.length; n++
                    ) {
                        var o = a(m[n]);
                        1 == o.data("type") ?
                            f(o.get(0).nextSibling, e(h, i)) && o.next().prepend(o) :
                            f(o.get(0).previousSibling, e(h, i)) && o.prev().append(o);
                    }
                    b.selection.restore();
                }
            }

            function i(a, c, d, g) {
                if (!g) {
                    var h = !1;
                    if (a.data("type") === !0)
                        for (; b.node.isFirstSibling(a.get(0)) && !a.parent().is(b.$el);)
                            a.parent().before(a), (h = !0);
                    else if (a.data("type") === !1)
                        for (; b.node.isLastSibling(a.get(0)) && !a.parent().is(b.$el);)
                            a.parent().after(a), (h = !0);
                    if (h) return !0;
                }
                if (a.parents(c).length || "undefined" == typeof c) {
                    var i = "",
                        j = "",
                        k = a.parent();
                    if (k.is(b.$el) || b.node.isBlock(k.get(0))) return !1;
                    for (;
                        ("undefined" == typeof c && !b.node.isBlock(k.parent().get(0))) ||
                        ("undefined" != typeof c && !f(k.get(0), e(c, d)));

                    )
                        (i += b.node.closeTagString(k.get(0))),
                        (j = b.node.openTagString(k.get(0)) + j),
                        (k = k.parent());
                    var l = a.get(0).outerHTML;
                    a.replaceWith('<span id="mark"></span>');
                    var m = k
                        .html()
                        .replace(
                            /<span id="mark"><\/span>/,
                            i +
                            b.node.closeTagString(k.get(0)) +
                            j +
                            l +
                            i +
                            b.node.openTagString(k.get(0)) +
                            j
                        );
                    return (
                        k.replaceWith(
                            b.node.openTagString(k.get(0)) +
                            m +
                            b.node.closeTagString(k.get(0))
                        ), !0
                    );
                }
                return !1;
            }

            function j(c, d, g, h) {
                for (var i = b.node.contents(c.get(0)), k = 0; k < i.length; k++) {
                    var l = i[k];
                    a(l).hasClass("fr-marker") ?
                        (d = (d + 1) % 2) :
                        d ?
                        a(l).find(".fr-marker").length > 0 ?
                        (d = j(a(l), d, g, h)) :
                        (a(
                                a(l)
                                .find(g || "*")
                                .get()
                                .reverse()
                            ).each(function() {
                                b.node.isBlock(this) ||
                                    b.node.isVoid(this) ||
                                    a(this).replaceWith(this.innerHTML);
                            }),
                            (("undefined" == typeof g &&
                                    l.nodeType == Node.ELEMENT_NODE &&
                                    !b.node.isVoid(l) &&
                                    !b.node.isBlock(l)) ||
                                f(l, e(g, h))) &&
                            a(l).replaceWith(l.innerHTML)) :
                        a(l).find(".fr-marker").length > 0 && (d = j(a(l), d, g, h));
                }
                return d;
            }

            function k(c, d) {
                "undefined" == typeof d && (d = {}), d.style && delete d.style;
                var e = b.selection.isCollapsed();
                b.selection.save();
                for (var f = !0; f;) {
                    f = !1;
                    for (var g = b.$el.find(".fr-marker"), h = 0; h < g.length; h++)
                        if (i(a(g[h]), c, d, e)) {
                            f = !0;
                            break;
                        }
                }
                j(b.$el, 0, c, d),
                    e &&
                    b.$el
                    .find(".fr-marker")
                    .before(a.FE.INVISIBLE_SPACE)
                    .after(a.FE.INVISIBLE_SPACE),
                    b.html.cleanEmptyTags(),
                    b.$el.get(0).normalize(),
                    b.selection.restore();
            }

            function l(a, b) {
                q(a, b) ? k(a, b) : h(a, b);
            }

            function m(b, c) {
                var d = a(b);
                d.css(c, ""), "" === d.attr("style") && d.replaceWith(d.html());
            }

            function n(b, c) {
                return (
                    0 ===
                    a(b)
                    .attr("style")
                    .indexOf(c + ":") ||
                    a(b)
                    .attr("style")
                    .indexOf(";" + c + ":") >= 0 ||
                    a(b)
                    .attr("style")
                    .indexOf("; " + c + ":") >= 0
                );
            }

            function o(c, d) {
                if (b.selection.isCollapsed()) {
                    b.markers.insert();
                    var e = b.$el.find(".fr-marker"),
                        f = e.parent();
                    b.node.openTagString(f.get(0)) ==
                        '<span style="' + c + ": " + f.css(c) + ';">' &&
                        b.node.isEmpty(f.get(0)) ?
                        f.replaceWith(
                            '<span style="' +
                            c +
                            ": " +
                            d +
                            ';">' +
                            a.FE.INVISIBLE_SPACE +
                            a.FE.MARKERS +
                            "</span>"
                        ) :
                        b.node.isEmpty(f.get(0)) && f.is("span") ?
                        (e.replaceWith(a.FE.MARKERS), f.css(c, d)) :
                        e.replaceWith(
                            '<span style="' +
                            c +
                            ": " +
                            d +
                            ';">' +
                            a.FE.INVISIBLE_SPACE +
                            a.FE.MARKERS +
                            "</span>"
                        ),
                        b.selection.restore();
                } else {
                    if ((b.selection.save(), null === d))
                        for (var h = b.$el.find(".fr-marker"), i = 0; i < h.length; i++) {
                            var e = a(h[i]);
                            if (e.data("type") === !0)
                                for (; b.node.isFirstSibling(e.get(0)) && !e.parent().is(b.$el);

                                )
                                    e.parent().before(e);
                            else
                                for (; b.node.isLastSibling(e.get(0)) && !e.parent().is(b.$el);

                                )
                                    e.parent().after(e);
                        }
                    var j = b.$el.find('.fr-marker[data-type="true"]').get(0)
                        .nextSibling,
                        k = { class: "fr-unprocessed" };
                    for (
                        d && (k.style = c + ": " + d + ";"),
                        g(j, "span", k),
                        b.$el.find(".fr-marker + .fr-unprocessed").each(function() {
                            a(this).prepend(a(this).prev());
                        }),
                        b.$el.find(".fr-unprocessed + .fr-marker").each(function() {
                            a(this)
                                .prev()
                                .append(this);
                        }); b.$el.find("span.fr-unprocessed").length > 0;

                    ) {
                        var l = b.$el
                            .find("span.fr-unprocessed:first")
                            .removeClass("fr-unprocessed");
                        if (
                            (l
                                .parent()
                                .get(0)
                                .normalize(),
                                l.parent().is("span") &&
                                1 == l.parent().get(0).childNodes.length)
                        ) {
                            l.parent().css(c, d);
                            var o = l;
                            (l = l.parent()), o.replaceWith(o.html());
                        }
                        for (var p = l.find("span"), i = p.length - 1; i >= 0; i--)
                            m(p[i], c);
                        var q = l.parentsUntil(b.$el, "span[style]").filter(function() {
                            return n(this, c);
                        });
                        if (q.length) {
                            var r = "",
                                s = "",
                                t = "",
                                u = "",
                                v = l.get(0);
                            do
                                (v = v.parentNode),
                                (r += b.node.closeTagString(v)),
                                (s =
                                    b.node.openTagString(
                                        a(v)
                                        .clone()
                                        .addClass("fr-split")
                                        .get(0)
                                    ) + s),
                                q.get(0) != v &&
                                ((t += b.node.closeTagString(v)),
                                    (u =
                                        b.node.openTagString(
                                            a(v)
                                            .clone()
                                            .addClass("fr-split")
                                            .get(0)
                                        ) + u));
                            while (q.get(0) != v);
                            var w =
                                r +
                                b.node.openTagString(
                                    a(q.get(0))
                                    .clone()
                                    .css(c, d || "")
                                    .get(0)
                                ) +
                                u +
                                l.css(c, "").get(0).outerHTML +
                                t +
                                "</span>" +
                                s;
                            l.replaceWith('<span id="fr-break"></span>');
                            var x = q.get(0).outerHTML;
                            a(q.get(0)).replaceWith(
                                x.replace(/<span id="fr-break"><\/span>/g, w)
                            );
                        }
                    }
                    for (; b.$el.find(".fr-split:empty").length > 0;)
                        b.$el.find(".fr-split:empty").remove();
                    b.$el.find(".fr-split").removeClass("fr-split"),
                        b.$el.find('span[style=""]').removeAttr("style"),
                        b.$el.find('span[class=""]').removeAttr("class"),
                        b.html.cleanEmptyTags(),
                        a(
                            b.$el
                            .find("span")
                            .get()
                            .reverse()
                        ).each(function() {
                            (this.attributes && 0 != this.attributes.length) ||
                            a(this).replaceWith(this.innerHTML);
                        }),
                        b.$el.get(0).normalize();
                    var y = b.$el.find("span[style] + span[style]");
                    for (i = 0; i < y.length; i++) {
                        var z = a(y[i]),
                            A = a(y[i]).prev();
                        z.get(0).previousSibling == A.get(0) &&
                            b.node.openTagString(z.get(0)) ==
                            b.node.openTagString(A.get(0)) &&
                            (z.prepend(A.html()), A.remove());
                    }
                    b.$el.get(0).normalize(), b.selection.restore();
                }
            }

            function p(a) {
                o(a, null);
            }

            function q(a, c) {
                "undefined" == typeof c && (c = {}), c.style && delete c.style;
                var d = b.selection.ranges(0),
                    g = d.startContainer;
                g.nodeType == Node.ELEMENT_NODE &&
                    g.childNodes.length > 0 &&
                    g.childNodes[d.startOffset] &&
                    (g = g.childNodes[d.startOffset]);
                for (
                    var h = g; h && h.nodeType == Node.ELEMENT_NODE && !f(h, e(a, c));

                )
                    h = h.firstChild;
                if (h && h.nodeType == Node.ELEMENT_NODE && f(h, e(a, c))) return !0;
                var i = g;
                for (
                    i && i.nodeType != Node.ELEMENT_NODE && (i = i.parentNode); i &&
                    i.nodeType == Node.ELEMENT_NODE &&
                    i != b.$el.get(0) &&
                    !f(i, e(a, c));

                )
                    i = i.parentNode;
                return !(!i ||
                    i.nodeType != Node.ELEMENT_NODE ||
                    i == b.$el.get(0) ||
                    !f(i, e(a, c))
                );
            }
            return {
                is: q,
                toggle: l,
                apply: h,
                remove: k,
                applyStyle: o,
                removeStyle: p
            };
        }),
        (a.FE.COMMANDS = {
            bold: {
                title: "Bold",
                refresh: function(a) {
                    a.toggleClass("fr-active", this.format.is("strong"));
                }
            },
            italic: {
                title: "Italic",
                refresh: function(a) {
                    a.toggleClass("fr-active", this.format.is("em"));
                }
            },
            underline: {
                title: "Underline",
                refresh: function(a) {
                    a.toggleClass("fr-active", this.format.is("u"));
                }
            },
            strikeThrough: {
                title: "Strikethrough",
                refresh: function(a) {
                    a.toggleClass("fr-active", this.format.is("s"));
                }
            },
            subscript: {
                title: "Subscript",
                refresh: function(a) {
                    a.toggleClass("fr-active", this.format.is("sub"));
                }
            },
            superscript: {
                title: "Superscript",
                refresh: function(a) {
                    a.toggleClass("fr-active", this.format.is("sup"));
                }
            },
            outdent: { title: "Decrease Indent" },
            indent: { title: "Increase Indent" },
            undo: { title: "Undo", undo: !1, forcedRefresh: !0, disabled: !0 },
            redo: { title: "Redo", undo: !1, forcedRefresh: !0, disabled: !0 },
            insertHR: { title: "Insert Horizontal Line" },
            clearFormatting: { title: "Clear Formatting" },
            selectAll: { title: "Select All", undo: !1 }
        }),
        (a.FE.RegisterCommand = function(b, c) {
            a.FE.COMMANDS[b] = c;
        }),
        (a.FE.MODULES.commands = function(b) {
            function c(c, d) {
                if (
                    b.events.trigger("commands.before", a.merge([c], d || [])) !== !1
                ) {
                    var e = (a.FE.COMMANDS[c] && a.FE.COMMANDS[c].callback) || h[c],
                        f = !0;
                    a.FE.COMMANDS[c] &&
                        "undefined" != typeof a.FE.COMMANDS[c].focus &&
                        (f = a.FE.COMMANDS[c].focus),
                        b.core.hasFocus() ||
                        !f ||
                        b.popups.areVisible() ||
                        b.events.focus(!0),
                        a.FE.COMMANDS[c] &&
                        a.FE.COMMANDS[c].undo !== !1 &&
                        b.undo.saveStep(),
                        e && e.apply(b, a.merge([c], d || [])),
                        b.events.trigger("commands.after", a.merge([c], d || [])),
                        a.FE.COMMANDS[c] &&
                        a.FE.COMMANDS[c].undo !== !1 &&
                        b.undo.saveStep();
                }
            }

            function d(a, c) {
                b.format.toggle(c);
            }

            function e(c) {
                b.selection.save(),
                    b.html.wrap(!0, !0, !0, !0),
                    b.selection.restore();
                for (var d = b.selection.blocks(), e = 0; e < d.length; e++)
                    if ("LI" != d[e].tagName && "LI" != d[e].parentNode.tagName) {
                        var f = a(d[e]),
                            g =
                            "rtl" == b.opts.direction || "rtl" == f.css("direction") ?
                            "margin-right" :
                            "margin-left",
                            h = b.helpers.getPX(f.css(g));
                        f.css(g, Math.max(h + 20 * c, 0) || ""),
                            f.removeClass("fr-temp-div");
                    }
                b.selection.save(), b.html.unwrap(), b.selection.restore();
            }

            function f(a) {
                return function() {
                    c(a);
                };
            }

            function g() {
                b.events.on("keydown", function(a) {
                        var c = b.selection.element();
                        return c && "HR" == c.tagName ? (a.preventDefault(), !1) : void 0;
                    }),
                    b.events.on("mousedown", function(a) {
                        return a.target && "HR" == a.target.tagName ?
                            (a.preventDefault(), a.stopPropagation(), !1) :
                            void 0;
                    }),
                    b.events.on("mouseup", function(a) {
                        var c = b.selection.element(),
                            d = b.selection.endElement();
                        c == d && c && "HR" == c.tagName && b.selection.clear();
                    });
            }
            var h = {
                    bold: function() {
                        d("bold", "strong");
                    },
                    subscript: function() {
                        d("subscript", "sub");
                    },
                    superscript: function() {
                        d("superscript", "sup");
                    },
                    italic: function() {
                        d("italic", "em");
                    },
                    strikeThrough: function() {
                        d("strikeThrough", "s");
                    },
                    underline: function() {
                        d("underline", "u");
                    },
                    undo: function() {
                        b.undo.run();
                    },
                    redo: function() {
                        b.undo.redo();
                    },
                    indent: function() {
                        e(1);
                    },
                    outdent: function() {
                        e(-1);
                    },
                    show: function() {
                        b.opts.toolbarInline && b.toolbar.showInline(null, !0);
                    },
                    insertHR: function() {
                        b.selection.remove();
                        var a = "";
                        b.core.isEmpty() &&
                            ((a = "<br>"),
                                b.html.defaultTag() &&
                                (a =
                                    "<" +
                                    b.html.defaultTag() +
                                    ">" +
                                    a +
                                    "</" +
                                    b.html.defaultTag() +
                                    ">")),
                            b.html.insert('<hr id="fr-just">' + a);
                        var c = b.$el.find("hr#fr-just");
                        c.removeAttr("id"),
                            b.selection.setAfter(c.get(0)) ||
                            b.selection.setBefore(c.get(0)),
                            b.selection.restore();
                    },
                    clearFormatting: function() {
                        b.format.remove();
                    },
                    selectAll: function() {
                        b.doc.execCommand("selectAll", !1, !1);
                    }
                },
                i = {};
            for (var j in h) h.hasOwnProperty(j) && (i[j] = f(j));
            return a.extend(i, { exec: c, _init: g });
        }),
        (a.FE.MODULES.cursorLists = function(b) {
            function c(a) {
                for (var b = a;
                    "LI" != b.tagName;) b = b.parentNode;
                return b;
            }

            function d(a) {
                for (var c = a; !b.node.isList(c);) c = c.parentNode;
                return c;
            }

            function e(e) {
                var f,
                    g = c(e),
                    h = g.nextSibling,
                    i = g.previousSibling,
                    j = b.html.defaultTag();
                if (b.node.isEmpty(g, !0) && h) {
                    for (
                        var k = "", l = "", m = e.parentNode; !b.node.isList(m) &&
                        m.parentNode &&
                        "LI" !== m.parentNode.tagName;

                    )
                        (k = b.node.openTagString(m) + k),
                        (l += b.node.closeTagString(m)),
                        (m = m.parentNode);
                    (k = b.node.openTagString(m) + k), (l += b.node.closeTagString(m));
                    var n = "";
                    for (
                        n =
                        m.parentNode && "LI" == m.parentNode.tagName ?
                        l + "<li>" + a.FE.MARKERS + "<br>" + k :
                        j ?
                        l + "<" + j + ">" + a.FE.MARKERS + "<br></" + j + ">" + k :
                        l + a.FE.MARKERS + "<br>" + k,
                        a(g).html('<span id="fr-break"></span>');
                        ["UL", "OL"].indexOf(m.tagName) < 0 ||
                        (m.parentNode && "LI" === m.parentNode.tagName);

                    )
                        m = m.parentNode;
                    var o =
                        b.node.openTagString(m) + a(m).html() + b.node.closeTagString(m);
                    (o = o.replace(/<span id="fr-break"><\/span>/g, n)),
                    a(m).replaceWith(o),
                        b.$el.find("li:empty").remove();
                } else
                    (i && h) || !b.node.isEmpty(g, !0) ?
                    (a(g).before("<li><br></li>"), a(e).remove()) :
                    i ?
                    ((f = d(g)),
                        f.parentNode && "LI" == f.parentNode.tagName ?
                        a(f.parentNode).after("<li>" + a.FE.MARKERS + "<br></li>") :
                        j ?
                        a(f).after(
                            "<" + j + ">" + a.FE.MARKERS + "<br></" + j + ">"
                        ) :
                        a(f).after(a.FE.MARKERS + "<br>"),
                        a(g).remove()) :
                    ((f = d(g)),
                        f.parentNode && "LI" == f.parentNode.tagName ?
                        a(f.parentNode).before("<li>" + a.FE.MARKERS + "<br></li>") :
                        j ?
                        a(f).before(
                            "<" + j + ">" + a.FE.MARKERS + "<br></" + j + ">"
                        ) :
                        a(f).before(a.FE.MARKERS + "<br>"),
                        a(g).remove());
            }

            function f(d) {
                for (var e = c(d), f = "", g = d, h = "", i = ""; g != e;) {
                    g = g.parentNode;
                    var j =
                        "A" == g.tagName && b.cursor.isAtEnd(d, g) ? "fr-to-remove" : "";
                    (h =
                        b.node.openTagString(
                            a(g)
                            .clone()
                            .addClass(j)
                            .get(0)
                        ) + h),
                    (i = b.node.closeTagString(g) + i);
                }
                (f = i + f + h + a.FE.MARKERS),
                a(d).replaceWith('<span id="fr-break"></span>');
                var k =
                    b.node.openTagString(e) + a(e).html() + b.node.closeTagString(e);
                (k = k.replace(/<span id="fr-break"><\/span>/g, f)),
                a(e).replaceWith(k);
            }

            function g(d) {
                for (
                    var e = c(d), f = a.FE.MARKERS, g = "", h = d, i = !1; h != e;

                ) {
                    h = h.parentNode;
                    var j =
                        "A" == h.tagName && b.cursor.isAtEnd(d, h) ? "fr-to-remove" : "";
                    i ||
                        h == e ||
                        b.node.isBlock(h) ||
                        ((i = !0), (g += a.FE.INVISIBLE_SPACE)),
                        (g =
                            b.node.openTagString(
                                a(h)
                                .clone()
                                .addClass(j)
                                .get(0)
                            ) + g),
                        (f += b.node.closeTagString(h));
                }
                var k = g + f;
                a(d).remove(), a(e).after(k);
            }

            function h(e) {
                var f = c(e),
                    g = f.previousSibling;
                if (g) {
                    (g =
                        a(g)
                        .find(b.html.blockTagsQuery())
                        .get(-1) || g),
                    a(e).replaceWith(a.FE.MARKERS);
                    var h = b.node.contents(g);
                    h.length &&
                        "BR" == h[h.length - 1].tagName &&
                        a(h[h.length - 1]).remove(),
                        a(f)
                        .find(b.html.blockTagsQuery())
                        .not("ol, ul, table")
                        .each(function() {
                            this.parentNode == f &&
                                a(this).replaceWith(
                                    a(this).html() + (b.node.isEmpty(this) ? "" : "<br>")
                                );
                        });
                    for (var i, j = b.node.contents(f)[0]; j && !b.node.isList(j);)
                        (i = j.nextSibling), a(g).append(j), (j = i);
                    for (g = f.previousSibling; j;)
                        (i = j.nextSibling), a(g).append(j), (j = i);
                    a(f).remove();
                } else {
                    var k = d(f);
                    if (
                        (a(e).replaceWith(a.FE.MARKERS),
                            k.parentNode && "LI" == k.parentNode.tagName)
                    ) {
                        var l = k.previousSibling;
                        b.node.isBlock(l) ?
                            (a(f)
                                .find(b.html.blockTagsQuery())
                                .not("ol, ul, table")
                                .each(function() {
                                    this.parentNode == f &&
                                        a(this).replaceWith(
                                            a(this).html() + (b.node.isEmpty(this) ? "" : "<br>")
                                        );
                                }),
                                a(l).append(a(f).html())) :
                            a(k).before(a(f).html());
                    } else {
                        var m = b.html.defaultTag();
                        m && 0 === a(f).find(b.html.blockTagsQuery()).length ?
                            a(k).before("<" + m + ">" + a(f).html() + "</" + m + ">") :
                            a(k).before(a(f).html());
                    }
                    a(f).remove(), 0 === a(k).find("li").length && a(k).remove();
                }
            }

            function i(d) {
                var e,
                    f = c(d),
                    g = f.nextSibling;
                if (g) {
                    (e = b.node.contents(g)),
                    e.length && "BR" == e[0].tagName && a(e[0]).remove(),
                        a(g)
                        .find(b.html.blockTagsQuery())
                        .not("ol, ul, table")
                        .each(function() {
                            this.parentNode == g &&
                                a(this).replaceWith(
                                    a(this).html() + (b.node.isEmpty(this) ? "" : "<br>")
                                );
                        });
                    for (
                        var h, i = d, j = b.node.contents(g)[0]; j && !b.node.isList(j);

                    )
                        (h = j.nextSibling), a(i).after(j), (i = j), (j = h);
                    for (; j;)(h = j.nextSibling), a(f).append(j), (j = h);
                    a(d).replaceWith(a.FE.MARKERS), a(g).remove();
                } else {
                    for (var k = f; !k.nextSibling && k != b.$el.get(0);)
                        k = k.parentNode;
                    if (k == b.$el.get(0)) return !1;
                    if (((k = k.nextSibling), b.node.isBlock(k)))
                        a.FE.NO_DELETE_TAGS.indexOf(k.tagName) < 0 &&
                        (a(d).replaceWith(a.FE.MARKERS),
                            (e = b.node.contents(f)),
                            e.length &&
                            "BR" == e[e.length - 1].tagName &&
                            a(e[e.length - 1]).remove(),
                            a(f).append(a(k).html()),
                            a(k).remove());
                    else
                        for (
                            e = b.node.contents(f),
                            e.length &&
                            "BR" == e[e.length - 1].tagName &&
                            a(e[e.length - 1]).remove(),
                            a(d).replaceWith(a.FE.MARKERS); k && !b.node.isBlock(k) && "BR" != k.tagName;

                        )
                            a(f).append(a(k)), (k = k.nextSibling);
                }
            }
            return {
                _startEnter: e,
                _middleEnter: f,
                _endEnter: g,
                _backspace: h,
                _del: i
            };
        }),
        (a.FE.NO_DELETE_TAGS = ["TH", "TD", "TABLE", "FORM"]),
        (a.FE.SIMPLE_ENTER_TAGS = ["TH", "TD", "LI", "DL", "DT", "FORM"]),
        (a.FE.MODULES.cursor = function(b) {
            function c(a) {
                return a ?
                    b.node.isBlock(a) ?
                    !0 :
                    a.nextSibling ?
                    !1 :
                    c(a.parentNode) :
                    !1;
            }

            function d(a) {
                return a ?
                    b.node.isBlock(a) ?
                    !0 :
                    a.previousSibling ?
                    !1 :
                    d(a.parentNode) :
                    !1;
            }

            function e(a, c) {
                return a ?
                    a == b.$wp.get(0) ?
                    !1 :
                    a.previousSibling ?
                    !1 :
                    a.parentNode == c ?
                    !0 :
                    e(a.parentNode, c) :
                    !1;
            }

            function f(a, c) {
                return a ?
                    a == b.$wp.get(0) ?
                    !1 :
                    a.nextSibling ?
                    !1 :
                    a.parentNode == c ?
                    !0 :
                    f(a.parentNode, c) :
                    !1;
            }

            function g(c) {
                return (
                    a(c).parentsUntil(b.$el, "LI").length > 0 &&
                    0 === a(c).parentsUntil("LI", "TABLE").length
                );
            }

            function h(c) {
                var d = a(c).parentsUntil(b.$el, "BLOCKQUOTE").length > 0,
                    e = b.node.deepestParent(c, [], !d);
                if (e && "BLOCKQUOTE" == e.tagName) {
                    var f = b.node.deepestParent(c, [
                        a(c)
                        .parentsUntil(b.$el, "BLOCKQUOTE")
                        .get(0)
                    ]);
                    f && f.previousSibling && (e = f);
                }
                if (null !== e) {
                    var g,
                        h = e.previousSibling;
                    if (
                        b.node.isBlock(e) &&
                        b.node.isEditable(e) &&
                        h &&
                        a.FE.NO_DELETE_TAGS.indexOf(h.tagName) < 0
                    )
                        if (b.node.isDeletable(h))
                            a(h).remove(), a(c).replaceWith(a.FE.MARKERS);
                        else if (b.node.isEditable(h))
                        if (b.node.isBlock(h))
                            if (b.node.isEmpty(h) && !b.node.isList(h)) a(h).remove();
                            else {
                                if (
                                    (b.node.isList(h) &&
                                        (h = a(h)
                                            .find("li:last")
                                            .get(0)),
                                        (g = b.node.contents(h)),
                                        g.length &&
                                        "BR" == g[g.length - 1].tagName &&
                                        a(g[g.length - 1]).remove(),
                                        "BLOCKQUOTE" == h.tagName && "BLOCKQUOTE" != e.tagName)
                                )
                                    for (
                                        g = b.node.contents(h); g.length && b.node.isBlock(g[g.length - 1]);

                                    )
                                        (h = g[g.length - 1]), (g = b.node.contents(h));
                                else if (
                                    "BLOCKQUOTE" != h.tagName &&
                                    "BLOCKQUOTE" == e.tagName
                                )
                                    for (
                                        g = b.node.contents(e); g.length && b.node.isBlock(g[0]);

                                    )
                                        (e = g[0]), (g = b.node.contents(e));
                                a(c).replaceWith(a.FE.MARKERS),
                                    a(h).append(
                                        b.node.isEmpty(e) ? a.FE.MARKERS : e.innerHTML
                                    ),
                                    a(e).remove();
                            }
                    else
                        a(c).replaceWith(a.FE.MARKERS),
                        "BLOCKQUOTE" == e.tagName && h.nodeType == Node.ELEMENT_NODE ?
                        a(h).remove() :
                        (a(h).after(b.node.isEmpty(e) ? "" : a(e).html()),
                            a(e).remove(),
                            "BR" == h.tagName && a(h).remove());
                }
            }

            function i(c) {
                for (var d = c; !d.previousSibling;)
                    if (((d = d.parentNode), b.node.isElement(d))) return !1;
                d = d.previousSibling;
                var e;
                if (!b.node.isBlock(d) && b.node.isEditable(d)) {
                    for (
                        e = b.node.contents(d); d.nodeType != Node.TEXT_NODE &&
                        !b.node.isDeletable(d) &&
                        e.length &&
                        b.node.isEditable(d);

                    )
                        (d = e[e.length - 1]), (e = b.node.contents(d));
                    if (d.nodeType == Node.TEXT_NODE) {
                        if (b.helpers.isIOS()) return !0;
                        var f = d.textContent,
                            g = f.length - 1;
                        if (b.opts.tabSpaces && f.length >= b.opts.tabSpaces) {
                            var h = f.substr(f.length - b.opts.tabSpaces, f.length - 1);
                            0 ==
                                h
                                .replace(/ /g, "")
                                .replace(new RegExp(a.FE.UNICODE_NBSP, "g"), "").length &&
                                (g = f.length - b.opts.tabSpaces);
                        }
                        (d.textContent = f.substring(0, g)),
                        d.textContent.length &&
                            55357 == d.textContent.charCodeAt(d.textContent.length - 1) &&
                            (d.textContent = d.textContent.substr(
                                0,
                                d.textContent.length - 1
                            )),
                            0 == d.textContent.length ?
                            2 != d.parentNode.childNodes.length ||
                            d.parentNode != c.parentNode ||
                            b.node.isBlock(d.parentNode) ||
                            b.node.isElement(d.parentNode) ?
                            (a(d).after(a.FE.MARKERS),
                                b.node.isElement(d.parentNode) &&
                                !c.nextSibling &&
                                d.previousSibling &&
                                "BR" == d.previousSibling.tagName &&
                                a(c).after("<br>"),
                                d.parentNode.removeChild(d)) :
                            (a(d.parentNode).after(a.FE.MARKERS),
                                a(d.parentNode).remove()) :
                            a(d).after(a.FE.MARKERS);
                    } else
                        b.node.isDeletable(d) ?
                        (a(d).after(a.FE.MARKERS), a(d).remove()) :
                        b.events.trigger("node.remove", [a(d)]) !== !1 &&
                        (a(d).after(a.FE.MARKERS), a(d).remove());
                } else if (
                    a.FE.NO_DELETE_TAGS.indexOf(d.tagName) < 0 &&
                    b.node.isEditable(d)
                )
                    if (b.node.isEmpty(d) && !b.node.isList(d))
                        a(d).remove(), a(c).replaceWith(a.FE.MARKERS);
                    else {
                        for (
                            b.node.isList(d) &&
                            (d = a(d)
                                .find("li:last")
                                .get(0)),
                            e = b.node.contents(d),
                            e &&
                            "BR" == e[e.length - 1].tagName &&
                            a(e[e.length - 1]).remove(),
                            e = b.node.contents(d); e && b.node.isBlock(e[e.length - 1]);

                        )
                            (d = e[e.length - 1]), (e = b.node.contents(d));
                        a(d).append(a.FE.MARKERS);
                        for (var i = c; !i.previousSibling;) i = i.parentNode;
                        for (; i && "BR" !== i.tagName && !b.node.isBlock(i);) {
                            var j = i;
                            (i = i.nextSibling), a(d).append(j);
                        }
                        i && "BR" == i.tagName && a(i).remove(), a(c).remove();
                    }
                else
                    c.nextSibling &&
                    "BR" == c.nextSibling.tagName &&
                    a(c.nextSibling).remove();
            }

            function j() {
                var f = !1,
                    j = b.markers.insert();
                if (!j) return !0;
                b.$el.get(0).normalize();
                var k = j.previousSibling;
                if (k) {
                    var l = k.textContent;
                    l &&
                        l.length &&
                        8203 == l.charCodeAt(l.length - 1) &&
                        (1 == l.length ?
                            a(k).remove() :
                            ((k.textContent = k.textContent.substr(0, l.length - 1)),
                                k.textContent.length &&
                                55357 ==
                                k.textContent.charCodeAt(k.textContent.length - 1) &&
                                (k.textContent = k.textContent.substr(
                                    0,
                                    k.textContent.length - 1
                                ))));
                }
                return (
                    c(j) ?
                    (f = i(j)) :
                    d(j) ?
                    g(j) &&
                    e(
                        j,
                        a(j)
                        .parents("li:first")
                        .get(0)
                    ) ?
                    b.cursorLists._backspace(j) :
                    h(j) :
                    (f = i(j)),
                    a(j).remove(),
                    b.$el.find("blockquote:empty").remove(),
                    b.html.fillEmptyBlocks(),
                    b.html.cleanEmptyTags(),
                    b.clean.quotes(),
                    b.clean.lists(),
                    b.spaces.normalize(),
                    b.selection.restore(),
                    f
                );
            }

            function k(c) {
                var d = a(c).parentsUntil(b.$el, "BLOCKQUOTE").length > 0,
                    e = b.node.deepestParent(c, [], !d);
                if (e && "BLOCKQUOTE" == e.tagName) {
                    var f = b.node.deepestParent(c, [
                        a(c)
                        .parentsUntil(b.$el, "BLOCKQUOTE")
                        .get(0)
                    ]);
                    f && f.nextSibling && (e = f);
                }
                if (null !== e) {
                    var g,
                        h = e.nextSibling;
                    if (
                        b.node.isBlock(e) &&
                        (b.node.isEditable(e) || b.node.isDeletable(e)) &&
                        h &&
                        a.FE.NO_DELETE_TAGS.indexOf(h.tagName) < 0
                    )
                        if (b.node.isDeletable(h))
                            a(h).remove(), a(c).replaceWith(a.FE.MARKERS);
                        else if (b.node.isBlock(h) && b.node.isEditable(h))
                        if (b.node.isList(h))
                            if (b.node.isEmpty(e, !0))
                                a(e).remove(),
                                a(h)
                                .find("li:first")
                                .prepend(a.FE.MARKERS);
                            else {
                                var i = a(h).find("li:first");
                                "BLOCKQUOTE" == e.tagName &&
                                    ((g = b.node.contents(e)),
                                        g.length &&
                                        b.node.isBlock(g[g.length - 1]) &&
                                        (e = g[g.length - 1])),
                                    0 === i.find("ul, ol").length &&
                                    (a(c).replaceWith(a.FE.MARKERS),
                                        i
                                        .find(b.html.blockTagsQuery())
                                        .not("ol, ul, table")
                                        .each(function() {
                                            this.parentNode == i.get(0) &&
                                                a(this).replaceWith(
                                                    a(this).html() +
                                                    (b.node.isEmpty(this) ? "" : "<br>")
                                                );
                                        }),
                                        a(e).append(b.node.contents(i.get(0))),
                                        i.remove(),
                                        0 === a(h).find("li").length && a(h).remove());
                            }
                    else {
                        if (
                            ((g = b.node.contents(h)),
                                g.length && "BR" == g[0].tagName && a(g[0]).remove(),
                                "BLOCKQUOTE" != h.tagName && "BLOCKQUOTE" == e.tagName)
                        )
                            for (
                                g = b.node.contents(e); g.length && b.node.isBlock(g[g.length - 1]);

                            )
                                (e = g[g.length - 1]), (g = b.node.contents(e));
                        else if (
                            "BLOCKQUOTE" == h.tagName &&
                            "BLOCKQUOTE" != e.tagName
                        )
                            for (
                                g = b.node.contents(h); g.length && b.node.isBlock(g[0]);

                            )
                                (h = g[0]), (g = b.node.contents(h));
                        a(c).replaceWith(a.FE.MARKERS),
                            a(e).append(h.innerHTML),
                            a(h).remove();
                    } else {
                        for (
                            a(c).replaceWith(a.FE.MARKERS); h &&
                            "BR" !== h.tagName &&
                            !b.node.isBlock(h) &&
                            b.node.isEditable(h);

                        ) {
                            var j = h;
                            (h = h.nextSibling), a(e).append(j);
                        }
                        h && "BR" == h.tagName && b.node.isEditable(h) && a(h).remove();
                    }
                }
            }

            function l(d) {
                for (var e = d; !e.nextSibling;)
                    if (((e = e.parentNode), b.node.isElement(e))) return !1;
                if (((e = e.nextSibling), "BR" == e.tagName && b.node.isEditable(e)))
                    if (e.nextSibling) {
                        if (
                            b.node.isBlock(e.nextSibling) &&
                            b.node.isEditable(e.nextSibling)
                        ) {
                            if (!(a.FE.NO_DELETE_TAGS.indexOf(e.nextSibling.tagName) < 0))
                                return void a(e).remove();
                            (e = e.nextSibling), a(e.previousSibling).remove();
                        }
                    } else if (c(e)) {
                    if (g(d)) b.cursorLists._del(d);
                    else {
                        var f = b.node.deepestParent(e);
                        f && (a(e).remove(), k(d));
                    }
                    return;
                }
                var h;
                if (!b.node.isBlock(e) && b.node.isEditable(e)) {
                    for (
                        h = b.node.contents(e); e.nodeType != Node.TEXT_NODE &&
                        h.length &&
                        !b.node.isDeletable(e) &&
                        b.node.isEditable(e);

                    )
                        (e = h[0]), (h = b.node.contents(e));
                    e.nodeType == Node.TEXT_NODE ?
                        (a(e).before(a.FE.MARKERS),
                            e.textContent.length && 55357 == e.textContent.charCodeAt(0) ?
                            (e.textContent = e.textContent.substring(
                                2,
                                e.textContent.length
                            )) :
                            (e.textContent = e.textContent.substring(
                                1,
                                e.textContent.length
                            ))) :
                        b.node.isDeletable(e) ?
                        (a(e).before(a.FE.MARKERS), a(e).remove()) :
                        b.events.trigger("node.remove", [a(e)]) !== !1 &&
                        (a(e).before(a.FE.MARKERS), a(e).remove()),
                        a(d).remove();
                } else if (
                    a.FE.NO_DELETE_TAGS.indexOf(e.tagName) < 0 &&
                    (b.node.isEditable(e) || b.node.isDeletable(e))
                )
                    if (b.node.isDeletable(e))
                        a(d).replaceWith(a.FE.MARKERS), a(e).remove();
                    else if (b.node.isList(e))
                    d.previousSibling ?
                    (a(e)
                        .find("li:first")
                        .prepend(d),
                        b.cursorLists._backspace(d)) :
                    (a(e)
                        .find("li:first")
                        .prepend(a.FE.MARKERS),
                        a(d).remove());
                else if (
                    ((h = b.node.contents(e)),
                        h && "BR" == h[0].tagName && a(h[0]).remove(),
                        h && "BLOCKQUOTE" == e.tagName)
                ) {
                    var i = h[0];
                    for (a(d).before(a.FE.MARKERS); i && "BR" != i.tagName;) {
                        var j = i;
                        (i = i.nextSibling), a(d).before(j);
                    }
                    i && "BR" == i.tagName && a(i).remove();
                } else
                    a(d)
                    .after(a(e).html())
                    .after(a.FE.MARKERS),
                    a(e).remove();
            }

            function m() {
                var e = b.markers.insert();
                if (!e) return !1;
                if ((b.$el.get(0).normalize(), c(e)))
                    if (g(e))
                        if (
                            0 ===
                            a(e)
                            .parents("li:first")
                            .find("ul, ol").length
                        )
                            b.cursorLists._del(e);
                        else {
                            var f = a(e)
                                .parents("li:first")
                                .find("ul:first, ol:first")
                                .find("li:first");
                            (f = f.find(b.html.blockTagsQuery()).get(-1) || f),
                            f.prepend(e),
                                b.cursorLists._backspace(e);
                        }
                else k(e);
                else l(d(e) ? e : e);
                a(e).remove(),
                    b.$el.find("blockquote:empty").remove(),
                    b.html.fillEmptyBlocks(),
                    b.html.cleanEmptyTags(),
                    b.clean.quotes(),
                    b.clean.lists(),
                    b.spaces.normalize(),
                    b.selection.restore();
            }

            function n() {
                b.$el.find(".fr-to-remove").each(function() {
                    for (var c = b.node.contents(this), d = 0; d < c.length; d++)
                        c[d].nodeType == Node.TEXT_NODE &&
                        (c[d].textContent = c[d].textContent.replace(/\u200B/g, ""));
                    a(this).replaceWith(this.innerHTML);
                });
            }

            function o(c, d, e) {
                var g,
                    h = b.node.deepestParent(c, [], !e);
                if (h && "BLOCKQUOTE" == h.tagName)
                    return f(c, h) ?
                        ((g = b.html.defaultTag()),
                            g ?
                            a(h).after(
                                "<" + g + ">" + a.FE.MARKERS + "<br></" + g + ">"
                            ) :
                            a(h).after(a.FE.MARKERS + "<br>"),
                            a(c).remove(), !1) :
                        (q(c, d, e), !1);
                if (null == h) a(c).replaceWith("<br/>" + a.FE.MARKERS + "<br/>");
                else {
                    var i = c,
                        j = "";
                    (!b.node.isBlock(h) || d) && (j = "<br/>");
                    var k = "",
                        l = "";
                    g = b.html.defaultTag();
                    var m = "",
                        n = "";
                    g &&
                        b.node.isBlock(h) &&
                        ((m = "<" + g + ">"),
                            (n = "</" + g + ">"),
                            h.tagName == g.toUpperCase() &&
                            (m = b.node.openTagString(
                                a(h)
                                .clone()
                                .removeAttr("id")
                                .get(0)
                            )));
                    do
                        if (
                            ((i = i.parentNode), !d || i != h || (d && !b.node.isBlock(h)))
                        )
                            if (
                                ((k += b.node.closeTagString(i)), i == h && b.node.isBlock(h))
                            )
                                l = m + l;
                            else {
                                var o = "A" == i.tagName && f(c, i) ? "fr-to-remove" : "";
                                l =
                                    b.node.openTagString(
                                        a(i)
                                        .clone()
                                        .addClass(o)
                                        .get(0)
                                    ) + l;
                            }
                    while (i != h);
                    (j =
                        k +
                        j +
                        l +
                        (c.parentNode == h && b.node.isBlock(h) ?
                            "" :
                            a.FE.INVISIBLE_SPACE) +
                        a.FE.MARKERS),
                    b.node.isBlock(h) &&
                        !a(h)
                        .find("*:last")
                        .is("br") &&
                        a(h).append("<br/>"),
                        a(c).after('<span id="fr-break"></span>'),
                        a(c).remove(),
                        (h.nextSibling && !b.node.isBlock(h.nextSibling)) ||
                        b.node.isBlock(h) ||
                        a(h).after("<br>");
                    var p;
                    (p = !d && b.node.isBlock(h) ?
                        b.node.openTagString(h) + a(h).html() + n :
                        b.node.openTagString(h) +
                        a(h).html() +
                        b.node.closeTagString(h)),
                    (p = p.replace(/<span id="fr-break"><\/span>/g, j)),
                    a(h).replaceWith(p);
                }
            }

            function p(c, d, g) {
                var h = b.node.deepestParent(c, [], !g);
                if (h && "BLOCKQUOTE" == h.tagName) {
                    if (e(c, h)) {
                        var i = b.html.defaultTag();
                        return (
                            i ?
                            a(h).before(
                                "<" + i + ">" + a.FE.MARKERS + "<br></" + i + ">"
                            ) :
                            a(h).before(a.FE.MARKERS + "<br>"),
                            a(c).remove(), !1
                        );
                    }
                    f(c, h) ? o(c, d, !0) : q(c, d, !0);
                }
                if (null == h) a(c).replaceWith("<br>" + a.FE.MARKERS);
                else {
                    if (b.node.isBlock(h))
                        if (d) a(c).remove(), a(h).prepend("<br>" + a.FE.MARKERS);
                        else {
                            if (b.node.isEmpty(h, !0)) return o(c, d, g);
                            a(h).before(
                                b.node.openTagString(
                                    a(h)
                                    .clone()
                                    .removeAttr("id")
                                    .get(0)
                                ) +
                                "<br>" +
                                b.node.closeTagString(h)
                            );
                        }
                    else a(h).before("<br>");
                    a(c).remove();
                }
            }

            function q(c, d, g) {
                var h = b.node.deepestParent(c, [], !g);
                if (null == h)
                    b.html.defaultTag() && c.parentNode === b.$el.get(0) ?
                    a(c).replaceWith(
                        "<" +
                        b.html.defaultTag() +
                        ">" +
                        a.FE.MARKERS +
                        "<br></" +
                        b.html.defaultTag() +
                        ">"
                    ) :
                    ((!c.nextSibling || b.node.isBlock(c.nextSibling)) &&
                        a(c).after("<br>"),
                        a(c).replaceWith("<br>" + a.FE.MARKERS));
                else {
                    var i = c,
                        j = "";
                    "PRE" == h.tagName && (d = !0),
                        (!b.node.isBlock(h) || d) && (j = "<br>");
                    var k = "",
                        l = "";
                    do {
                        var m = i;
                        if (
                            ((i = i.parentNode),
                                "BLOCKQUOTE" == h.tagName &&
                                b.node.isEmpty(m) &&
                                !a(m).hasClass("fr-marker") &&
                                a(m).find(c).length > 0 &&
                                a(m).after(c),
                                ("BLOCKQUOTE" != h.tagName || (!f(c, i) && !e(c, i))) &&
                                (!d || i != h || (d && !b.node.isBlock(h))))
                        ) {
                            k += b.node.closeTagString(i);
                            var n = "A" == i.tagName && f(c, i) ? "fr-to-remove" : "";
                            l =
                                b.node.openTagString(
                                    a(i)
                                    .clone()
                                    .addClass(n)
                                    .removeAttr("id")
                                    .get(0)
                                ) + l;
                        }
                    } while (i != h);
                    var o = (h == c.parentNode && b.node.isBlock(h)) || c.nextSibling;
                    if ("BLOCKQUOTE" == h.tagName) {
                        c.previousSibling &&
                            b.node.isBlock(c.previousSibling) &&
                            c.nextSibling &&
                            "BR" == c.nextSibling.tagName &&
                            (a(c.nextSibling).after(c),
                                c.nextSibling &&
                                "BR" == c.nextSibling.tagName &&
                                a(c.nextSibling).remove());
                        var p = b.html.defaultTag();
                        j =
                            k +
                            j +
                            (p ? "<" + p + ">" : "") +
                            a.FE.MARKERS +
                            "<br>" +
                            (p ? "</" + p + ">" : "") +
                            l;
                    } else
                        j = k + j + l + (o ? "" : a.FE.INVISIBLE_SPACE) + a.FE.MARKERS;
                    a(c).replaceWith('<span id="fr-break"></span>');
                    var q =
                        b.node.openTagString(h) + a(h).html() + b.node.closeTagString(h);
                    (q = q.replace(/<span id="fr-break"><\/span>/g, j)),
                    a(h).replaceWith(q);
                }
            }

            function r(e) {
                var f = b.markers.insert();
                if (!f) return !0;
                b.$el.get(0).normalize();
                var h = !1;
                a(f).parentsUntil(b.$el, "BLOCKQUOTE").length > 0 &&
                    ((e = !1), (h = !0)),
                    a(f).parentsUntil(b.$el, "TD, TH").length && (h = !1),
                    c(f) ?
                    !g(f) || e || h ?
                    o(f, e, h) :
                    b.cursorLists._endEnter(f) :
                    d(f) ?
                    !g(f) || e || h ?
                    p(f, e, h) :
                    b.cursorLists._startEnter(f) :
                    !g(f) || e || h ?
                    q(f, e, h) :
                    b.cursorLists._middleEnter(f),
                    n(),
                    b.html.fillEmptyBlocks(),
                    b.html.cleanEmptyTags(),
                    b.clean.lists(),
                    b.spaces.normalize(),
                    b.selection.restore();
            }
            return { enter: r, backspace: j, del: m, isAtEnd: f };
        }),
        (a.FE.MODULES.data = function(a) {
            function b(a) {
                return a;
            }

            function c(a) {
                if (!a) return a;
                for (
                    var c = "",
                        f = b("charCodeAt"),
                        g = b("fromCharCode"),
                        h = l.indexOf(a[0]),
                        i = 1; i < a.length - 2; i++
                ) {
                    for (var j = d(++h), k = a[f](i), m = "";
                        /[0-9-]/.test(a[i + 1]);)
                        m += a[++i];
                    (m = parseInt(m, 10) || 0),
                    (k = e(k, j, m)),
                    (k ^= (h - 1) & 31),
                    (c += String[g](k));
                }
                return c;
            }

            function d(a) {
                for (var b = a.toString(), c = 0, d = 0; d < b.length; d++)
                    c += parseInt(b.charAt(d), 10);
                return c > 10 ? (c % 9) + 1 : c;
            }

            function e(a, b, c) {
                for (var d = Math.abs(c); d-- > 0;) a -= b;
                return 0 > c && (a += 123), a;
            }

            function f(a) {
                return a && "none" == a.css("display") ? (a.remove(), !0) : !1;
            }

            function g() {
                return f(j) || f(k);
            }

            function h() {
                return a.$box ?
                    (a.$box.append(
                            n(
                                b(
                                    n(
                                        "kTDD4spmKD1klaMB1C7A5RA1G3RA10YA5qhrjuvnmE1D3FD2bcG-7noHE6B2JB4C3xXA8WF6F-10RG2C3G3B-21zZE3C3H3xCA16NC4DC1f1hOF1MB3B-21whzQH5UA2WB10kc1C2F4D3XC2YD4D1C4F3GF2eJ2lfcD-13HF1IE1TC11TC7WE4TA4d1A2YA6XA4d1A3yCG2qmB-13GF4A1B1KH1HD2fzfbeQC3TD9VE4wd1H2A20A2B-22ujB3nBG2A13jBC10D3C2HD5D1H1KB11uD-16uWF2D4A3F-7C9D-17c1E4D4B3d1D2CA6B2B-13qlwzJF2NC2C-13E-11ND1A3xqUA8UE6bsrrF-7C-22ia1D2CF2H1E2akCD2OE1HH1dlKA6PA5jcyfzB-22cXB4f1C3qvdiC4gjGG2H2gklC3D-16wJC1UG4dgaWE2D5G4g1I2H3B7vkqrxH1H2EC9C3E4gdgzKF1OA1A5PF5C4WWC3VA6XA4e1E3YA2YA5HE4oGH4F2H2IB10D3D2NC5G1B1qWA9PD6PG5fQA13A10XA4C4A3e1H2BA17kC-22cmOB1lmoA2fyhcptwWA3RA8A-13xB-11nf1I3f1B7GB3aD3pavFC10D5gLF2OG1LSB2D9E7fQC1F4F3wpSB5XD3NkklhhaE-11naKA9BnIA6D1F5bQA3A10c1QC6Kjkvitc2B6BE3AF3E2DA6A4JD2IC1jgA-64MB11D6C4=="
                                    )
                                )
                            )
                        ),
                        (j = a.$box.find("> div:last")),
                        (k = j.find("> a")),
                        void(
                            "rtl" == a.opts.direction &&
                            j.css("left", "auto").css("right", 0)
                        )) :
                    !1;
            }

            function i() {
                var c = a.opts.key || [""];
                "string" == typeof c && (c = [c]), (a.ul = !0);
                for (var d = 0; d < c.length; d++) {
                    var e = n(c[d]) || "";
                    if (!(
                            e !== n(b(n("mcVRDoB1BGILD7YFe1BTXBA7B6=="))) &&
                            e.indexOf(m, e.length - m.length) < 0 && [
                                n("9qqG-7amjlwq=="),
                                n("KA3B3C2A6D1D5H5H1A3=="),
                                n("QzbzvxyB2yA-9m==")
                            ].indexOf(m) < 0
                        )) {
                        a.ul = !1;
                        break;
                    }
                }
                a.ul === !0 && h(),
                    a.events.on("contentChanged", function() {
                        a.ul === !0 && g() && h();
                    }),
                    a.events.on(
                        "destroy",
                        function() {
                            j && j.length && j.remove();
                        }, !0
                    );
            }
            var j,
                k,
                l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
                m = (function() {
                    for (
                        var a = 0,
                            b = document.domain,
                            c = b.split("."),
                            d = "_gd" + new Date().getTime(); a < c.length - 1 && -1 == document.cookie.indexOf(d + "=" + d);

                    )
                        (b = c.slice(-1 - ++a).join(".")),
                        (document.cookie = d + "=" + d + ";domain=" + b + ";");
                    return (
                        (document.cookie =
                            d +
                            "=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=" +
                            b +
                            ";"),
                        b
                    );
                })(),
                n = b(c);
            return { _init: i };
        }),
        (a.FE.ENTER_P = 0),
        (a.FE.ENTER_DIV = 1),
        (a.FE.ENTER_BR = 2),
        (a.FE.KEYCODE = {
            BACKSPACE: 8,
            TAB: 9,
            ENTER: 13,
            SHIFT: 16,
            CTRL: 17,
            ALT: 18,
            ESC: 27,
            SPACE: 32,
            DELETE: 46,
            ZERO: 48,
            ONE: 49,
            TWO: 50,
            THREE: 51,
            FOUR: 52,
            FIVE: 53,
            SIX: 54,
            SEVEN: 55,
            EIGHT: 56,
            NINE: 57,
            FF_SEMICOLON: 59,
            FF_EQUALS: 61,
            QUESTION_MARK: 63,
            A: 65,
            B: 66,
            C: 67,
            D: 68,
            E: 69,
            F: 70,
            G: 71,
            H: 72,
            I: 73,
            J: 74,
            K: 75,
            L: 76,
            M: 77,
            N: 78,
            O: 79,
            P: 80,
            Q: 81,
            R: 82,
            S: 83,
            T: 84,
            U: 85,
            V: 86,
            W: 87,
            X: 88,
            Y: 89,
            Z: 90,
            META: 91,
            NUM_ZERO: 96,
            NUM_ONE: 97,
            NUM_TWO: 98,
            NUM_THREE: 99,
            NUM_FOUR: 100,
            NUM_FIVE: 101,
            NUM_SIX: 102,
            NUM_SEVEN: 103,
            NUM_EIGHT: 104,
            NUM_NINE: 105,
            NUM_MULTIPLY: 106,
            NUM_PLUS: 107,
            NUM_MINUS: 109,
            NUM_PERIOD: 110,
            NUM_DIVISION: 111,
            SEMICOLON: 186,
            DASH: 189,
            EQUALS: 187,
            COMMA: 188,
            PERIOD: 190,
            SLASH: 191,
            APOSTROPHE: 192,
            TILDE: 192,
            SINGLE_QUOTE: 222,
            OPEN_SQUARE_BRACKET: 219,
            BACKSLASH: 220,
            CLOSE_SQUARE_BRACKET: 221
        }),
        a.extend(a.FE.DEFAULTS, {
            enter: a.FE.ENTER_P,
            multiLine: !0,
            tabSpaces: 0
        }),
        (a.FE.MODULES.keys = function(b) {
            function c() {
                if (b.helpers.isIOS()) {
                    var c = navigator.userAgent.match("CriOS"),
                        d = /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(
                            navigator.userAgent
                        );
                    if (!c && !d) {
                        var e = a(b.o_win).scrollTop();
                        b.events.disableBlur(),
                            b.selection.save(),
                            b.$el.blur(),
                            b.selection.restore(),
                            b.events.enableBlur(),
                            a(b.o_win).scrollTop(e);
                    }
                }
            }

            function d(a) {
                a.preventDefault(),
                    a.stopPropagation(),
                    b.opts.multiLine &&
                    (b.selection.isCollapsed() || b.selection.remove(),
                        b.cursor.enter()),
                    c();
            }

            function e(a) {
                a.preventDefault(),
                    a.stopPropagation(),
                    b.opts.multiLine &&
                    (b.selection.isCollapsed() || b.selection.remove(),
                        b.cursor.enter(!0));
            }

            function f(a) {
                b.selection.isCollapsed() ?
                    b.cursor.backspace() ||
                    (a.preventDefault(), a.stopPropagation(), (x = !1)) :
                    (a.preventDefault(),
                        a.stopPropagation(),
                        b.selection.remove(),
                        b.html.fillEmptyBlocks(),
                        (x = !1)),
                    b.placeholder.refresh();
            }

            function g(a) {
                a.preventDefault(),
                    a.stopPropagation(),
                    "" === b.selection.text() ? b.cursor.del() : b.selection.remove(),
                    b.placeholder.refresh();
            }

            function h(c) {
                if (b.browser.mozilla) {
                    c.preventDefault(),
                        c.stopPropagation(),
                        b.selection.isCollapsed() || b.selection.remove(),
                        b.markers.insert();
                    var d = b.$el.find(".fr-marker").get(0),
                        e = d.previousSibling,
                        f = d.nextSibling;
                    !f && d.parentNode && "A" == d.parentNode.tagName ?
                        (a(d)
                            .parent()
                            .after("&nbsp;" + a.FE.MARKERS),
                            a(d).remove()) :
                        (e &&
                            e.nodeType == Node.TEXT_NODE &&
                            1 == e.textContent.length &&
                            160 == e.textContent.charCodeAt(0) ?
                            a(e).after(" ") :
                            a(d).before("&nbsp;"),
                            a(d).replaceWith(a.FE.MARKERS)),
                        b.selection.restore();
                }
            }

            function i() {
                if (b.browser.mozilla && b.selection.isCollapsed() && !A) {
                    var a = b.selection.ranges(0),
                        c = a.startContainer,
                        d = a.startOffset;
                    c &&
                        c.nodeType == Node.TEXT_NODE &&
                        d <= c.textContent.length &&
                        d > 0 &&
                        32 == c.textContent.charCodeAt(d - 1) &&
                        (b.selection.save(), b.spaces.normalize(), b.selection.restore());
                }
            }

            function j() {
                b.selection.isFull() &&
                    setTimeout(function() {
                        var c = b.html.defaultTag();
                        c
                            ?
                            b.$el.html("<" + c + ">" + a.FE.MARKERS + "<br/></" + c + ">") :
                            b.$el.html(a.FE.MARKERS + "<br/>"),
                            b.selection.restore(),
                            b.placeholder.refresh(),
                            b.button.bulkRefresh(),
                            b.undo.saveStep();
                    }, 0);
            }

            function k(a) {
                if (b.opts.tabSpaces > 0)
                    if (b.selection.isCollapsed()) {
                        a.preventDefault(), a.stopPropagation();
                        for (var c = "", d = 0; d < b.opts.tabSpaces; d++) c += "&nbsp;";
                        b.html.insert(c), b.placeholder.refresh();
                    } else
                        a.preventDefault(),
                        a.stopPropagation(),
                        a.shiftKey ? b.commands.outdent() : b.commands.indent();
            }

            function l(a) {
                A = !1;
            }

            function m() {
                return A;
            }

            function n(c) {
                b.events.disableBlur(), (x = !0);
                var i = c.which;
                if (16 === i) return !0;
                if (229 === i) return (A = !0), !0;
                A = !1;
                var j = s(i) && !r(c),
                    l = i == a.FE.KEYCODE.BACKSPACE || i == a.FE.KEYCODE.DELETE;
                if (
                    ((b.selection.isFull() &&
                            !b.opts.keepFormatOnDelete &&
                            !b.placeholder.isVisible()) ||
                        (l && b.placeholder.isVisible() && b.opts.keepFormatOnDelete)) &&
                    (j || l)
                ) {
                    var m = b.html.defaultTag();
                    if (
                        (m ?
                            b.$el.html("<" + m + ">" + a.FE.MARKERS + "<br/></" + m + ">") :
                            b.$el.html(a.FE.MARKERS + "<br/>"),
                            b.selection.restore(), !s(i))
                    )
                        return c.preventDefault(), !0;
                }
                i == a.FE.KEYCODE.ENTER ?
                    c.shiftKey ?
                    e(c) :
                    d(c) :
                    i != a.FE.KEYCODE.BACKSPACE ||
                    r(c) ||
                    c.altKey ||
                    b.placeholder.isVisible() ?
                    i != a.FE.KEYCODE.DELETE ||
                    r(c) ||
                    c.altKey ||
                    b.placeholder.isVisible() ?
                    i == a.FE.KEYCODE.SPACE ?
                    h(c) :
                    i == a.FE.KEYCODE.TAB ?
                    k(c) :
                    r(c) ||
                    !s(c.which) ||
                    b.selection.isCollapsed() ||
                    c.ctrlKey ||
                    b.selection.remove() :
                    g(c) :
                    f(c),
                    b.events.enableBlur();
            }

            function o(c) {
                for (var d = 0; d < c.length; d++)
                    c[d].nodeType == Node.TEXT_NODE && /\u200B/gi.test(c[d].textContent) ?
                    ((c[d].textContent = c[d].textContent.replace(/\u200B/gi, "")),
                        0 === c[d].textContent.length && a(c[d]).remove()) :
                    c[d].nodeType == Node.ELEMENT_NODE &&
                    "IFRAME" != c[d].nodeType &&
                    o(b.node.contents(c[d]));
            }

            function p() {
                if (!b.$wp) return !0;
                var c;
                b.opts.height || b.opts.heightMax ?
                    ((c = b.position.getBoundingRect().top),
                        b.helpers.isIOS() && (c -= a(b.o_win).scrollTop()),
                        b.opts.iframe && (c += b.$iframe.offset().top),
                        c >
                        b.$wp.offset().top -
                        a(b.o_win).scrollTop() +
                        b.$wp.height() -
                        20 &&
                        b.$wp.scrollTop(
                            c +
                            b.$wp.scrollTop() -
                            (b.$wp.height() + b.$wp.offset().top) +
                            a(b.o_win).scrollTop() +
                            20
                        )) :
                    ((c = b.position.getBoundingRect().top),
                        b.opts.toolbarBottom && (c += b.opts.toolbarStickyOffset),
                        b.helpers.isIOS() && (c -= a(b.o_win).scrollTop()),
                        b.opts.iframe && (c += b.$iframe.offset().top),
                        (c += b.opts.toolbarStickyOffset),
                        c > b.o_win.innerHeight - 20 &&
                        a(b.o_win).scrollTop(
                            c + a(b.o_win).scrollTop() - b.o_win.innerHeight + 20
                        ),
                        (c = b.position.getBoundingRect().top),
                        b.opts.toolbarBottom || (c -= b.opts.toolbarStickyOffset),
                        b.helpers.isIOS() && (c -= a(b.o_win).scrollTop()),
                        b.opts.iframe && (c += b.$iframe.offset().top),
                        c < b.$tb.height() + 20 &&
                        a(b.o_win).scrollTop(
                            c + a(b.o_win).scrollTop() - b.$tb.height() - 20
                        ));
            }

            function q(c) {
                if (A) return !1;
                if (!b.selection.isCollapsed()) return !0;
                if (
                    c &&
                    (c.which === a.FE.KEYCODE.META || c.which == a.FE.KEYCODE.CTRL)
                )
                    return !0;
                c &&
                    (c.which == a.FE.KEYCODE.ENTER ||
                        c.which == a.FE.KEYCODE.BACKSPACE ||
                        (c.which >= 37 && c.which <= 40 && !b.browser.msie)) &&
                    ((c.which == a.FE.KEYCODE.BACKSPACE && x) || p());
                var d = b.$el.find(b.html.blockTagsQuery());
                d.push(b.$el.get(0));
                for (var e = [], f = 0; f < d.length; f++)
                    if (["TD", "TH"].indexOf(d[f].tagName) < 0)
                        for (var g = d[f].children, h = 0; h < g.length; h++)
                            "BR" == g[h].tagName && e.push(g[h]);
                for (var d = [], f = 0; f < e.length; f++) {
                    var i = e[f],
                        j = i.previousSibling,
                        k = i.nextSibling,
                        l = b.node.blockParent(i) || b.$el.get(0);
                    j &&
                        l &&
                        "BR" != j.tagName &&
                        !b.node.isBlock(j) &&
                        !k &&
                        a(l)
                        .text()
                        .replace(/\u200B/g, "").length > 0 &&
                        a(j).text().length > 0 &&
                        ((b.$el.is(l) &&
                                !k &&
                                b.opts.enter == a.FE.ENTER_BR &&
                                b.browser.msie) ||
                            (b.selection.save(), a(i).remove(), b.selection.restore()));
                }
                e = [];
                var m = function(b) {
                        if (!b) return !1;
                        var c = a(b).html();
                        return (
                            (c = c.replace(
                                /<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,
                                ""
                            )), !!(
                                c &&
                                /\u200B/.test(c) &&
                                c.replace(/\u200B/gi, "").length > 0
                            )
                        );
                    },
                    n = function(a) {
                        var c = /[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;
                        return (!b.helpers.isIOS() ||
                            0 === ((a.textContent || "").match(c) || []).length
                        );
                    },
                    q = b.selection.element();
                m(q) &&
                    0 === a(q).find("li").length &&
                    !a(q).hasClass("fr-marker") &&
                    "IFRAME" != q.tagName &&
                    n(q) &&
                    (b.selection.save(), o(b.node.contents(q)), b.selection.restore()), !b.browser.mozilla &&
                    b.html.doNormalize() &&
                    (b.selection.save(), b.spaces.normalize(), b.selection.restore());
            }

            function r(a) {
                if (-1 != navigator.userAgent.indexOf("Mac OS X")) {
                    if (a.metaKey && !a.altKey) return !0;
                } else if (a.ctrlKey && !a.altKey) return !0;
                return !1;
            }

            function s(c) {
                if (c >= a.FE.KEYCODE.ZERO && c <= a.FE.KEYCODE.NINE) return !0;
                if (c >= a.FE.KEYCODE.NUM_ZERO && c <= a.FE.KEYCODE.NUM_MULTIPLY)
                    return !0;
                if (c >= a.FE.KEYCODE.A && c <= a.FE.KEYCODE.Z) return !0;
                if (b.browser.webkit && 0 === c) return !0;
                switch (c) {
                    case a.FE.KEYCODE.SPACE:
                    case a.FE.KEYCODE.QUESTION_MARK:
                    case a.FE.KEYCODE.NUM_PLUS:
                    case a.FE.KEYCODE.NUM_MINUS:
                    case a.FE.KEYCODE.NUM_PERIOD:
                    case a.FE.KEYCODE.NUM_DIVISION:
                    case a.FE.KEYCODE.SEMICOLON:
                    case a.FE.KEYCODE.FF_SEMICOLON:
                    case a.FE.KEYCODE.DASH:
                    case a.FE.KEYCODE.EQUALS:
                    case a.FE.KEYCODE.FF_EQUALS:
                    case a.FE.KEYCODE.COMMA:
                    case a.FE.KEYCODE.PERIOD:
                    case a.FE.KEYCODE.SLASH:
                    case a.FE.KEYCODE.APOSTROPHE:
                    case a.FE.KEYCODE.SINGLE_QUOTE:
                    case a.FE.KEYCODE.OPEN_SQUARE_BRACKET:
                    case a.FE.KEYCODE.BACKSLASH:
                    case a.FE.KEYCODE.CLOSE_SQUARE_BRACKET:
                        return !0;
                    default:
                        return !1;
                }
            }

            function t(c) {
                var d = c.which;
                return r(c) ||
                    (d >= 37 && 40 >= d) ||
                    (!s(d) &&
                        d != a.FE.KEYCODE.DELETE &&
                        d != a.FE.KEYCODE.BACKSPACE &&
                        d != a.FE.KEYCODE.ENTER) ?
                    !0 :
                    (y || (z = b.snapshot.get()),
                        clearTimeout(y),
                        void(y = setTimeout(function() {
                            (y = null), b.undo.saveStep();
                        }, Math.max(250, b.opts.typingTimer))));
            }

            function u(a) {
                return r(a) ? !0 : void(z && y && (b.undo.saveStep(z), (z = null)));
            }

            function v() {
                y && (clearTimeout(y), b.undo.saveStep(), (z = null));
            }

            function w() {
                if (
                    (b.events.on("keydown", t),
                        b.events.on("input", i),
                        b.events.on("keyup", u),
                        b.events.on("keypress", l),
                        b.events.on("keydown", n),
                        b.events.on("keyup", q),
                        b.events.on("html.inserted", q),
                        b.events.on("cut", j),
                        b.$el.get(0).msGetInputContext)
                )
                    try {
                        b.$el
                            .get(0)
                            .msGetInputContext()
                            .addEventListener("MSCandidateWindowShow", function() {
                                A = !0;
                            }),
                            b.$el
                            .get(0)
                            .msGetInputContext()
                            .addEventListener("MSCandidateWindowHide", function() {
                                (A = !1), q();
                            });
                    } catch (a) {}
            }
            var x,
                y,
                z,
                A = !1;
            return { _init: w, ctrlKey: r, isCharacter: s, forceUndo: v, isIME: m };
        }),
        a.extend(a.FE.DEFAULTS, {
            pastePlain: !1,
            pasteDeniedTags: ["colgroup", "col"],
            pasteDeniedAttrs: ["class", "id", "style"],
            pasteAllowLocalImages: !1
        }),
        (a.FE.MODULES.paste = function(b) {
            function c(c) {
                (a.FE.copied_html = b.html.getSelected()),
                (a.FE.copied_text = a("<div>")
                    .html(a.FE.copied_html)
                    .text()),
                "cut" == c.type &&
                    (b.undo.saveStep(),
                        setTimeout(function() {
                            b.html.wrap(), b.events.focus(), b.undo.saveStep();
                        }, 0));
            }

            function d(a) {
                if (o) return !1;
                if (
                    (a.originalEvent && (a = a.originalEvent),
                        b.events.trigger("paste.before", [a]) === !1)
                )
                    return !1;
                if (
                    ((l = b.$win.scrollTop()),
                        a && a.clipboardData && a.clipboardData.getData)
                ) {
                    var c = "",
                        d = a.clipboardData.types;
                    if (b.helpers.isArray(d))
                        for (var f = 0; f < d.length; f++) c += d[f] + ";";
                    else c = d;
                    if (
                        ((m = ""),
                            /text\/html/.test(c) ?
                            (m = a.clipboardData.getData("text/html")) :
                            /text\/rtf/.test(c) && b.browser.safari ?
                            (m = a.clipboardData.getData("text/rtf")) :
                            /text\/plain/.test(c) &&
                            !this.browser.mozilla &&
                            (m = b.html
                                .escapeEntities(a.clipboardData.getData("text/plain"))
                                .replace(/\n/g, "<br>")),
                            "" !== m)
                    )
                        return (
                            h(),
                            a.preventDefault && (a.stopPropagation(), a.preventDefault()), !1
                        );
                    m = null;
                }
                e();
            }

            function e() {
                b.selection.save(),
                    b.events.disableBlur(),
                    (m = null),
                    n ?
                    n.html("") :
                    ((n = a(
                            '<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 9999; line-height: 140%;" tabindex="-1"></div>'
                        )),
                        b.$box.after(n),
                        b.events.on("destroy", function() {
                            n.remove();
                        })),
                    n.focus(),
                    b.win.setTimeout(h, 1);
            }

            function f(c) {
                (c = c.replace(
                    /<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<ul><li>$3</li></ul>"
                )),
                (c = c.replace(
                    /<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<ol><li>$3</li></ol>"
                )),
                (c = c.replace(
                    /<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<ul><li$3>$5</li>"
                )),
                (c = c.replace(
                    /<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<ol><li$3>$5</li>"
                )),
                (c = c.replace(
                    /<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<li$3>$5</li>"
                )),
                (c = c.replace(
                    /<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<li$3>$5</li>"
                )),
                (c = c.replace(
                    /<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<li$3>$5</li>"
                )),
                (c = c.replace(
                    /<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<li$3>$5</li></ul>"
                )),
                (c = c.replace(
                    /<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,
                    "<li$3>$5</li></ol>"
                )),
                (c = c.replace(
                    /<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,
                    "<span><span"
                )),
                (c = c.replace(
                    /<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,
                    ""
                )),
                (c = c.replace(
                    /<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,
                    ""
                )),
                (c = c.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi, " ")),
                (c = c.replace(/<!--[\s\S]*?-->/gi, "")),
                (c = c.replace(
                    /<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,
                    ""
                ));
                for (
                    var d = [
                            "style",
                            "script",
                            "applet",
                            "embed",
                            "noframes",
                            "noscript"
                        ],
                        e = 0; e < d.length; e++
                ) {
                    var f = new RegExp("<" + d[e] + ".*?" + d[e] + "(.*?)>", "gi");
                    c = c.replace(f, "");
                }
                (c = c.replace(/&nbsp;/gi, " ")),
                (c = c.replace(/<td([^>]*)><\/td>/g, "<td$1><br></td>")),
                (c = c.replace(/<th([^>]*)><\/th>/g, "<th$1><br></th>"));
                var g;
                do(g = c), (c = c.replace(/<[^\/>][^>]*><\/[^>]+>/gi, ""));
                while (c != g);
                (c = c.replace(
                    /<lilevel([^1])([^>]*)>/gi,
                    '<li data-indent="true"$2>'
                )),
                (c = c.replace(/<lilevel1([^>]*)>/gi, "<li$1>")),
                (c = b.clean.html(
                    c,
                    b.opts.pasteDeniedTags,
                    b.opts.pasteDeniedAttrs
                )),
                (c = c.replace(/<a>(.[^<]+)<\/a>/gi, "$1")),
                (c = c.replace(/<br> */g, "<br>"));
                var h = a("<div>").html(c);
                return (
                    h.find("li[data-indent]").each(function(b, c) {
                        var d = a(c);
                        if (d.prev("li").length > 0) {
                            var e = d.prev("li").find("> ul, > ol");
                            0 === e.length && ((e = a("ul")), d.prev("li").append(e)),
                                e.append(c);
                        } else d.removeAttr("data-indent");
                    }),
                    b.html.cleanBlankSpaces(h.get(0)),
                    (c = h.html())
                );
            }

            function g(c) {
                var d = a("<div>").html(c);
                d
                    .find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote")
                    .each(function(c, d) {
                        a(d).replaceWith(
                            "<" +
                            (b.html.defaultTag() || "DIV") +
                            ">" +
                            a(d).html() +
                            "</" +
                            (b.html.defaultTag() || "DIV") +
                            ">"
                        );
                    }),
                    a(
                        d
                        .find("*")
                        .not(
                            "p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img"
                        )
                        .get()
                        .reverse()
                    ).each(function() {
                        a(this).replaceWith(a(this).html());
                    });
                var e = function(c) {
                    for (var d = b.node.contents(c), f = 0; f < d.length; f++)
                        3 != d[f].nodeType && 1 != d[f].nodeType ?
                        a(d[f]).remove() :
                        e(d[f]);
                };
                return e(d.get(0)), d.html();
            }

            function h() {
                b.keys.forceUndo();
                var c = b.snapshot.get();
                null === m &&
                    ((m = n.html()), b.selection.restore(), b.events.enableBlur());
                var d = b.events.chainTrigger("paste.beforeCleanup", m);
                "string" == typeof d && (m = d),
                    m.indexOf("<body") >= 0 &&
                    (m = m.replace(
                        /[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,
                        "$1"
                    ));
                var e = !1;
                if (
                    (m.indexOf('id="docs-internal-guid') >= 0 &&
                        ((m = m.replace(
                                /^.* id="docs-internal-guid[^>]*>(.*)<\/b>.*$/,
                                "$1"
                            )),
                            (e = !0)),
                        m.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi) ?
                        ((m = m.replace(/^\n*/g, "").replace(/^ /g, "")),
                            0 === m.indexOf("<colgroup>") &&
                            (m = "<table>" + m + "</table>"),
                            (m = f(m)),
                            (m = j(m))) :
                        ((b.opts.htmlAllowComments = !1),
                            (m = b.clean.html(
                                m,
                                b.opts.pasteDeniedTags,
                                b.opts.pasteDeniedAttrs
                            )),
                            (b.opts.htmlAllowComments = !0),
                            (m = j(m)),
                            (m = m.replace(/\r|\n|\t/g, "")),
                            a.FE.copied_text &&
                            a("<div>")
                            .html(m)
                            .text()
                            .replace(/(\u00A0)/gi, " ")
                            .replace(/\r|\n/gi, "") ==
                            a.FE.copied_text
                            .replace(/(\u00A0)/gi, " ")
                            .replace(/\r|\n/gi, "") &&
                            (m = a.FE.copied_html),
                            (m = m.replace(/^ */g, "").replace(/ *$/g, ""))),
                        b.opts.pastePlain && (m = g(m)),
                        (d = b.events.chainTrigger("paste.afterCleanup", m)),
                        "string" == typeof d && (m = d),
                        "" !== m)
                ) {
                    var h = a("<div>").html(m);
                    b.spaces.normalize(h.get(0)),
                        h.find("span").each(function() {
                            0 == this.attributes.length &&
                                a(this).replaceWith(this.innerHTML);
                        }),
                        e ||
                        h.find("br").each(function() {
                            this.previousSibling &&
                                b.node.isBlock(this.previousSibling) &&
                                a(this).remove();
                        }),
                        (m = h.html()),
                        b.html.insert(m, !0);
                }
                i(), b.undo.saveStep(c), b.undo.saveStep();
            }

            function i() {
                b.events.trigger("paste.after");
            }

            function j(c) {
                for (
                    var d,
                        e = a("<div>").html(c),
                        f = e.find("*:empty:not(br, img, td, th)"); f.length;

                ) {
                    for (d = 0; d < f.length; d++) a(f[d]).remove();
                    f = e.find("*:empty:not(br, img, td, th)");
                }
                for (
                    var g = e.find("> div:not([style]), td > div, th > div, li > div"); g.length && d++ < 100;

                ) {
                    var h = a(g[g.length - 1]);
                    b.html.defaultTag() && "div" != b.html.defaultTag() ?
                        h.replaceWith(
                            "<" +
                            b.html.defaultTag() +
                            ">" +
                            h.html() +
                            "</" +
                            b.html.defaultTag() +
                            ">"
                        ) :
                        h.find("*:last").is("br") ?
                        h.replaceWith(h.html()) :
                        h.replaceWith(h.html() + "<br>"),
                        (g = e.find("> div:not([style]), td > div, th > div, li > div"));
                }
                for (g = e.find("div:not([style])"); g.length;) {
                    for (d = 0; d < g.length; d++) {
                        var i = a(g[d]),
                            j = i
                            .html()
                            .replace(/\u0009/gi, "")
                            .trim();
                        i.replaceWith(j);
                    }
                    g = e.find("div:not([style])");
                }
                return e.html();
            }

            function k() {
                b.events.on("copy", c),
                    b.events.on("cut", c),
                    b.events.on("paste", d),
                    b.browser.msie &&
                    b.browser.version < 11 &&
                    (b.events.on(
                            "mouseup",
                            function(a) {
                                2 == a.button &&
                                    (setTimeout(function() {
                                            o = !1;
                                        }, 50),
                                        (o = !0));
                            }, !0
                        ),
                        b.events.on("beforepaste", d));
            }
            var l,
                m,
                n,
                o = !1;
            return { _init: k };
        }),
        a.extend(a.FE.DEFAULTS, {
            shortcutsEnabled: [
                "show",
                "bold",
                "italic",
                "underline",
                "strikeThrough",
                "indent",
                "outdent",
                "undo",
                "redo"
            ],
            shortcutsHint: !0
        }),
        (a.FE.SHORTCUTS_MAP = {}),
        (a.FE.RegisterShortcut = function(b, c, d, e, f, g) {
            (a.FE.SHORTCUTS_MAP[(f ? "^" : "") + (g ? "@" : "") + b] = {
                cmd: c,
                val: d,
                letter: e,
                shift: f,
                option: g
            }),
            a.FE.DEFAULTS.shortcutsEnabled.push(c);
        }),
        a.FE.RegisterShortcut(a.FE.KEYCODE.E, "show", null, "E", !1, !1),
        a.FE.RegisterShortcut(a.FE.KEYCODE.B, "bold", null, "B", !1, !1),
        a.FE.RegisterShortcut(a.FE.KEYCODE.I, "italic", null, "I", !1, !1),
        a.FE.RegisterShortcut(a.FE.KEYCODE.U, "underline", null, "U", !1, !1),
        a.FE.RegisterShortcut(a.FE.KEYCODE.S, "strikeThrough", null, "S", !1, !1),
        a.FE.RegisterShortcut(
            a.FE.KEYCODE.CLOSE_SQUARE_BRACKET,
            "indent",
            null,
            "]", !1, !1
        ),
        a.FE.RegisterShortcut(
            a.FE.KEYCODE.OPEN_SQUARE_BRACKET,
            "outdent",
            null,
            "[", !1, !1
        ),
        a.FE.RegisterShortcut(a.FE.KEYCODE.Z, "undo", null, "Z", !1, !1),
        a.FE.RegisterShortcut(a.FE.KEYCODE.Z, "redo", null, "Z", !0, !1),
        (a.FE.MODULES.shortcuts = function(b) {
            function c(c) {
                if (!b.opts.shortcutsHint) return null;
                if (!f) {
                    f = {};
                    for (var d in a.FE.SHORTCUTS_MAP)
                        a.FE.SHORTCUTS_MAP.hasOwnProperty(d) &&
                        b.opts.shortcutsEnabled.indexOf(a.FE.SHORTCUTS_MAP[d].cmd) >=
                        0 &&
                        (f[
                            a.FE.SHORTCUTS_MAP[d].cmd +
                            "." +
                            (a.FE.SHORTCUTS_MAP[d].val || "")
                        ] = {
                            shift: a.FE.SHORTCUTS_MAP[d].shift,
                            option: a.FE.SHORTCUTS_MAP[d].option,
                            letter: a.FE.SHORTCUTS_MAP[d].letter
                        });
                }
                var e = f[c];
                return e ?
                    (b.helpers.isMac() ? String.fromCharCode(8984) : "Ctrl+") +
                    (e.shift ?
                        b.helpers.isMac() ?
                        String.fromCharCode(8679) :
                        "Shift+" :
                        "") +
                    (e.option ?
                        b.helpers.isMac() ?
                        String.fromCharCode(8997) :
                        "Alt+" :
                        "") +
                    e.letter :
                    null;
            }

            function d(c) {
                if (!b.core.hasFocus()) return !0;
                var d = c.which,
                    e = -1 != navigator.userAgent.indexOf("Mac OS X") ?
                    c.metaKey :
                    c.ctrlKey,
                    f = (c.shiftKey ? "^" : "") + (c.altKey ? "@" : "") + d;
                if (e && a.FE.SHORTCUTS_MAP[f]) {
                    var g = a.FE.SHORTCUTS_MAP[f].cmd;
                    if (g && b.opts.shortcutsEnabled.indexOf(g) >= 0) {
                        var h,
                            i = a.FE.SHORTCUTS_MAP[f].val;
                        if (
                            (g && !i ?
                                (h = b.$tb.find('.fr-command[data-cmd="' + g + '"]')) :
                                g &&
                                i &&
                                (h = b.$tb.find(
                                    '.fr-command[data-cmd="' +
                                    g +
                                    '"][data-param1="' +
                                    i +
                                    '"]'
                                )),
                                h.length)
                        )
                            return (
                                c.preventDefault(),
                                c.stopPropagation(),
                                h.parents(".fr-toolbar").data("instance", b),
                                "keydown" == c.type && b.button.exec(h), !1
                            );
                        if (g && b.commands[g])
                            return (
                                c.preventDefault(),
                                c.stopPropagation(),
                                "keydown" == c.type && b.commands[g](), !1
                            );
                    }
                }
            }

            function e() {
                b.events.on("keydown", d, !0), b.events.on("keyup", d, !0);
            }
            var f = null;
            return { _init: e, get: c };
        }),
        (a.FE.MODULES.snapshot = function(a) {
            function b(a) {
                for (
                    var b = a.parentNode.childNodes, c = 0, d = null, e = 0; e < b.length; e++
                ) {
                    if (d) {
                        var f =
                            b[e].nodeType === Node.TEXT_NODE && "" === b[e].textContent,
                            g =
                            d.nodeType === Node.TEXT_NODE &&
                            b[e].nodeType === Node.TEXT_NODE;
                        f || g || c++;
                    }
                    if (b[e] == a) return c;
                    d = b[e];
                }
            }

            function c(c) {
                var d = [];
                if (!c.parentNode) return [];
                for (; !a.node.isElement(c);) d.push(b(c)), (c = c.parentNode);
                return d.reverse();
            }

            function d(a, b) {
                for (; a && a.nodeType === Node.TEXT_NODE;) {
                    var c = a.previousSibling;
                    c && c.nodeType == Node.TEXT_NODE && (b += c.textContent.length),
                        (a = c);
                }
                return b;
            }

            function e(a) {
                return {
                    scLoc: c(a.startContainer),
                    scOffset: d(a.startContainer, a.startOffset),
                    ecLoc: c(a.endContainer),
                    ecOffset: d(a.endContainer, a.endOffset)
                };
            }

            function f() {
                var b = {};
                if (
                    (a.events.trigger("snapshot.before"),
                        (b.html = a.$wp ? a.$el.html() : a.$oel.get(0).outerHTML),
                        (b.ranges = []),
                        a.$wp && a.selection.inEditor() && a.core.hasFocus())
                )
                    for (var c = a.selection.ranges(), d = 0; d < c.length; d++)
                        b.ranges.push(e(c[d]));
                return a.events.trigger("snapshot.after"), b;
            }

            function g(b) {
                for (var c = a.$el.get(0), d = 0; d < b.length; d++)
                    c = c.childNodes[b[d]];
                return c;
            }

            function h(b, c) {
                try {
                    var d = g(c.scLoc),
                        e = c.scOffset,
                        f = g(c.ecLoc),
                        h = c.ecOffset,
                        i = a.doc.createRange();
                    i.setStart(d, e), i.setEnd(f, h), b.addRange(i);
                } catch (j) {}
            }

            function i(b) {
                a.$el.html() != b.html && a.$el.html(b.html);
                var c = a.selection.get();
                a.selection.clear(), a.events.focus(!0);
                for (var d = 0; d < b.ranges.length; d++) h(c, b.ranges[d]);
            }

            function j(b, c) {
                return b.html != c.html ?
                    !1 :
                    !a.core.hasFocus() ||
                    JSON.stringify(b.ranges) == JSON.stringify(c.ranges);
            }
            return { get: f, restore: i, equal: j };
        }),
        (a.FE.MODULES.undo = function(a) {
            function b(b) {
                var c = b.which,
                    d = a.keys.ctrlKey(b);
                d &&
                    (90 == c && b.shiftKey && b.preventDefault(),
                        90 == c && b.preventDefault());
            }

            function c() {
                return !(0 === a.undo_stack.length || a.undo_index <= 1);
            }

            function d() {
                return a.undo_index != a.undo_stack.length;
            }

            function e(b) {
                return !a.undo_stack ||
                    a.undoing ||
                    a.$el.get(0).querySelectorAll(".fr-marker").length ?
                    !1 :
                    void("undefined" == typeof b ?
                        ((b = a.snapshot.get()),
                            (a.undo_stack[a.undo_index - 1] &&
                                a.snapshot.equal(a.undo_stack[a.undo_index - 1], b)) ||
                            (f(),
                                a.undo_stack.push(b),
                                a.undo_index++,
                                b.html != l &&
                                (a.events.trigger("contentChanged"), (l = b.html)))) :
                        (f(),
                            a.undo_index > 0 ?
                            (a.undo_stack[a.undo_index - 1] = b) :
                            (a.undo_stack.push(b), a.undo_index++)));
            }

            function f() {
                if (!a.undo_stack || a.undoing) return !1;
                for (; a.undo_stack.length > a.undo_index;) a.undo_stack.pop();
            }

            function g() {
                if (a.undo_index > 1) {
                    a.undoing = !0;
                    var b = a.undo_stack[--a.undo_index - 1];
                    clearTimeout(a._content_changed_timer),
                        a.snapshot.restore(b),
                        (l = b.html),
                        a.popups.hideAll(),
                        a.toolbar.enable(),
                        a.events.trigger("contentChanged"),
                        a.events.trigger("commands.undo"),
                        (a.undoing = !1);
                }
            }

            function h() {
                if (a.undo_index < a.undo_stack.length) {
                    a.undoing = !0;
                    var b = a.undo_stack[a.undo_index++];
                    clearTimeout(a._content_changed_timer),
                        a.snapshot.restore(b),
                        (l = b.html),
                        a.popups.hideAll(),
                        a.toolbar.enable(),
                        a.events.trigger("contentChanged"),
                        a.events.trigger("commands.redo"),
                        (a.undoing = !1);
                }
            }

            function i() {
                (a.undo_index = 0), (a.undo_stack = []);
            }

            function j() {
                a.undo_stack = [];
            }

            function k() {
                i(),
                    a.events.on("initialized", function() {
                        l = a.html.get(!1, !0);
                    }),
                    a.events.on("blur", function() {
                        a.undo.saveStep();
                    }),
                    a.events.on("keydown", b),
                    a.events.on("destroy", j);
            }
            var l = null;
            return {
                _init: k,
                run: g,
                redo: h,
                canDo: c,
                canRedo: d,
                dropRedo: f,
                reset: i,
                saveStep: e
            };
        }),
        (a.FE.ICON_DEFAULT_TEMPLATE = "font_awesome"),
        (a.FE.ICON_TEMPLATES = {
            font_awesome: '<i class="fa fa-[NAME]"></i>',
            text: '<span style="text-align: center;">[NAME]</span>',
            image: "<img src=[SRC] alt=[ALT] />"
        }),
        (a.FE.ICONS = {
            bold: { NAME: "bold" },
            italic: { NAME: "italic" },
            underline: { NAME: "underline" },
            strikeThrough: { NAME: "strikethrough" },
            subscript: { NAME: "subscript" },
            superscript: { NAME: "superscript" },
            color: { NAME: "tint" },
            outdent: { NAME: "outdent" },
            indent: { NAME: "indent" },
            undo: { NAME: "rotate-left" },
            redo: { NAME: "rotate-right" },
            insertHR: { NAME: "minus" },
            clearFormatting: { NAME: "eraser" },
            selectAll: { NAME: "mouse-pointer" }
        }),
        (a.FE.DefineIconTemplate = function(b, c) {
            a.FE.ICON_TEMPLATES[b] = c;
        }),
        (a.FE.DefineIcon = function(b, c) {
            a.FE.ICONS[b] = c;
        }),
        (a.FE.MODULES.icon = function(b) {
            function c(b) {
                var c = null,
                    d = a.FE.ICONS[b];
                if ("undefined" != typeof d) {
                    var e = d.template || a.FE.ICON_DEFAULT_TEMPLATE;
                    e &&
                        (e = a.FE.ICON_TEMPLATES[e]) &&
                        (c = e.replace(/\[([a-zA-Z]*)\]/g, function(a, c) {
                            return "NAME" == c ? d[c] || b : d[c];
                        }));
                }
                return c || b;
            }
            return { create: c };
        }),
        (a.FE.MODULES.tooltip = function(b) {
            function c() {
                b.$tooltip &&
                    b.$tooltip
                    .removeClass("fr-visible")
                    .css("left", "-3000px")
                    .css("position", "fixed");
            }

            function d(c, d) {
                if (
                    (c.data("title") || c.data("title", c.attr("title")), !c.data("title"))
                )
                    return !1;
                b.$tooltip || f(),
                    c.removeAttr("title"),
                    b.$tooltip.text(c.data("title")),
                    b.$tooltip.addClass("fr-visible");
                var e =
                    c.offset().left + (c.outerWidth() - b.$tooltip.outerWidth()) / 2;
                0 > e && (e = 0),
                    e + b.$tooltip.outerWidth() > a(b.o_win).width() &&
                    (e = a(b.o_win).width() - b.$tooltip.outerWidth()),
                    "undefined" == typeof d && (d = b.opts.toolbarBottom);
                var g = d ?
                    c.offset().top - b.$tooltip.height() :
                    c.offset().top + c.outerHeight();
                b.$tooltip.css("position", ""),
                    b.$tooltip.css("left", e),
                    b.$tooltip.css("top", g);
            }

            function e(e, f, g) {
                b.helpers.isMobile() ||
                    (b.events.$on(
                            e,
                            "mouseenter",
                            f,
                            function(c) {
                                a(c.currentTarget).hasClass("fr-disabled") ||
                                    b.edit.isDisabled() ||
                                    d(a(c.currentTarget), g);
                            }, !0
                        ),
                        b.events.$on(
                            e,
                            "mouseleave " + b._mousedown + " " + b._mouseup,
                            f,
                            function(a) {
                                c();
                            }, !0
                        ));
            }

            function f() {
                b.helpers.isMobile() ||
                    (b.shared.$tooltip ?
                        (b.$tooltip = b.shared.$tooltip) :
                        ((b.shared.$tooltip = a('<div class="fr-tooltip"></div>')),
                            (b.$tooltip = b.shared.$tooltip),
                            b.opts.theme && b.$tooltip.addClass(b.opts.theme + "-theme"),
                            a(b.o_doc)
                            .find("body")
                            .append(b.$tooltip),
                            "static" !=
                            a(b.o_doc)
                            .find("body")
                            .css("position") &&
                            (b.$tooltip.css(
                                    "margin-left", -a(b.o_doc)
                                    .find("body")
                                    .offset().left
                                ),
                                b.$tooltip.css(
                                    "margin-top", -a(b.o_doc)
                                    .find("body")
                                    .offset().top
                                ))),
                        b.events.on(
                            "shared.destroy",
                            function() {
                                b.$tooltip
                                    .html("")
                                    .removeData()
                                    .remove(),
                                    (b.$tooltip = null);
                            }, !0
                        ));
            }
            return { hide: c, to: d, bind: e };
        }),
        (a.FE.MODULES.button = function(b) {
            function c(c) {
                var d = a(c.currentTarget),
                    e = d.next(),
                    f = d.hasClass("fr-active"),
                    g = (b.helpers.isMobile(), a(".fr-dropdown.fr-active").not(d)),
                    h = d.parents(".fr-toolbar, .fr-popup").data("instance") || b;
                if (
                    (h.helpers.isIOS() &&
                        0 == h.$el.get(0).querySelectorAll(".fr-marker").length &&
                        (h.selection.save(), h.selection.clear(), h.selection.restore()), !f)
                ) {
                    var i = d.data("cmd");
                    e.find(".fr-command").removeClass("fr-active"),
                        a.FE.COMMANDS[i] &&
                        a.FE.COMMANDS[i].refreshOnShow &&
                        a.FE.COMMANDS[i].refreshOnShow.apply(h, [d, e]),
                        e.css(
                            "left",
                            d.offset().left -
                            d.parent().offset().left -
                            ("rtl" == b.opts.direction ? e.width() - d.outerWidth() : 0)
                        ),
                        b.opts.toolbarBottom ?
                        e.css("bottom", b.$tb.height() - d.position().top) :
                        e.css("top", d.position().top + d.outerHeight());
                }
                d.addClass("fr-blink").toggleClass("fr-active"),
                    setTimeout(function() {
                        d.removeClass("fr-blink");
                    }, 300),
                    e.offset().left + e.outerWidth() >
                    a(b.opts.scrollableContainer).offset().left +
                    a(b.opts.scrollableContainer).outerWidth() &&
                    e.css(
                        "margin-left", -(
                            e.offset().left +
                            e.outerWidth() -
                            a(b.opts.scrollableContainer).offset().left -
                            a(b.opts.scrollableContainer).outerWidth()
                        )
                    ),
                    g.removeClass("fr-active"),
                    g.parent(".fr-toolbar:not(.fr-inline)").css("zIndex", ""),
                    0 != d.parents(".fr-popup").length ||
                    b.opts.toolbarInline ||
                    (d.hasClass("fr-active") ?
                        b.$tb.css("zIndex", (b.opts.zIndex || 1) + 4) :
                        b.$tb.css("zIndex", ""));
            }

            function d(b) {
                b.addClass("fr-blink"),
                    setTimeout(function() {
                        b.removeClass("fr-blink");
                    }, 500);
                for (
                    var c = b.data("cmd"), d = [];
                    "undefined" != typeof b.data("param" + (d.length + 1));

                )
                    d.push(b.data("param" + (d.length + 1)));
                var e = a(".fr-dropdown.fr-active");
                e.length &&
                    (e.removeClass("fr-active"),
                        e.parent(".fr-toolbar:not(.fr-inline)").css("zIndex", "")),
                    b
                    .parents(".fr-popup, .fr-toolbar")
                    .data("instance")
                    .commands.exec(c, d);
            }

            function e(b) {
                var c = a(b.currentTarget);
                d(c);
            }

            function f(b) {
                var d = a(b.currentTarget),
                    f = d.parents(".fr-popup, .fr-toolbar").data("instance");
                if (
                    (0 != d.parents(".fr-popup").length ||
                        d.data("popup") ||
                        f.popups.hideAll(),
                        f.popups.areVisible() && !f.popups.areVisible(f))
                ) {
                    for (var g = 0; g < a.FE.INSTANCES.length; g++)
                        a.FE.INSTANCES[g] != f &&
                        a.FE.INSTANCES[g].popups &&
                        a.FE.INSTANCES[g].popups.areVisible() &&
                        a.FE.INSTANCES[g].$el.find(".fr-marker").remove();
                    f.popups.hideAll();
                }
                d.hasClass("fr-dropdown") ?
                    c(b) :
                    (e(b),
                        a.FE.COMMANDS[d.data("cmd")] &&
                        0 != a.FE.COMMANDS[d.data("cmd")].refreshAfterCallback &&
                        f.button.bulkRefresh());
            }

            function g(a) {
                var b = a.find(".fr-dropdown.fr-active");
                b.length &&
                    (b.removeClass("fr-active"),
                        b.parent(".fr-toolbar:not(.fr-inline)").css("zIndex", ""));
            }

            function h(a) {
                a.preventDefault(), a.stopPropagation();
            }

            function i(a) {
                return a.stopPropagation(), b.helpers.isMobile() ? void 0 : !1;
            }

            function j(c, d) {
                b.events.bindClick(c, ".fr-command:not(.fr-disabled)", f),
                    b.events.$on(
                        c,
                        b._mousedown + " " + b._mouseup + " " + b._move,
                        ".fr-dropdown-menu",
                        h, !0
                    ),
                    b.events.$on(
                        c,
                        b._mousedown + " " + b._mouseup + " " + b._move,
                        ".fr-dropdown-menu .fr-dropdown-wrapper",
                        i, !0
                    );
                var e = c.get(0).ownerDocument,
                    j = "defaultView" in e ? e.defaultView : e.parentWindow,
                    k = function(d) {
                        (!d ||
                            (d.type == b._mouseup && d.target != a("html").get(0)) ||
                            ("keydown" == d.type &&
                                ((b.keys.isCharacter(d.which) && !b.keys.ctrlKey(d)) ||
                                    d.which == a.FE.KEYCODE.ESC))) &&
                        g(c);
                    };
                b.events.$on(a(j), b._mouseup + " resize keydown", k, !0),
                    b.opts.iframe && b.events.$on(b.$win, b._mouseup, k, !0),
                    c.hasClass("fr-popup") ?
                    a.merge(t, c.find(".fr-btn").toArray()) :
                    a.merge(s, c.find(".fr-btn").toArray()),
                    b.tooltip.bind(c, ".fr-btn, .fr-title", d);
            }

            function k(a, c) {
                var d = "";
                if (c.html)
                    d += "function" == typeof c.html ? c.html.call(b) : c.html;
                else {
                    var e = c.options;
                    "function" == typeof e && (e = e()),
                        (d += '<ul class="fr-dropdown-list">');
                    for (var f in e)
                        if (e.hasOwnProperty(f)) {
                            var g = b.shortcuts.get(a + "." + f);
                            (g = g ? '<span class="fr-shortcut">' + g + "</span>" : ""),
                            (d +=
                                '<li><a class="fr-command" data-cmd="' +
                                a +
                                '" data-param1="' +
                                f +
                                '" title="' +
                                e[f] +
                                '">' +
                                b.language.translate(e[f]) +
                                "</a></li>");
                        }
                    d += "</ul>";
                }
                return d;
            }

            function l(a, c, d) {
                var e = c.displaySelection;
                "function" == typeof e && (e = e(b));
                var f;
                if (e) {
                    var g =
                        "function" == typeof c.defaultSelection ?
                        c.defaultSelection(b) :
                        c.defaultSelection;
                    f =
                        '<span style="width:' +
                        (c.displaySelectionWidth || 100) +
                        'px">' +
                        (g || b.language.translate(c.title)) +
                        "</span>";
                } else f = b.icon.create(c.icon || a);
                var h = c.popup ? ' data-popup="true"' : "",
                    i = b.shortcuts.get(a + ".");
                i = i ? " (" + i + ")" : "";
                var j =
                    '<button type="button" tabindex="-1" aria-label="' +
                    (b.language.translate(c.title) || "") +
                    '" title="' +
                    (b.language.translate(c.title) || "") +
                    i +
                    '" class="fr-command fr-btn' +
                    ("dropdown" == c.type ? " fr-dropdown" : "") +
                    (c.displaySelection ? " fr-selection" : "") +
                    (c.back ? " fr-back" : "") +
                    (c.disabled ? " fr-disabled" : "") +
                    (d ? "" : " fr-hidden") +
                    '" data-cmd="' +
                    a +
                    '"' +
                    h +
                    ">" +
                    f +
                    "</button>";
                if ("dropdown" == c.type) {
                    var l =
                        '<div class="fr-dropdown-menu"><div class="fr-dropdown-wrapper"><div class="fr-dropdown-content">';
                    (l += k(a, c)), (l += "</div></div></div>"), (j += l);
                }
                return j;
            }

            function m(c, d) {
                for (var e = "", f = 0; f < c.length; f++) {
                    var g = c[f],
                        h = a.FE.COMMANDS[g];
                    if (!(
                            h &&
                            "undefined" != typeof h.plugin &&
                            b.opts.pluginsEnabled.indexOf(h.plugin) < 0
                        ))
                        if (h) {
                            var i = "undefined" != typeof d ? d.indexOf(g) >= 0 : !0;
                            e += l(g, h, i);
                        } else
                            "|" == g ?
                            (e += '<div class="fr-separator fr-vs"></div>') :
                            "-" == g && (e += '<div class="fr-separator fr-hs"></div>');
                }
                return e;
            }

            function n(c) {
                var d,
                    e = c.parents(".fr-popup, .fr-toolbar").data("instance") || b,
                    f = c.data("cmd");
                c.hasClass("fr-dropdown") ?
                    (d = c.next()) :
                    c.removeClass("fr-active"),
                    a.FE.COMMANDS[f] && a.FE.COMMANDS[f].refresh ?
                    a.FE.COMMANDS[f].refresh.apply(e, [c, d]) :
                    b.refresh[f] && e.refresh[f](c, d);
            }

            function o(c) {
                var d = b.$tb ? b.$tb.data("instance") || b : b;
                return 0 == b.events.trigger("buttons.refresh") ?
                    !0 :
                    void setTimeout(function() {
                        for (
                            var b = d.selection.inEditor() && d.core.hasFocus(), e = 0; e < c.length; e++
                        ) {
                            var f = a(c[e]),
                                g = f.data("cmd");
                            0 == f.parents(".fr-popup").length ?
                                b || (a.FE.COMMANDS[g] && a.FE.COMMANDS[g].forcedRefresh) ?
                                d.button.refresh(f) :
                                f.hasClass("fr-dropdown") || f.removeClass("fr-active") :
                                f.parents(".fr-popup").is(":visible") &&
                                d.button.refresh(f);
                        }
                    }, 0);
            }

            function p() {
                o(s), o(t);
            }

            function q() {
                (s = []), (t = []);
            }

            function r() {
                b.opts.toolbarInline ?
                    b.events.on("toolbar.show", p) :
                    (b.events.on("mouseup", p),
                        b.events.on("keyup", p),
                        b.events.on("blur", p),
                        b.events.on("focus", p),
                        b.events.on("contentChanged", p)),
                    b.events.on("shared.destroy", q);
            }
            var s = [];
            (b.opts.toolbarInline || b.opts.toolbarContainer) &&
            (b.shared.buttons || (b.shared.buttons = []), (s = b.shared.buttons));
            var t = [];
            return (
                b.shared.popup_buttons || (b.shared.popup_buttons = []),
                (t = b.shared.popup_buttons), {
                    _init: r,
                    buildList: m,
                    bindCommands: j,
                    refresh: n,
                    bulkRefresh: p,
                    exec: d
                }
            );
        }),
        (a.FE.POPUP_TEMPLATES = { "text.edit": "[_EDIT_]" }),
        (a.FE.RegisterTemplate = function(b, c) {
            a.FE.POPUP_TEMPLATES[b] = c;
        }),
        (a.FE.MODULES.popups = function(b) {
            function c(c, d) {
                d.is(":visible") || (d = a(b.opts.scrollableContainer)),
                    d.is(x[c].data("container")) ||
                    (x[c].data("container", d), d.append(x[c]));
            }

            function d(d, e, h, i) {
                if (
                    (g() &&
                        b.$el.find(".fr-marker").length > 0 &&
                        (b.events.disableBlur(), b.selection.restore()),
                        m([d]), !x[d])
                )
                    return !1;
                a(".fr-dropdown.fr-active")
                    .removeClass("fr-active")
                    .parent(".fr-toolbar")
                    .css("zIndex", ""),
                    x[d].data("instance", b),
                    b.$tb && b.$tb.data("instance", b);
                var j = x[d].outerWidth(),
                    k = (x[d].outerHeight(), f(d));
                x[d]
                    .addClass("fr-active")
                    .removeClass("fr-hidden")
                    .find("input, textarea")
                    .removeAttr("disabled");
                var l = x[d].data("container");
                l.is(b.$tb) && b.$tb.css("zIndex", (b.opts.zIndex || 1) + 4),
                    b.opts.toolbarInline &&
                    l &&
                    b.$tb &&
                    l.get(0) == b.$tb.get(0) &&
                    (c(d, a(b.opts.scrollableContainer)),
                        (h =
                            b.$tb.offset().top - b.helpers.getPX(b.$tb.css("margin-top"))),
                        (e =
                            b.$tb.offset().left +
                            b.$tb.outerWidth() / 2 +
                            (parseFloat(b.$tb.find(".fr-arrow").css("margin-left")) || 0) +
                            b.$tb.find(".fr-arrow").outerWidth() / 2),
                        b.$tb.hasClass("fr-above") && h && (h += b.$tb.outerHeight()),
                        (i = 0)),
                    (l = x[d].data("container")), !b.opts.iframe ||
                    i ||
                    k ||
                    (e && (e -= b.$iframe.offset().left),
                        h && (h -= b.$iframe.offset().top)),
                    e && (e -= j / 2),
                    b.opts.toolbarBottom &&
                    l &&
                    b.$tb &&
                    l.get(0) == b.$tb.get(0) &&
                    (x[d].addClass("fr-above"), h && (h -= x[d].outerHeight())),
                    x[d].removeClass("fr-active"),
                    b.position.at(e, h, x[d], i || 0),
                    x[d].addClass("fr-active");
                var n = x[d].find("input:visible, textarea:visible").get(0);
                n &&
                    (0 == b.$el.find(".fr-marker").length &&
                        b.core.hasFocus() &&
                        b.selection.save(),
                        b.events.disableBlur(),
                        a(n)
                        .select()
                        .focus()),
                    b.opts.toolbarInline && b.toolbar.hide(),
                    b.events.trigger("popups.show." + d),
                    s(d)._repositionPopup(),
                    o();
            }

            function e(a, c) {
                b.events.on("popups.show." + a, c);
            }

            function f(a) {
                return (
                    (x[a] && x[a].hasClass("fr-active") && b.core.sameInstance(x[a])) ||
                    !1
                );
            }

            function g(a) {
                for (var b in x)
                    if (
                        x.hasOwnProperty(b) &&
                        f(b) &&
                        ("undefined" == typeof a || x[b].data("instance") == a)
                    )
                        return !0;
                return !1;
            }

            function h(a) {
                x[a] &&
                    x[a].hasClass("fr-active") &&
                    (x[a].removeClass("fr-active fr-above"),
                        b.events.trigger("popups.hide." + a),
                        b.$tb &&
                        (b.opts.zIndex > 1 ?
                            b.$tb.css("zIndex", b.opts.zIndex + 1) :
                            b.$tb.css("zIndex", "")),
                        b.events.disableBlur(),
                        x[a]
                        .find("input, textarea, button")
                        .filter(":focus")
                        .blur(),
                        x[a].find("input, textarea").attr("disabled", "disabled"));
            }

            function i(a, c) {
                b.events.on("popups.hide." + a, c);
            }

            function j(a) {
                var c = x[a];
                if (c && !c.data("inst" + b.id)) {
                    var d = s(a);
                    t(d, a);
                }
                return c;
            }

            function k(a, c) {
                b.events.on("popups.refresh." + a, c);
            }

            function l(c) {
                b.events.trigger("popups.refresh." + c);
                for (var d = x[c].find(".fr-command"), e = 0; e < d.length; e++) {
                    var f = a(d[e]);
                    0 == f.parents(".fr-dropdown-menu").length && b.button.refresh(f);
                }
            }

            function m(a) {
                "undefined" == typeof a && (a = []);
                for (var b in x) x.hasOwnProperty(b) && a.indexOf(b) < 0 && h(b);
            }

            function n() {
                b.shared.exit_flag = !0;
            }

            function o() {
                b.shared.exit_flag = !1;
            }

            function p() {
                return b.shared.exit_flag;
            }

            function q(c, d) {
                var e = a.FE.POPUP_TEMPLATES[c];
                "function" == typeof e && (e = e.apply(b));
                for (var f in d)
                    d.hasOwnProperty(f) &&
                    (e = e.replace("[_" + f.toUpperCase() + "_]", d[f]));
                return e;
            }

            function r(c, d) {
                var e = q(c, d),
                    f = a(
                        '<div class="fr-popup' +
                        (b.helpers.isMobile() ? " fr-mobile" : " fr-desktop") +
                        (b.opts.toolbarInline ? " fr-inline" : "") +
                        '"><span class="fr-arrow"></span>' +
                        e +
                        "</div>"
                    );
                b.opts.theme && f.addClass(b.opts.theme + "-theme"),
                    b.opts.zIndex > 1 && b.$tb.css("z-index", b.opts.zIndex + 2),
                    "auto" != b.opts.direction &&
                    f.removeClass("fr-ltr fr-rtl").addClass("fr-" + b.opts.direction),
                    f
                    .find("input, textarea")
                    .attr("dir", b.opts.direction)
                    .attr("disabled", "disabled");
                var g = a("body");
                return (
                    g.append(f),
                    f.data("container", g),
                    (x[c] = f),
                    b.button.bindCommands(f, !1),
                    f
                );
            }

            function s(c) {
                var d = x[c];
                return {
                    _windowResize: function() {
                        var a = d.data("instance") || b;
                        !a.helpers.isMobile() &&
                            d.is(":visible") &&
                            (a.events.disableBlur(),
                                a.popups.hide(c),
                                a.events.enableBlur());
                    },
                    _inputFocus: function(c) {
                        var e = d.data("instance") || b;
                        if (
                            (c.preventDefault(),
                                setTimeout(function() {
                                    e.events.enableBlur();
                                }, 0),
                                e.helpers.isMobile())
                        ) {
                            var f = a(e.o_win).scrollTop();
                            setTimeout(function() {
                                a(e.o_win).scrollTop(f);
                            }, 0);
                        }
                    },
                    _inputBlur: function(c) {
                        var e = d.data("instance") || b;
                        document.activeElement != this &&
                            a(this).is(":visible") &&
                            (e.events.blurActive() && e.events.trigger("blur"),
                                e.events.enableBlur());
                    },
                    _inputKeydown: function(e) {
                        var g = d.data("instance") || b,
                            h = e.which;
                        if (a.FE.KEYCODE.TAB == h) {
                            e.preventDefault();
                            var i = d
                                .find("input, textarea, button, select")
                                .filter(":visible")
                                .not(":disabled")
                                .toArray();
                            i.sort(function(b, c) {
                                    return e.shiftKey ?
                                        a(b).attr("tabIndex") < a(c).attr("tabIndex") :
                                        a(b).attr("tabIndex") > a(c).attr("tabIndex");
                                }),
                                g.events.disableBlur();
                            var j = i.indexOf(this) + 1;
                            j == i.length && (j = 0), a(i[j]).focus();
                        } else if (a.FE.KEYCODE.ENTER == h)
                            d.find(".fr-submit:visible").length > 0 &&
                            (e.preventDefault(),
                                e.stopPropagation(),
                                g.events.disableBlur(),
                                g.button.exec(d.find(".fr-submit:visible:first")));
                        else {
                            if (a.FE.KEYCODE.ESC == h)
                                return (
                                    e.preventDefault(),
                                    e.stopPropagation(),
                                    g.$el.find(".fr-marker") &&
                                    (g.events.disableBlur(),
                                        a(this).data("skip", !0),
                                        g.selection.restore(),
                                        g.events.enableBlur()),
                                    f(c) && d.find(".fr-back:visible").length ?
                                    g.button.exec(d.find(".fr-back:visible:first")) :
                                    g.popups.hide(c),
                                    g.opts.toolbarInline && g.toolbar.showInline(null, !0), !1
                                );
                            e.stopPropagation();
                        }
                    },
                    _windowKeydown: function(e) {
                        if (!b.core.sameInstance(d)) return !0;
                        var g = d.data("instance") || b,
                            h = e.which;
                        if (a.FE.KEYCODE.ESC == h) {
                            if (f(c) && g.opts.toolbarInline)
                                return (
                                    e.stopPropagation(),
                                    f(c) && d.find(".fr-back:visible").length ?
                                    g.button.exec(d.find(".fr-back:visible:first")) :
                                    (g.popups.hide(c), g.toolbar.showInline(null, !0)), !1
                                );
                            f(c) && d.find(".fr-back:visible").length ?
                                g.button.exec(d.find(".fr-back:visible:first")) :
                                g.popups.hide(c);
                        }
                    },
                    _editorKeydown: function(e) {
                        var g = d.data("instance") || b;
                        g.keys.ctrlKey(e) ||
                            e.which == a.FE.KEYCODE.ESC ||
                            (f(c) && d.find(".fr-back:visible").length ?
                                g.button.exec(d.find(".fr-back:visible:first")) :
                                g.popups.hide(c));
                    },
                    _preventFocus: function(c) {
                        var e = d.data("instance") || b;
                        e.events.disableBlur();
                        var f = c.originalEvent ?
                            c.originalEvent.target || c.originalEvent.originalTarget :
                            null,
                            g = "input, textarea, button, select, label, .fr-command";
                        return f && !a(f).is(g) && 0 === a(f).parents(g).length ?
                            (c.stopPropagation(), !1) :
                            (f && a(f).is(g) && c.stopPropagation(), void o());
                    },
                    _editorMouseup: function(a) {
                        d.is(":visible") &&
                            p() &&
                            d
                            .find(
                                "input:focus, textarea:focus, button:focus, select:focus"
                            )
                            .filter(":visible").length > 0 &&
                            b.events.disableBlur();
                    },
                    _windowMouseup: function(a) {
                        if (!b.core.sameInstance(d)) return !0;
                        var e = d.data("instance") || b;
                        d.is(":visible") &&
                            p() &&
                            (a.stopPropagation(),
                                e.markers.remove(),
                                e.popups.hide(c),
                                o());
                    },
                    _doPlaceholder: function(b) {
                        var c = a(this).next();
                        0 == c.length &&
                            a(this).after(
                                "<label>" + a(this).attr("placeholder") + "</label>"
                            ),
                            a(this).toggleClass("fr-not-empty", "" != a(this).val());
                    },
                    _repositionPopup: function(e) {
                        if ((!b.opts.height && !b.opts.heightMax) || b.opts.toolbarInline)
                            return !0;
                        if (
                            b.$wp &&
                            f(c) &&
                            d.parent().get(0) == a(b.opts.scrollableContainer).get(0)
                        ) {
                            var g = d.offset().top - b.$wp.offset().top,
                                h = b.$wp.outerHeight();
                            d.hasClass("fr-above") && (g += d.outerHeight()),
                                g > h || 0 > g ?
                                d.addClass("fr-hidden") :
                                d.removeClass("fr-hidden");
                        }
                    }
                };
            }

            function t(a, c) {
                b.events.on("mouseup", a._editorMouseup, !0),
                    b.$wp && b.events.on("keydown", a._editorKeydown),
                    b.events.on("blur", function(a) {
                        g() && b.markers.remove(), m();
                    }),
                    b.$wp &&
                    !b.helpers.isMobile() &&
                    b.events.$on(b.$wp, "scroll.popup" + c, a._repositionPopup),
                    b.events.on("window.keydown", a._windowKeydown),
                    b.events.on("window.mouseup", a._windowMouseup, !0),
                    x[c].data("inst" + b.id, !0),
                    b.events.on(
                        "destroy",
                        function() {
                            b.core.sameInstance(x[c]) &&
                                x[c].removeClass("fr-active").appendTo("body");
                        }, !0
                    );
            }

            function u(c, d) {
                var e = r(c, d),
                    f = s(c);
                return (
                    t(f, c),
                    b.events.$on(
                        e,
                        "mousedown mouseup touchstart touchend touch",
                        "*",
                        f._preventFocus, !0
                    ),
                    b.events.$on(
                        e,
                        "focus",
                        "input, textarea, button, select",
                        f._inputFocus, !0
                    ),
                    b.events.$on(
                        e,
                        "blur",
                        "input, textarea, button, select",
                        f._inputBlur, !0
                    ),
                    b.events.$on(
                        e,
                        "keydown",
                        "input, textarea, button, select",
                        f._inputKeydown, !0
                    ),
                    b.events.$on(
                        e,
                        "keydown keyup change input",
                        "input, textarea",
                        f._doPlaceholder, !0
                    ),
                    b.helpers.isIOS() &&
                    b.events.$on(
                        e,
                        "touchend",
                        "label",
                        function() {
                            a("#" + a(this).attr("for")).prop("checked", function(a, b) {
                                return !b;
                            });
                        }, !0
                    ),
                    b.events.$on(a(b.o_win), "resize", f._windowResize, !0),
                    e
                );
            }

            function v() {
                for (var a in x)
                    if (x.hasOwnProperty(a)) {
                        var b = x[a];
                        b
                            .html("")
                            .removeData()
                            .remove(),
                            (x[a] = null);
                    }
                x = [];
            }

            function w() {
                b.events.on("shared.destroy", v, !0),
                    b.events.on("window.mousedown", n),
                    b.events.on("window.touchmove", o),
                    b.events.on("mousedown", function(a) {
                        g() &&
                            (a.stopPropagation(),
                                b.$el.find(".fr-marker").remove(),
                                n(),
                                b.events.disableBlur());
                    });
            }
            b.shared.popups || (b.shared.popups = {});
            var x = b.shared.popups;
            return (
                (b.shared.exit_flag = !1), {
                    _init: w,
                    create: u,
                    get: j,
                    show: d,
                    hide: h,
                    onHide: i,
                    hideAll: m,
                    setContainer: c,
                    refresh: l,
                    onRefresh: k,
                    onShow: e,
                    isVisible: f,
                    areVisible: g
                }
            );
        }),
        (a.FE.MODULES.position = function(b) {
            function c() {
                var c,
                    d = b.selection.ranges(0);
                if (d && d.collapsed && b.selection.inEditor()) {
                    var e = !1;
                    0 == b.$el.find(".fr-marker").length &&
                        (b.selection.save(), (e = !0));
                    var f = b.$el.find(".fr-marker:first");
                    f.css("display", "inline"), f.css("line-height", "");
                    var g = f.offset(),
                        h = f.outerHeight();
                    f.css("display", "none"),
                        f.css("line-height", 0),
                        (c = {}),
                        (c.left = g.left),
                        (c.width = 0),
                        (c.height = h),
                        (c.top =
                            g.top - (b.helpers.isIOS() ? 0 : a(b.o_win).scrollTop())),
                        (c.right = 1),
                        (c.bottom = 1),
                        (c.ok = !0),
                        e && b.selection.restore();
                } else d && (c = d.getBoundingClientRect());
                return c;
            }

            function d(c, d, e) {
                var f = c.outerHeight();
                if (!b.helpers.isMobile() &&
                    b.$tb &&
                    c.parent().get(0) != b.$tb.get(0)
                ) {
                    var g =
                        (c.parent().height() -
                            20 -
                            (b.opts.toolbarBottom ? b.$tb.outerHeight() : 0),
                            c.parent().offset().top),
                        h = d - f - (e || 0);
                    c.parent().get(0) == a(b.opts.scrollableContainer).get(0) &&
                        (g -= c.parent().position().top);
                    var i = a(b.opts.scrollableContainer).get(0).scrollHeight;
                    g + d + f > a(b.opts.scrollableContainer).offset().top + i &&
                        c.parent().offset().top + h > 0 ?
                        ((d = h), c.addClass("fr-above")) :
                        c.removeClass("fr-above");
                }
                return d;
            }

            function e(c, d) {
                var e = c.outerWidth();
                return (
                    d + e > a(b.opts.scrollableContainer).width() - 10 &&
                    (d = a(b.opts.scrollableContainer).width() - e - 10),
                    0 > d && (d = 10),
                    d
                );
            }

            function f(d) {
                var e = c();
                d.css("top", 0).css("left", 0);
                var f = e.top + e.height,
                    h =
                    e.left +
                    e.width / 2 -
                    d.outerWidth() / 2 +
                    a(b.o_win).scrollLeft();
                b.opts.iframe || (f += a(b.o_win).scrollTop()), g(h, f, d, e.height);
            }

            function g(a, c, f, g) {
                var h = f.data("container");
                !h ||
                    (h.is("body") && "static" == h.css("position")) ||
                    (a && (a -= h.offset().left),
                        c && (c -= h.offset().top),
                        "BODY" != h.get(0).tagName ?
                        (a && (a += h.scrollLeft()), c && (c += h.scrollTop())) :
                        "absolute" == h.css("position") &&
                        (a && (a += h.position().left), c && (c += h.position().top))),
                    b.opts.iframe &&
                    h &&
                    b.$tb &&
                    h.get(0) != b.$tb.get(0) &&
                    (a && (a += b.$iframe.offset().left),
                        c && (c += b.$iframe.offset().top));
                var i = e(f, a);
                if (a) {
                    f.css("left", i);
                    var j = f.find(".fr-arrow");
                    j.data("margin-left") ||
                        j.data("margin-left", b.helpers.getPX(j.css("margin-left"))),
                        j.css("margin-left", a - i + j.data("margin-left"));
                }
                c && f.css("top", d(f, c, g));
            }

            function h(c) {
                var d = a(c),
                    e = d.is(".fr-sticky-on"),
                    f = d.data("sticky-top"),
                    g = d.data("sticky-scheduled");
                if ("undefined" == typeof f) {
                    d.data("sticky-top", 0);
                    var h = a(
                        '<div class="fr-sticky-dummy" style="height: ' +
                        d.outerHeight() +
                        'px;"></div>'
                    );
                    b.$box.prepend(h);
                } else b.$box.find(".fr-sticky-dummy").css("height", d.outerHeight());
                if (
                    b.core.hasFocus() ||
                    b.$tb.find("input:visible:focus").length > 0
                ) {
                    var i = a(window).scrollTop(),
                        j = Math.min(
                            Math.max(i - b.$tb.parent().offset().top, 0),
                            b.$tb.parent().outerHeight() - d.outerHeight()
                        );
                    j != f &&
                        j != g &&
                        (clearTimeout(d.data("sticky-timeout")),
                            d.data("sticky-scheduled", j),
                            d.outerHeight() < i - b.$tb.parent().offset().top &&
                            d.addClass("fr-opacity-0"),
                            d.data(
                                "sticky-timeout",
                                setTimeout(function() {
                                    var c = a(window).scrollTop(),
                                        e = Math.min(
                                            Math.max(c - b.$tb.parent().offset().top, 0),
                                            b.$tb.parent().outerHeight() - d.outerHeight()
                                        );
                                    e > 0 &&
                                        "BODY" == b.$tb.parent().get(0).tagName &&
                                        (e += b.$tb.parent().position().top),
                                        e != f &&
                                        (d.css("top", Math.max(e, 0)),
                                            d.data("sticky-top", e),
                                            d.data("sticky-scheduled", e)),
                                        d.removeClass("fr-opacity-0");
                                }, 100)
                            )),
                        e ||
                        (d.css("top", "0"),
                            d.width(b.$tb.parent().width()),
                            d.addClass("fr-sticky-on"),
                            b.$box.addClass("fr-sticky-box"));
                } else
                    clearTimeout(a(c).css("sticky-timeout")),
                    d.css("top", "0"),
                    d.css("position", ""),
                    d.width(""),
                    d.data("sticky-top", 0),
                    d.removeClass("fr-sticky-on"),
                    b.$box.removeClass("fr-sticky-box");
            }

            function i(c) {
                if (c.offsetWidth) {
                    var d,
                        e,
                        f = a(c),
                        g = f.outerHeight(),
                        h = f.data("sticky-position"),
                        i = a(
                            "body" == b.opts.scrollableContainer ?
                            b.o_win :
                            b.opts.scrollableContainer
                        ).outerHeight(),
                        j = 0,
                        k = 0;
                    "body" !== b.opts.scrollableContainer &&
                        ((j = a(b.opts.scrollableContainer).offset().top),
                            (k = a(b.o_win).outerHeight() - j - i));
                    var l =
                        "body" == b.opts.scrollableContainer ?
                        a(b.o_win).scrollTop() :
                        j,
                        m = f.is(".fr-sticky-on");
                    f.data("sticky-parent") || f.data("sticky-parent", f.parent());
                    var n = f.data("sticky-parent"),
                        o = n.offset().top,
                        p = n.outerHeight();
                    if (
                        (f.data("sticky-offset") ||
                            (f.data("sticky-offset", !0),
                                f.after(
                                    '<div class="fr-sticky-dummy" style="height: ' +
                                    g +
                                    'px;"></div>'
                                )), !h)
                    ) {
                        var q = "auto" !== f.css("top") || "auto" !== f.css("bottom");
                        q || f.css("position", "fixed"),
                            (h = {
                                top: f.hasClass("fr-top"),
                                bottom: f.hasClass("fr-bottom")
                            }),
                            q || f.css("position", ""),
                            f.data("sticky-position", h),
                            f.data("top", f.hasClass("fr-top") ? f.css("top") : "auto"),
                            f.data(
                                "bottom",
                                f.hasClass("fr-bottom") ? f.css("bottom") : "auto"
                            );
                    }
                    var r = function() {
                            return l + d > o && o + p - g >= l + d;
                        },
                        s = function() {
                            return l + i - e > o + g && o + p > l + i - e;
                        };
                    (d = b.helpers.getPX(f.data("top"))),
                    (e = b.helpers.getPX(f.data("bottom")));
                    var t = h.top && r(),
                        u = h.bottom && s();
                    t || u ?
                        (f.css("width", n.width() + "px"),
                            m ||
                            (f.addClass("fr-sticky-on"),
                                f.removeClass("fr-sticky-off"),
                                f.css("top") &&
                                ("auto" != f.data("top") ?
                                    f.css("top", b.helpers.getPX(f.data("top")) + j) :
                                    f.data("top", "auto")),
                                f.css("bottom") &&
                                ("auto" != f.data("bottom") ?
                                    f.css("bottom", b.helpers.getPX(f.data("bottom")) + k) :
                                    f.css("bottom", "auto")))) :
                        f.hasClass("fr-sticky-off") ||
                        (f.width(""),
                            f.removeClass("fr-sticky-on"),
                            f.addClass("fr-sticky-off"),
                            f.css("top") && "auto" != f.css("top") && f.css("top", 0),
                            f.css("bottom") && f.css("bottom", 0));
                }
            }

            function j() {
                var a = document.createElement("test"),
                    c = a.style;
                return (
                    (c.cssText =
                        "position:" + ["-webkit-", "-moz-", "-ms-", "-o-", ""].join(
                            "sticky; position:"
                        ) +
                        " sticky;"), -1 !== c.position.indexOf("sticky") &&
                    !b.helpers.isIOS() &&
                    !b.helpers.isAndroid()
                );
            }

            function k() {
                if (!j())
                    if (((b._stickyElements = []), b.helpers.isIOS())) {
                        var c = function() {
                            b.helpers.requestAnimationFrame()(c);
                            for (var a = 0; a < b._stickyElements.length; a++)
                                h(b._stickyElements[a]);
                        };
                        c(),
                            b.events.$on(
                                a(b.o_win),
                                "scroll",
                                function() {
                                    if (b.core.hasFocus())
                                        for (var c = 0; c < b._stickyElements.length; c++) {
                                            var d = a(b._stickyElements[c]),
                                                e = d.parent(),
                                                f = a(window).scrollTop();
                                            d.outerHeight() < f - e.offset().top &&
                                                (d.addClass("fr-opacity-0"),
                                                    d.data("sticky-top", -1),
                                                    d.data("sticky-scheduled", -1));
                                        }
                                }, !0
                            );
                    } else
                        b.events.$on(
                            a(
                                "body" == b.opts.scrollableContainer ?
                                b.o_win :
                                b.opts.scrollableContainer
                            ),
                            "scroll",
                            l, !0
                        ),
                        b.events.$on(a(b.o_win), "resize", l, !0),
                        b.events.on("initialized", l),
                        b.events.on("focus", l),
                        b.events.$on(a(b.o_win), "resize", "textarea", l, !0);
                b.events.on("destroy", function(a) {
                    b._stickyElements = [];
                });
            }

            function l() {
                for (var a = 0; a < b._stickyElements.length; a++)
                    i(b._stickyElements[a]);
            }

            function m(a) {
                a.addClass("fr-sticky"),
                    b.helpers.isIOS() && a.addClass("fr-sticky-ios"),
                    j() || b._stickyElements.push(a.get(0));
            }

            function n() {
                k();
            }
            return {
                _init: n,
                forSelection: f,
                addSticky: m,
                refresh: l,
                at: g,
                getBoundingRect: c
            };
        }),
        (a.FE.MODULES.refresh = function(b) {
            function c(a) {
                a.toggleClass("fr-disabled", !b.undo.canDo());
            }

            function d(a) {
                a.toggleClass("fr-disabled", !b.undo.canRedo());
            }

            function e(a) {
                if (a.hasClass("fr-no-refresh")) return !1;
                for (var c = b.selection.blocks(), d = 0; d < c.length; d++) {
                    for (
                        var e = c[d].previousSibling; e && e.nodeType == Node.TEXT_NODE && 0 === e.textContent.length;

                    )
                        e = e.previousSibling;
                    if ("LI" != c[d].tagName || e)
                        return a.removeClass("fr-disabled"), !0;
                    a.addClass("fr-disabled");
                }
            }

            function f(c) {
                if (c.hasClass("fr-no-refresh")) return !1;
                for (var d = b.selection.blocks(), e = 0; e < d.length; e++) {
                    var f =
                        "rtl" == b.opts.direction || "rtl" == a(d[e]).css("direction") ?
                        "margin-right" :
                        "margin-left";
                    if ("LI" == d[e].tagName || "LI" == d[e].parentNode.tagName)
                        return c.removeClass("fr-disabled"), !0;
                    if (b.helpers.getPX(a(d[e]).css(f)) > 0)
                        return c.removeClass("fr-disabled"), !0;
                }
                c.addClass("fr-disabled");
            }
            return { undo: c, redo: d, outdent: f, indent: e };
        }),
        a.extend(a.FE.DEFAULTS, { editInPopup: !1 }),
        (a.FE.MODULES.textEdit = function(b) {
            function c() {
                var a =
                    '<div id="fr-text-edit-' +
                    b.id +
                    '" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="' +
                    b.language.translate("Text") +
                    '" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">' +
                    b.language.translate("Update") +
                    "</button></div></div>",
                    c = { edit: a };
                b.popups.create("text.edit", c);
            }

            function d() {
                var c,
                    d = b.popups.get("text.edit");
                (c =
                    "INPUT" === b.$el.prop("tagName") ?
                    b.$el.attr("placeholder") :
                    b.$el.text()),
                d
                    .find("input")
                    .val(c)
                    .trigger("change"),
                    b.popups.setContainer("text.edit", a("body")),
                    b.popups.show(
                        "text.edit",
                        b.$el.offset().left + b.$el.outerWidth() / 2,
                        b.$el.offset().top + b.$el.outerHeight(),
                        b.$el.outerHeight()
                    );
            }

            function e() {
                b.events.$on(b.$el, b._mouseup, function(a) {
                    setTimeout(function() {
                        d();
                    }, 10);
                });
            }

            function f() {
                var a = b.popups.get("text.edit"),
                    c = a.find("input").val();
                0 == c.length && (c = b.opts.placeholderText),
                    "INPUT" === b.$el.prop("tagName") ?
                    b.$el.attr("placeholder", c) :
                    b.$el.text(c),
                    b.events.trigger("contentChanged"),
                    b.popups.hide("text.edit");
            }

            function g() {
                b.opts.editInPopup && (c(), e());
            }
            return { _init: g, update: f };
        }),
        a.FE.RegisterCommand("updateText", {
            focus: !1,
            undo: !1,
            callback: function() {
                this.textEdit.update();
            }
        }),
        a.extend(a.FE.DEFAULTS, {
            toolbarBottom: !1,
            toolbarButtons: [
                "fullscreen",
                "bold",
                "italic",
                "underline",
                "strikeThrough",
                "subscript",
                "superscript",
                "fontFamily",
                "fontSize",
                "|",
                "color",
                "emoticons",
                "inlineStyle",
                "paragraphStyle",
                "|",
                "paragraphFormat",
                "align",
                "formatOL",
                "formatUL",
                "outdent",
                "indent",
                "quote",
                "insertHR",
                "-",
                "insertLink",
                "insertImage",
                "insertVideo",
                "insertFile",
                "insertTable",
                "undo",
                "redo",
                "clearFormatting",
                "selectAll",
                "html",
                "applyFormat",
                "removeFormat"
            ],
            toolbarButtonsXS: [
                "bold",
                "italic",
                "fontFamily",
                "fontSize",
                "|",
                "undo",
                "redo"
            ],
            toolbarButtonsSM: [
                "bold",
                "italic",
                "underline",
                "|",
                "fontFamily",
                "fontSize",
                "insertLink",
                "insertImage",
                "table",
                "|",
                "undo",
                "redo"
            ],
            toolbarButtonsMD: [
                "fullscreen",
                "bold",
                "italic",
                "underline",
                "fontFamily",
                "fontSize",
                "color",
                "paragraphStyle",
                "paragraphFormat",
                "align",
                "formatOL",
                "formatUL",
                "outdent",
                "indent",
                "quote",
                "insertHR",
                "-",
                "insertLink",
                "insertImage",
                "insertVideo",
                "insertFile",
                "insertTable",
                "undo",
                "redo",
                "clearFormatting"
            ],
            toolbarContainer: null,
            toolbarInline: !1,
            toolbarSticky: !0,
            toolbarStickyOffset: 0,
            toolbarVisibleWithoutSelection: !1
        }),
        (a.FE.MODULES.toolbar = function(b) {
            function c(a, b) {
                for (var c = 0; c < b.length; c++)
                    "-" != b[c] && "|" != b[c] && a.indexOf(b[c]) < 0 && a.push(b[c]);
            }

            function d() {
                var d = a.merge([], e());
                c(d, b.opts.toolbarButtonsXS || []),
                    c(d, b.opts.toolbarButtonsSM || []),
                    c(d, b.opts.toolbarButtonsMD || []),
                    c(d, b.opts.toolbarButtons);
                for (var f = d.length - 1; f >= 0; f--)
                    "-" != d[f] && "|" != d[f] && d.indexOf(d[f]) < f && d.splice(f, 1);
                var g = b.button.buildList(d, e());
                b.$tb.append(g), b.button.bindCommands(b.$tb);
            }

            function e() {
                var a = b.helpers.screenSize();
                return u[a];
            }

            function f() {
                var a = e();
                b.$tb.find(".fr-separator").remove(),
                    b.$tb.find("> .fr-command").addClass("fr-hidden");
                for (var c = 0; c < a.length; c++)
                    if ("|" == a[c] || "-" == a[c])
                        b.$tb.append(b.button.buildList([a[c]]));
                    else {
                        var d = b.$tb.find('> .fr-command[data-cmd="' + a[c] + '"]'),
                            f = null;
                        d.next().hasClass("fr-dropdown-menu") && (f = d.next()),
                            d.removeClass("fr-hidden").appendTo(b.$tb),
                            f && f.appendTo(b.$tb);
                    }
            }

            function g() {
                b.events.$on(a(b.o_win), "resize", f, !0),
                    b.events.$on(a(b.o_win), "orientationchange", f, !0);
            }

            function h(c, d) {
                setTimeout(function() {
                    if (c && c.which == a.FE.KEYCODE.ESC);
                    else if (
                        b.selection.inEditor() &&
                        b.core.hasFocus() &&
                        !b.popups.areVisible() &&
                        ((b.opts.toolbarVisibleWithoutSelection &&
                                c &&
                                "keyup" != c.type) ||
                            (!b.selection.isCollapsed() && !b.keys.isIME()) ||
                            d)
                    ) {
                        if (
                            (b.$tb.data("instance", b),
                                0 == b.events.trigger("toolbar.show", [c]))
                        )
                            return !1;
                        b.opts.toolbarContainer || b.position.forSelection(b.$tb),
                            b.$tb.show();
                    }
                }, 0);
            }

            function i(c) {
                var d = a(".fr-dropdown.fr-active");
                return d.next().find(b.o_doc.activeElement).length ?
                    !0 :
                    0 == b.events.trigger("toolbar.hide") ?
                    !1 :
                    void b.$tb.hide();
            }

            function j() {
                return 0 == b.events.trigger("toolbar.show") ? !1 : void b.$tb.show();
            }

            function k() {
                b.events.on("window.mousedown", i),
                    b.events.on("keydown", i),
                    b.events.on("blur", i),
                    b.events.on("window.mouseup", h),
                    b.helpers.isMobile() ?
                    b.helpers.isIOS() ||
                    (b.events.on("window.touchend", h),
                        b.browser.mozilla && setInterval(h, 200)) :
                    b.events.on("window.keyup", h),
                    b.events.on("keydown", function(b) {
                        b && b.which == a.FE.KEYCODE.ESC && i();
                    }),
                    b.events.$on(b.$wp, "scroll.toolbar", h),
                    b.events.on("commands.after", h),
                    b.helpers.isMobile() &&
                    (b.events.$on(b.$doc, "selectionchange", h),
                        b.events.$on(b.$doc, "orientationchange", h));
            }

            function l() {
                b.opts.toolbarInline ?
                    (a(b.opts.scrollableContainer).append(b.$tb),
                        b.$tb.data("container", a(b.opts.scrollableContainer)),
                        b.$tb.addClass("fr-inline"),
                        b.$tb.prepend('<span class="fr-arrow"></span>'),
                        k(),
                        (b.opts.toolbarBottom = !1)) :
                    (b.opts.toolbarBottom && !b.helpers.isIOS() ?
                        (b.$box.append(b.$tb),
                            b.$tb.addClass("fr-bottom"),
                            b.$box.addClass("fr-bottom")) :
                        ((b.opts.toolbarBottom = !1),
                            b.$box.prepend(b.$tb),
                            b.$tb.addClass("fr-top"),
                            b.$box.addClass("fr-top")),
                        b.$tb.addClass("fr-basic"),
                        b.opts.toolbarSticky &&
                        (b.opts.toolbarStickyOffset &&
                            (b.opts.toolbarBottom ?
                                b.$tb.css("bottom", b.opts.toolbarStickyOffset) :
                                b.$tb.css("top", b.opts.toolbarStickyOffset)),
                            b.position.addSticky(b.$tb)));
            }

            function m() {
                b.$tb
                    .html("")
                    .removeData()
                    .remove(),
                    (b.$tb = null);
            }

            function n() {
                b.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),
                    b.$box.find(".fr-sticky-dummy").remove();
            }

            function o() {
                b.opts.theme && b.$tb.addClass(b.opts.theme + "-theme"),
                    b.opts.zIndex > 1 && b.$tb.css("z-index", b.opts.zIndex + 1),
                    "auto" != b.opts.direction &&
                    b.$tb
                    .removeClass("fr-ltr fr-rtl")
                    .addClass("fr-" + b.opts.direction),
                    b.helpers.isMobile() ?
                    b.$tb.addClass("fr-mobile") :
                    b.$tb.addClass("fr-desktop"),
                    b.opts.toolbarContainer ?
                    (b.opts.toolbarInline && (k(), i()),
                        b.opts.toolbarBottom ?
                        b.$tb.addClass("fr-bottom") :
                        b.$tb.addClass("fr-top")) :
                    l(),
                    (s = b.$tb.get(0).ownerDocument),
                    (t = "defaultView" in s ? s.defaultView : s.parentWindow),
                    d(),
                    g(),
                    b.events.$on(
                        b.$tb,
                        b._mousedown + " " + b._mouseup,
                        function(a) {
                            var c = a.originalEvent ?
                                a.originalEvent.target || a.originalEvent.originalTarget :
                                null;
                            return c && "INPUT" != c.tagName && !b.edit.isDisabled() ?
                                (a.stopPropagation(), a.preventDefault(), !1) :
                                void 0;
                        }, !0
                    );
            }

            function p() {
                return b.$wp ?
                    (b.opts.toolbarContainer ?
                        (b.shared.$tb ?
                            ((b.$tb = b.shared.$tb), b.opts.toolbarInline && k()) :
                            ((b.shared.$tb = a('<div class="fr-toolbar"></div>')),
                                (b.$tb = b.shared.$tb),
                                a(b.opts.toolbarContainer).append(b.$tb),
                                o(),
                                b.$tb.data("instance", b)),
                            b.opts.toolbarInline ?
                            b.$box.addClass("fr-inline") :
                            b.$box.addClass("fr-basic"),
                            b.events.on(
                                "focus",
                                function() {
                                    b.$tb.data("instance", b);
                                }, !0
                            ),
                            (b.opts.toolbarInline = !1)) :
                        b.opts.toolbarInline ?
                        (b.$box.addClass("fr-inline"),
                            b.shared.$tb ?
                            ((b.$tb = b.shared.$tb), k()) :
                            ((b.shared.$tb = a('<div class="fr-toolbar"></div>')),
                                (b.$tb = b.shared.$tb),
                                o())) :
                        (b.$box.addClass("fr-basic"),
                            (b.$tb = a('<div class="fr-toolbar"></div>')),
                            o(),
                            b.$tb.data("instance", b)),
                        b.events.on("destroy", n, !0),
                        void b.events.on(
                            b.opts.toolbarInline ? "shared.destroy" : "destroy",
                            m, !0
                        )) :
                    !1;
            }

            function q() {
                !v &&
                    b.$tb &&
                    (b.$tb.find("> .fr-command").addClass("fr-disabled fr-no-refresh"),
                        (v = !0));
            }

            function r() {
                v &&
                    b.$tb &&
                    (b.$tb
                        .find("> .fr-command")
                        .removeClass("fr-disabled fr-no-refresh"),
                        (v = !1)),
                    b.button.bulkRefresh();
            }
            var s,
                t,
                u = [];
            (u[a.FE.XS] = b.opts.toolbarButtonsXS || b.opts.toolbarButtons),
            (u[a.FE.SM] = b.opts.toolbarButtonsSM || b.opts.toolbarButtons),
            (u[a.FE.MD] = b.opts.toolbarButtonsMD || b.opts.toolbarButtons),
            (u[a.FE.LG] = b.opts.toolbarButtons);
            var v = !1;
            return {
                _init: p,
                hide: i,
                show: j,
                showInline: h,
                disable: q,
                enable: r
            };
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    (a.FE.PLUGINS.align = function(b) {
        function c(c) {
            b.selection.save(), b.html.wrap(!0, !0, !0, !0), b.selection.restore();
            for (var d = b.selection.blocks(), e = 0; e < d.length; e++)
                a(d[e])
                .css("text-align", c)
                .removeClass("fr-temp-div"),
                "" === a(d[e]).attr("class") && a(d[e]).removeAttr("class");
            b.selection.save(), b.html.unwrap(), b.selection.restore();
        }

        function d(c) {
            var d = b.selection.blocks();
            if (d.length) {
                var e = b.helpers.getAlignment(a(d[0]));
                c.find("> *:first").replaceWith(b.icon.create("align-" + e));
            }
        }

        function e(c, d) {
            var e = b.selection.blocks();
            if (e.length) {
                var f = b.helpers.getAlignment(a(e[0]));
                d.find('a.fr-command[data-param1="' + f + '"]').addClass("fr-active");
            }
        }
        return { apply: c, refresh: d, refreshOnShow: e };
    }),
    a.FE.DefineIcon("align", { NAME: "align-left" }),
        a.FE.DefineIcon("align-left", { NAME: "align-left" }),
        a.FE.DefineIcon("align-right", { NAME: "align-right" }),
        a.FE.DefineIcon("align-center", { NAME: "align-center" }),
        a.FE.DefineIcon("align-justify", { NAME: "align-justify" }),
        a.FE.RegisterCommand("align", {
            type: "dropdown",
            title: "Align",
            options: {
                left: "Align Left",
                center: "Align Center",
                right: "Align Right",
                justify: "Align Justify"
            },
            html: function() {
                var b = '<ul class="fr-dropdown-list">',
                    c = a.FE.COMMANDS.align.options;
                for (var d in c)
                    c.hasOwnProperty(d) &&
                    (b +=
                        '<li><a class="fr-command fr-title" data-cmd="align" data-param1="' +
                        d +
                        '" title="' +
                        this.language.translate(c[d]) +
                        '">' +
                        this.icon.create("align-" + d) +
                        "</a></li>");
                return (b += "</ul>");
            },
            callback: function(a, b) {
                this.align.apply(b);
            },
            refresh: function(a) {
                this.align.refresh(a);
            },
            refreshOnShow: function(a, b) {
                this.align.refreshOnShow(a, b);
            },
            plugin: "align"
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, { charCounterMax: -1, charCounterCount: !0 }),
        (a.FE.PLUGINS.charCounter = function(b) {
            function c() {
                return b.$el.text().length;
            }

            function d(a) {
                if (b.opts.charCounterMax < 0) return !0;
                if (c() < b.opts.charCounterMax) return !0;
                var d = a.which;
                return !b.keys.ctrlKey(a) && b.keys.isCharacter(d) ?
                    (a.preventDefault(),
                        a.stopPropagation(),
                        b.events.trigger("charCounter.exceeded"), !1) :
                    !0;
            }

            function e(d) {
                if (b.opts.charCounterMax < 0) return d;
                var e = a("<div>")
                    .html(d)
                    .text().length;
                return e + c() <= b.opts.charCounterMax ?
                    d :
                    (b.events.trigger("charCounter.exceeded"), "");
            }

            function f() {
                if (b.opts.charCounterCount) {
                    var a =
                        c() +
                        (b.opts.charCounterMax > 0 ? "/" + b.opts.charCounterMax : "");
                    h.text(a),
                        b.opts.toolbarBottom &&
                        h.css("margin-bottom", b.$tb.outerHeight(!0));
                    var d = b.$wp.get(0).offsetWidth - b.$wp.get(0).clientWidth;
                    d >= 0 &&
                        ("rtl" == b.opts.direction ?
                            h.css("margin-left", d) :
                            h.css("margin-right", d));
                }
            }

            function g() {
                return b.$wp && b.opts.charCounterCount ?
                    ((h = a('<span class="fr-counter"></span>')),
                        h.css("bottom", b.$wp.css("border-bottom-width")),
                        b.$box.append(h),
                        b.events.on("keydown", d, !0),
                        b.events.on("paste.afterCleanup", e),
                        b.events.on("keyup contentChanged", function() {
                            b.events.trigger("charCounter.update");
                        }),
                        b.events.on("charCounter.update", f),
                        b.events.trigger("charCounter.update"),
                        void b.events.on("destroy", function() {
                            a(b.o_win).off("resize.char" + b.id),
                                h.removeData().remove(),
                                (h = null);
                        })) :
                    !1;
            }
            var h;
            return { _init: g, count: c };
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.FE.PLUGINS.codeBeautifier = function() {
        function a(a, c) {
            function d(a) {
                return a.replace(/^\s+/g, "");
            }

            function e(a) {
                return a.replace(/\s+$/g, "");
            }

            function g() {
                return (
                    (this.pos = 0),
                    (this.token = ""),
                    (this.current_mode = "CONTENT"),
                    (this.tags = { parent: "parent1", parentcount: 1, parent1: "" }),
                    (this.tag_type = ""),
                    (this.token_text = this.last_token = this.last_text = this.token_type =
                        ""),
                    (this.newlines = 0),
                    (this.indent_content = i),
                    (this.Utils = {
                        whitespace: "\n\r	 ".split(""),
                        single_token: "br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(
                            ","
                        ),
                        extra_liners: u,
                        in_array: function(a, b) {
                            for (var c = 0; c < b.length; c++)
                                if (a == b[c]) return !0;
                            return !1;
                        }
                    }),
                    (this.is_whitespace = function(a) {
                        for (var b = 0; b < a.length; a++)
                            if (!this.Utils.in_array(a.charAt(b), this.Utils.whitespace))
                                return !1;
                        return !0;
                    }),
                    (this.traverse_whitespace = function() {
                        var a = "";
                        if (
                            ((a = this.input.charAt(this.pos)),
                                this.Utils.in_array(a, this.Utils.whitespace))
                        ) {
                            for (
                                this.newlines = 0; this.Utils.in_array(a, this.Utils.whitespace);

                            )
                                o && "\n" == a && this.newlines <= p && (this.newlines += 1),
                                this.pos++,
                                (a = this.input.charAt(this.pos));
                            return !0;
                        }
                        return !1;
                    }),
                    (this.space_or_wrap = function(a) {
                        this.line_char_count >= this.wrap_line_length ?
                            (this.print_newline(!1, a), this.print_indentation(a)) :
                            (this.line_char_count++, a.push(" "));
                    }),
                    (this.get_content = function() {
                        for (var a = "", b = [];
                            "<" != this.input.charAt(this.pos);) {
                            if (this.pos >= this.input.length)
                                return b.length ? b.join("") : ["", "TK_EOF"];
                            if (this.traverse_whitespace()) this.space_or_wrap(b);
                            else {
                                if (q) {
                                    var c = this.input.substr(this.pos, 3);
                                    if ("{{#" == c || "{{/" == c) break;
                                    if ("{{!" == c)
                                        return [this.get_tag(), "TK_TAG_HANDLEBARS_COMMENT"];
                                    if (
                                        "{{" == this.input.substr(this.pos, 2) &&
                                        "{{else}}" == this.get_tag(!0)
                                    )
                                        break;
                                }
                                (a = this.input.charAt(this.pos)),
                                this.pos++,
                                    this.line_char_count++,
                                    b.push(a);
                            }
                        }
                        return b.length ? b.join("") : "";
                    }),
                    (this.get_contents_to = function(a) {
                        if (this.pos == this.input.length) return ["", "TK_EOF"];
                        var b = "",
                            c = new RegExp("</" + a + "\\s*>", "igm");
                        c.lastIndex = this.pos;
                        var d = c.exec(this.input),
                            e = d ? d.index : this.input.length;
                        return (
                            this.pos < e &&
                            ((b = this.input.substring(this.pos, e)), (this.pos = e)),
                            b
                        );
                    }),
                    (this.record_tag = function(a) {
                        this.tags[a + "count"] ?
                            (this.tags[a + "count"]++,
                                (this.tags[a + this.tags[a + "count"]] = this.indent_level)) :
                            ((this.tags[a + "count"] = 1),
                                (this.tags[a + this.tags[a + "count"]] = this.indent_level)),
                            (this.tags[
                                a + this.tags[a + "count"] + "parent"
                            ] = this.tags.parent),
                            (this.tags.parent = a + this.tags[a + "count"]);
                    }),
                    (this.retrieve_tag = function(a) {
                        if (this.tags[a + "count"]) {
                            for (
                                var b = this.tags.parent; b && a + this.tags[a + "count"] != b;

                            )
                                b = this.tags[b + "parent"];
                            b &&
                                ((this.indent_level = this.tags[a + this.tags[a + "count"]]),
                                    (this.tags.parent = this.tags[b + "parent"])),
                                delete this.tags[a + this.tags[a + "count"] + "parent"],
                                delete this.tags[a + this.tags[a + "count"]],
                                1 == this.tags[a + "count"] ?
                                delete this.tags[a + "count"] :
                                this.tags[a + "count"]--;
                        }
                    }),
                    (this.indent_to_tag = function(a) {
                        if (this.tags[a + "count"]) {
                            for (
                                var b = this.tags.parent; b && a + this.tags[a + "count"] != b;

                            )
                                b = this.tags[b + "parent"];
                            b &&
                                (this.indent_level = this.tags[a + this.tags[a + "count"]]);
                        }
                    }),
                    (this.get_tag = function(a) {
                        var b,
                            c,
                            d,
                            e = "",
                            f = [],
                            g = "",
                            h = !1,
                            i = !0,
                            j = this.pos,
                            l = this.line_char_count;
                        a = void 0 !== a ? a : !1;
                        do {
                            if (this.pos >= this.input.length)
                                return (
                                    a && ((this.pos = j), (this.line_char_count = l)),
                                    f.length ? f.join("") : ["", "TK_EOF"]
                                );
                            if (
                                ((e = this.input.charAt(this.pos)),
                                    this.pos++,
                                    this.Utils.in_array(e, this.Utils.whitespace))
                            )
                                h = !0;
                            else {
                                if (
                                    (("'" == e || '"' == e) &&
                                        ((e += this.get_unformatted(e)), (h = !0)),
                                        "=" == e && (h = !1),
                                        f.length && "=" != f[f.length - 1] && ">" != e && h)
                                ) {
                                    if (
                                        (this.space_or_wrap(f),
                                            (h = !1), !i && "force" == r && "/" != e)
                                    ) {
                                        this.print_newline(!0, f), this.print_indentation(f);
                                        for (var m = 0; s > m; m++) f.push(k);
                                    }
                                    for (var o = 0; o < f.length; o++)
                                        if (" " == f[o]) {
                                            i = !1;
                                            break;
                                        }
                                }
                                if (
                                    (q &&
                                        "<" == d &&
                                        e + this.input.charAt(this.pos) == "{{" &&
                                        ((e += this.get_unformatted("}}")),
                                            f.length &&
                                            " " != f[f.length - 1] &&
                                            "<" != f[f.length - 1] &&
                                            (e = " " + e),
                                            (h = !0)),
                                        "<" != e || d || ((b = this.pos - 1), (d = "<")),
                                        q &&
                                        !d &&
                                        f.length >= 2 &&
                                        "{" == f[f.length - 1] &&
                                        "{" == f[f.length - 2] &&
                                        ((b =
                                                "#" == e || "/" == e || "!" == e ?
                                                this.pos - 3 :
                                                this.pos - 2),
                                            (d = "{")),
                                        this.line_char_count++,
                                        f.push(e),
                                        f[1] && ("!" == f[1] || "?" == f[1] || "%" == f[1]))
                                ) {
                                    f = [this.get_comment(b)];
                                    break;
                                }
                                if (q && f[1] && "{" == f[1] && f[2] && "!" == f[2]) {
                                    f = [this.get_comment(b)];
                                    break;
                                }
                                if (
                                    q &&
                                    "{" == d &&
                                    f.length > 2 &&
                                    "}" == f[f.length - 2] &&
                                    "}" == f[f.length - 1]
                                )
                                    break;
                            }
                        } while (">" != e);
                        var p,
                            t,
                            u = f.join("");
                        (p = -1 != u.indexOf(" ") ?
                            u.indexOf(" ") :
                            "{" == u[0] ?
                            u.indexOf("}") :
                            u.indexOf(">")),
                        (t = "<" != u[0] && q ? ("#" == u[2] ? 3 : 2) : 1);
                        var v = u.substring(t, p).toLowerCase();
                        return (
                            "/" == u.charAt(u.length - 2) ||
                            this.Utils.in_array(v, this.Utils.single_token) ?
                            a || (this.tag_type = "SINGLE") :
                            q && "{" == u[0] && "else" == v ?
                            a ||
                            (this.indent_to_tag("if"),
                                (this.tag_type = "HANDLEBARS_ELSE"),
                                (this.indent_content = !0),
                                this.traverse_whitespace()) :
                            this.is_unformatted(v, n) ?
                            ((g = this.get_unformatted("</" + v + ">", u)),
                                f.push(g),
                                (c = this.pos - 1),
                                (this.tag_type = "SINGLE")) :
                            "script" == v &&
                            (-1 == u.search("type") ||
                                (u.search("type") > -1 &&
                                    u.search(
                                        /\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/
                                    ) > -1)) ?
                            a || (this.record_tag(v), (this.tag_type = "SCRIPT")) :
                            "style" == v &&
                            (-1 == u.search("type") ||
                                (u.search("type") > -1 && u.search("text/css") > -1)) ?
                            a || (this.record_tag(v), (this.tag_type = "STYLE")) :
                            "!" == v.charAt(0) ?
                            a ||
                            ((this.tag_type = "SINGLE"), this.traverse_whitespace()) :
                            a ||
                            ("/" == v.charAt(0) ?
                                (this.retrieve_tag(v.substring(1)),
                                    (this.tag_type = "END")) :
                                (this.record_tag(v),
                                    "html" != v.toLowerCase() && (this.indent_content = !0),
                                    (this.tag_type = "START")),
                                this.traverse_whitespace() && this.space_or_wrap(f),
                                this.Utils.in_array(v, this.Utils.extra_liners) &&
                                (this.print_newline(!1, this.output),
                                    this.output.length &&
                                    "\n" != this.output[this.output.length - 2] &&
                                    this.print_newline(!0, this.output))),
                            a && ((this.pos = j), (this.line_char_count = l)),
                            f.join("")
                        );
                    }),
                    (this.get_comment = function(a) {
                        var b = "",
                            c = ">",
                            d = !1;
                        this.pos = a;
                        var e = this.input.charAt(this.pos);
                        for (
                            this.pos++; this.pos <= this.input.length &&
                            ((b += e),
                                b[b.length - 1] != c[c.length - 1] || -1 == b.indexOf(c));

                        )
                            !d &&
                            b.length < 10 &&
                            (0 === b.indexOf("<![if") ?
                                ((c = "<![endif]>"), (d = !0)) :
                                0 === b.indexOf("<![cdata[") ?
                                ((c = "]]>"), (d = !0)) :
                                0 === b.indexOf("<![") ?
                                ((c = "]>"), (d = !0)) :
                                0 === b.indexOf("<!--") ?
                                ((c = "-->"), (d = !0)) :
                                0 === b.indexOf("{{!") ?
                                ((c = "}}"), (d = !0)) :
                                0 === b.indexOf("<?") ?
                                ((c = "?>"), (d = !0)) :
                                0 === b.indexOf("<%") && ((c = "%>"), (d = !0))),
                            (e = this.input.charAt(this.pos)),
                            this.pos++;
                        return b;
                    }),
                    (this.get_unformatted = function(a, b) {
                        if (b && -1 != b.toLowerCase().indexOf(a)) return "";
                        var c = "",
                            d = "",
                            e = 0,
                            f = !0;
                        do {
                            if (this.pos >= this.input.length) return d;
                            if (
                                ((c = this.input.charAt(this.pos)),
                                    this.pos++,
                                    this.Utils.in_array(c, this.Utils.whitespace))
                            ) {
                                if (!f) {
                                    this.line_char_count--;
                                    continue;
                                }
                                if ("\n" == c || "\r" == c) {
                                    (d += "\n"), (this.line_char_count = 0);
                                    continue;
                                }
                            }
                            (d += c),
                            this.line_char_count++,
                                (f = !0),
                                q &&
                                "{" == c &&
                                d.length &&
                                "{" == d[d.length - 2] &&
                                ((d += this.get_unformatted("}}")), (e = d.length));
                        } while (-1 == d.toLowerCase().indexOf(a, e));
                        return d;
                    }),
                    (this.get_token = function() {
                        var a;
                        if (
                            "TK_TAG_SCRIPT" == this.last_token ||
                            "TK_TAG_STYLE" == this.last_token
                        ) {
                            var b = this.last_token.substr(7);
                            return (
                                (a = this.get_contents_to(b)),
                                "string" != typeof a ? a : [a, "TK_" + b]
                            );
                        }
                        if ("CONTENT" == this.current_mode)
                            return (
                                (a = this.get_content()),
                                "string" != typeof a ? a : [a, "TK_CONTENT"]
                            );
                        if ("TAG" == this.current_mode) {
                            if (((a = this.get_tag()), "string" != typeof a)) return a;
                            var c = "TK_TAG_" + this.tag_type;
                            return [a, c];
                        }
                    }),
                    (this.get_full_indent = function(a) {
                        return (
                            (a = this.indent_level + a || 0),
                            1 > a ? "" : new Array(a + 1).join(this.indent_string)
                        );
                    }),
                    (this.is_unformatted = function(a, b) {
                        if (!this.Utils.in_array(a, b)) return !1;
                        if ("a" != a.toLowerCase() || !this.Utils.in_array("a", b))
                            return !0;
                        var c = this.get_tag(!0),
                            d = (c || "").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);
                        return !(d && !this.Utils.in_array(d, b));
                    }),
                    (this.printer = function(a, b, c, f, g) {
                        (this.input = a || ""),
                        (this.output = []),
                        (this.indent_character = b),
                        (this.indent_string = ""),
                        (this.indent_size = c),
                        (this.brace_style = g),
                        (this.indent_level = 0),
                        (this.wrap_line_length = f),
                        (this.line_char_count = 0);
                        for (var h = 0; h < this.indent_size; h++)
                            this.indent_string += this.indent_character;
                        (this.print_newline = function(a, b) {
                            (this.line_char_count = 0),
                            b &&
                                b.length &&
                                (a || "\n" != b[b.length - 1]) &&
                                ("\n" != b[b.length - 1] &&
                                    (b[b.length - 1] = e(b[b.length - 1])),
                                    b.push("\n"));
                        }),
                        (this.print_indentation = function(a) {
                            for (var b = 0; b < this.indent_level; b++)
                                a.push(this.indent_string),
                                (this.line_char_count += this.indent_string.length);
                        }),
                        (this.print_token = function(a) {
                            (!this.is_whitespace(a) || this.output.length) &&
                            ((a || "" !== a) &&
                                this.output.length &&
                                "\n" == this.output[this.output.length - 1] &&
                                (this.print_indentation(this.output), (a = d(a))),
                                this.print_token_raw(a));
                        }),
                        (this.print_token_raw = function(a) {
                            this.newlines > 0 && (a = e(a)),
                                a &&
                                "" !== a &&
                                (a.length > 1 && "\n" == a[a.length - 1] ?
                                    (this.output.push(a.slice(0, -1)),
                                        this.print_newline(!1, this.output)) :
                                    this.output.push(a));
                            for (var b = 0; b < this.newlines; b++)
                                this.print_newline(b > 0, this.output);
                            this.newlines = 0;
                        }),
                        (this.indent = function() {
                            this.indent_level++;
                        }),
                        (this.unindent = function() {
                            this.indent_level > 0 && this.indent_level--;
                        });
                    }),
                    this
                );
            }
            var h, i, j, k, l, m, n, o, p, q, r, s, t, u;
            for (
                c = c || {},
                (void 0 !== c.wrap_line_length &&
                    0 !== parseInt(c.wrap_line_length, 10)) ||
                void 0 === c.max_char ||
                0 === parseInt(c.max_char, 10) ||
                (c.wrap_line_length = c.max_char),
                i = void 0 === c.indent_inner_html ? !1 : c.indent_inner_html,
                j = void 0 === c.indent_size ? 4 : parseInt(c.indent_size, 10),
                k = void 0 === c.indent_char ? " " : c.indent_char,
                m = void 0 === c.brace_style ? "collapse" : c.brace_style,
                l =
                0 === parseInt(c.wrap_line_length, 10) ?
                32786 :
                parseInt(c.wrap_line_length || 250, 10),
                n = c.unformatted || [
                    "a",
                    "span",
                    "img",
                    "bdo",
                    "em",
                    "strong",
                    "dfn",
                    "code",
                    "samp",
                    "kbd",
                    "var",
                    "cite",
                    "abbr",
                    "acronym",
                    "q",
                    "sub",
                    "sup",
                    "tt",
                    "i",
                    "b",
                    "big",
                    "small",
                    "u",
                    "s",
                    "strike",
                    "font",
                    "ins",
                    "del",
                    "address",
                    "pre"
                ],
                o = void 0 === c.preserve_newlines ? !0 : c.preserve_newlines,
                p = o ?
                isNaN(parseInt(c.max_preserve_newlines, 10)) ?
                32786 :
                parseInt(c.max_preserve_newlines, 10) :
                0,
                q = void 0 === c.indent_handlebars ? !1 : c.indent_handlebars,
                r = void 0 === c.wrap_attributes ? "auto" : c.wrap_attributes,
                s =
                void 0 === c.wrap_attributes_indent_size ?
                j :
                parseInt(c.wrap_attributes_indent_size, 10) || j,
                t = void 0 === c.end_with_newline ? !1 : c.end_with_newline,
                u = Array.isArray(c.extra_liners) ?
                c.extra_liners.concat() :
                "string" == typeof c.extra_liners ?
                c.extra_liners.split(",") :
                "head,body,/html".split(","),
                c.indent_with_tabs && ((k = "	"), (j = 1)),
                h = new g(),
                h.printer(a, k, j, l, m);;

            ) {
                var v = h.get_token();
                if (
                    ((h.token_text = v[0]),
                        (h.token_type = v[1]),
                        "TK_EOF" == h.token_type)
                )
                    break;
                switch (h.token_type) {
                    case "TK_TAG_START":
                        h.print_newline(!1, h.output),
                            h.print_token(h.token_text),
                            h.indent_content && (h.indent(), (h.indent_content = !1)),
                            (h.current_mode = "CONTENT");
                        break;
                    case "TK_TAG_STYLE":
                    case "TK_TAG_SCRIPT":
                        h.print_newline(!1, h.output),
                            h.print_token(h.token_text),
                            (h.current_mode = "CONTENT");
                        break;
                    case "TK_TAG_END":
                        if ("TK_CONTENT" == h.last_token && "" === h.last_text) {
                            var w = h.token_text.match(/\w+/)[0],
                                x = null;
                            h.output.length &&
                                (x = h.output[h.output.length - 1].match(
                                    /(?:<|{{#)\s*(\w+)/
                                )),
                                (null == x || (x[1] != w && !h.Utils.in_array(x[1], n))) &&
                                h.print_newline(!1, h.output);
                        }
                        h.print_token(h.token_text), (h.current_mode = "CONTENT");
                        break;
                    case "TK_TAG_SINGLE":
                        var y = h.token_text.match(/^\s*<([a-z-]+)/i);
                        (y && h.Utils.in_array(y[1], n)) || h.print_newline(!1, h.output),
                            h.print_token(h.token_text),
                            (h.current_mode = "CONTENT");
                        break;
                    case "TK_TAG_HANDLEBARS_ELSE":
                        h.print_token(h.token_text),
                            h.indent_content && (h.indent(), (h.indent_content = !1)),
                            (h.current_mode = "CONTENT");
                        break;
                    case "TK_TAG_HANDLEBARS_COMMENT":
                        h.print_token(h.token_text), (h.current_mode = "TAG");
                        break;
                    case "TK_CONTENT":
                        h.print_token(h.token_text), (h.current_mode = "TAG");
                        break;
                    case "TK_STYLE":
                    case "TK_SCRIPT":
                        if ("" !== h.token_text) {
                            h.print_newline(!1, h.output);
                            var z,
                                A = h.token_text,
                                B = 1;
                            "TK_SCRIPT" == h.token_type ?
                                (z = "function" == typeof f && f) :
                                "TK_STYLE" == h.token_type &&
                                (z = "function" == typeof b && b),
                                "keep" == c.indent_scripts ?
                                (B = 0) :
                                "separate" == c.indent_scripts && (B = -h.indent_level);
                            var C = h.get_full_indent(B);
                            if (z) A = z(A.replace(/^\s*/, C), c);
                            else {
                                var D = A.match(/^\s*/)[0],
                                    E =
                                    D.match(/[^\n\r]*$/)[0].split(h.indent_string).length - 1,
                                    F = h.get_full_indent(B - E);
                                A = A.replace(/^\s*/, C)
                                    .replace(/\r\n|\r|\n/g, "\n" + F)
                                    .replace(/\s+$/, "");
                            }
                            A && (h.print_token_raw(A), h.print_newline(!0, h.output));
                        }
                        h.current_mode = "TAG";
                        break;
                    default:
                        "" !== h.token_text && h.print_token(h.token_text);
                }
                (h.last_token = h.token_type), (h.last_text = h.token_text);
            }
            var G = h.output.join("").replace(/[\r\n\t ]+$/, "");
            return t && (G += "\n"), G;
        }

        function b(a, b) {
            function c() {
                return (v = a.charAt(++x)), v || "";
            }

            function d(b) {
                var d = "",
                    e = x;
                return b && g(), (d = a.charAt(x + 1) || ""), (x = e - 1), c(), d;
            }

            function e(b) {
                for (var d = x; c();)
                    if ("\\" === v) c();
                    else {
                        if (-1 !== b.indexOf(v)) break;
                        if ("\n" === v) break;
                    }
                return a.substring(d, x + 1);
            }

            function f(a) {
                var b = x,
                    d = e(a);
                return (x = b - 1), c(), d;
            }

            function g() {
                for (var a = ""; w.test(d());) c(), (a += v);
                return a;
            }

            function h() {
                var a = "";
                for (v && w.test(v) && (a = v); w.test(c());) a += v;
                return a;
            }

            function i(b) {
                var e = x;
                for (b = "/" === d(), c(); c();) {
                    if (!b && "*" === v && "/" === d()) {
                        c();
                        break;
                    }
                    if (b && "\n" === v) return a.substring(e, x);
                }
                return a.substring(e, x) + v;
            }

            function j(b) {
                return a.substring(x - b.length, x).toLowerCase() === b;
            }

            function k() {
                for (var b = 0, c = x + 1; c < a.length; c++) {
                    var d = a.charAt(c);
                    if ("{" === d) return !0;
                    if ("(" === d) b += 1;
                    else if (")" === d) {
                        if (0 == b) return !1;
                        b -= 1;
                    } else if (";" === d || "}" === d) return !1;
                }
                return !1;
            }

            function l() {
                B++, (z += A);
            }

            function m() {
                B--, (z = z.slice(0, -p));
            }
            var n = {
                    "@page": !0,
                    "@font-face": !0,
                    "@keyframes": !0,
                    "@media": !0,
                    "@supports": !0,
                    "@document": !0
                },
                o = { "@media": !0, "@supports": !0, "@document": !0 };
            (b = b || {}),
            (a = a || ""),
            (a = a.replace(/\r\n|[\r\u2028\u2029]/g, "\n"));
            var p = b.indent_size || 4,
                q = b.indent_char || " ",
                r =
                void 0 === b.selector_separator_newline ?
                !0 :
                b.selector_separator_newline,
                s = void 0 === b.end_with_newline ? !1 : b.end_with_newline,
                t = void 0 === b.newline_between_rules ? !0 : b.newline_between_rules,
                u = b.eol ? b.eol : "\n";
            "string" == typeof p && (p = parseInt(p, 10)),
                b.indent_with_tabs && ((q = "	"), (p = 1)),
                (u = u.replace(/\\r/, "\r").replace(/\\n/, "\n"));
            var v,
                w = /^\s+$/,
                x = -1,
                y = 0,
                z = a.match(/^[\t ]*/)[0],
                A = new Array(p + 1).join(q),
                B = 0,
                C = 0,
                D = {};
            (D["{"] = function(a) {
                D.singleSpace(), E.push(a), D.newLine();
            }),
            (D["}"] = function(a) {
                D.newLine(), E.push(a), D.newLine();
            }),
            (D._lastCharWhitespace = function() {
                return w.test(E[E.length - 1]);
            }),
            (D.newLine = function(a) {
                E.length &&
                    (a || "\n" === E[E.length - 1] || D.trim(),
                        E.push("\n"),
                        z && E.push(z));
            }),
            (D.singleSpace = function() {
                E.length && !D._lastCharWhitespace() && E.push(" ");
            }),
            (D.preserveSingleSpace = function() {
                L && D.singleSpace();
            }),
            (D.trim = function() {
                for (; D._lastCharWhitespace();) E.pop();
            });
            for (var E = [], F = !1, G = !1, H = !1, I = "", J = "";;) {
                var K = h(),
                    L = "" !== K,
                    M = -1 !== K.indexOf("\n");
                if (((J = I), (I = v), !v)) break;
                if ("/" === v && "*" === d()) {
                    var N = 0 === B;
                    (M || N) && D.newLine(),
                        E.push(i()),
                        D.newLine(),
                        N && D.newLine(!0);
                } else if ("/" === v && "/" === d())
                    M || "{" === J || D.trim(),
                    D.singleSpace(),
                    E.push(i()),
                    D.newLine();
                else if ("@" === v) {
                    D.preserveSingleSpace(), E.push(v);
                    var O = f(": ,;{}()[]/='\"");
                    O.match(/[ :]$/) &&
                        (c(),
                            (O = e(": ").replace(/\s$/, "")),
                            E.push(O),
                            D.singleSpace()),
                        (O = O.replace(/\s$/, "")),
                        O in n && ((C += 1), O in o && (H = !0));
                } else
                    "#" === v && "{" === d() ?
                    (D.preserveSingleSpace(), E.push(e("}"))) :
                    "{" === v ?
                    "}" === d(!0) ?
                    (g(),
                        c(),
                        D.singleSpace(),
                        E.push("{}"),
                        D.newLine(),
                        t && 0 === B && D.newLine(!0)) :
                    (l(), D["{"](v), H ? ((H = !1), (F = B > C)) : (F = B >= C)) :
                    "}" === v ?
                    (m(),
                        D["}"](v),
                        (F = !1),
                        (G = !1),
                        C && C--,
                        t && 0 === B && D.newLine(!0)) :
                    ":" === v ?
                    (g(),
                        (!F && !H) || j("&") || k() ?
                        ":" === d() ?
                        (c(), E.push("::")) :
                        E.push(":") :
                        ((G = !0), E.push(":"), D.singleSpace())) :
                    '"' === v || "'" === v ?
                    (D.preserveSingleSpace(), E.push(e(v))) :
                    ";" === v ?
                    ((G = !1), E.push(v), D.newLine()) :
                    "(" === v ?
                    j("url") ?
                    (E.push(v),
                        g(),
                        c() &&
                        (")" !== v && '"' !== v && "'" !== v ?
                            E.push(e(")")) :
                            x--)) :
                    (y++, D.preserveSingleSpace(), E.push(v), g()) :
                    ")" === v ?
                    (E.push(v), y--) :
                    "," === v ?
                    (E.push(v),
                        g(),
                        r && !G && 1 > y ? D.newLine() : D.singleSpace()) :
                    "]" === v ?
                    E.push(v) :
                    "[" === v ?
                    (D.preserveSingleSpace(), E.push(v)) :
                    "=" === v ?
                    (g(), (v = "="), E.push(v)) :
                    (D.preserveSingleSpace(), E.push(v));
            }
            var P = "";
            return (
                z && (P += z),
                (P += E.join("").replace(/[\r\n\t ]+$/, "")),
                s && (P += "\n"),
                "\n" != u && (P = P.replace(/[\n]/g, u)),
                P
            );
        }

        function c(a, b) {
            for (var c = 0; c < b.length; c += 1)
                if (b[c] === a) return !0;
            return !1;
        }

        function d(a) {
            return a.replace(/^\s+|\s+$/g, "");
        }

        function e(a) {
            return a.replace(/^\s+/g, "");
        }

        function f(a, b) {
            var c = new g(a, b);
            return c.beautify();
        }

        function g(a, b) {
            function f(a, b) {
                var c = 0;
                a &&
                    ((c = a.indentation_level), !R.just_added_newline() &&
                        a.line_indent_level > c &&
                        (c = a.line_indent_level));
                var d = {
                    mode: b,
                    parent: a,
                    last_text: a ? a.last_text : "",
                    last_word: a ? a.last_word : "",
                    declaration_statement: !1,
                    declaration_assignment: !1,
                    multiline_frame: !1,
                    if_block: !1,
                    else_block: !1,
                    do_block: !1,
                    do_while: !1,
                    in_case_statement: !1,
                    in_case: !1,
                    case_body: !1,
                    indentation_level: c,
                    line_indent_level: a ? a.line_indent_level : c,
                    start_line_index: R.get_line_number(),
                    ternary_depth: 0
                };
                return d;
            }

            function g(a) {
                var b = a.newlines,
                    c = ba.keep_array_indentation && t(Y.mode);
                if (c)
                    for (d = 0; b > d; d += 1) n(d > 0);
                else if (
                    (ba.max_preserve_newlines &&
                        b > ba.max_preserve_newlines &&
                        (b = ba.max_preserve_newlines),
                        ba.preserve_newlines && a.newlines > 1)
                ) {
                    n();
                    for (var d = 1; b > d; d += 1) n(!0);
                }
                (U = a), aa[U.type]();
            }

            function h(a) {
                a = a.replace(/\x0d/g, "");
                for (var b = [], c = a.indexOf("\n"); - 1 !== c;)
                    b.push(a.substring(0, c)),
                    (a = a.substring(c + 1)),
                    (c = a.indexOf("\n"));
                return a.length && b.push(a), b;
            }

            function m(a) {
                if (((a = void 0 === a ? !1 : a), !R.just_added_newline()))
                    if ((ba.preserve_newlines && U.wanted_newline) || a) n(!1, !0);
                    else if (ba.wrap_line_length) {
                    var b =
                        R.current_line.get_character_count() +
                        U.text.length +
                        (R.space_before_token ? 1 : 0);
                    b >= ba.wrap_line_length && n(!1, !0);
                }
            }

            function n(a, b) {
                if (!b &&
                    ";" !== Y.last_text &&
                    "," !== Y.last_text &&
                    "=" !== Y.last_text &&
                    "TK_OPERATOR" !== V
                )
                    for (; Y.mode === l.Statement && !Y.if_block && !Y.do_block;) v();
                R.add_new_line(a) && (Y.multiline_frame = !0);
            }

            function o() {
                R.just_added_newline() &&
                    (ba.keep_array_indentation && t(Y.mode) && U.wanted_newline ?
                        (R.current_line.push(U.whitespace_before),
                            (R.space_before_token = !1)) :
                        R.set_indent(Y.indentation_level) &&
                        (Y.line_indent_level = Y.indentation_level));
            }

            function p(a) {
                return R.raw ?
                    void R.add_raw_token(U) :
                    (ba.comma_first &&
                        "TK_COMMA" === V &&
                        R.just_added_newline() &&
                        "," === R.previous_line.last() &&
                        (R.previous_line.pop(),
                            o(),
                            R.add_token(","),
                            (R.space_before_token = !0)),
                        (a = a || U.text),
                        o(),
                        void R.add_token(a));
            }

            function q() {
                Y.indentation_level += 1;
            }

            function r() {
                Y.indentation_level > 0 &&
                    (!Y.parent || Y.indentation_level > Y.parent.indentation_level) &&
                    (Y.indentation_level -= 1);
            }

            function s(a) {
                Y ? ($.push(Y), (Z = Y)) : (Z = f(null, a)), (Y = f(Z, a));
            }

            function t(a) {
                return a === l.ArrayLiteral;
            }

            function u(a) {
                return c(a, [l.Expression, l.ForInitializer, l.Conditional]);
            }

            function v() {
                $.length > 0 &&
                    ((Z = Y),
                        (Y = $.pop()),
                        Z.mode === l.Statement && R.remove_redundant_indentation(Z));
            }

            function w() {
                return (
                    Y.parent.mode === l.ObjectLiteral &&
                    Y.mode === l.Statement &&
                    ((":" === Y.last_text && 0 === Y.ternary_depth) ||
                        ("TK_RESERVED" === V && c(Y.last_text, ["get", "set"])))
                );
            }

            function x() {
                return ("TK_RESERVED" === V &&
                        c(Y.last_text, ["var", "let", "const"]) &&
                        "TK_WORD" === U.type) ||
                    ("TK_RESERVED" === V && "do" === Y.last_text) ||
                    ("TK_RESERVED" === V &&
                        "return" === Y.last_text &&
                        !U.wanted_newline) ||
                    ("TK_RESERVED" === V &&
                        "else" === Y.last_text &&
                        ("TK_RESERVED" !== U.type || "if" !== U.text)) ||
                    ("TK_END_EXPR" === V &&
                        (Z.mode === l.ForInitializer || Z.mode === l.Conditional)) ||
                    ("TK_WORD" === V &&
                        Y.mode === l.BlockStatement &&
                        !Y.in_case &&
                        "--" !== U.text &&
                        "++" !== U.text &&
                        "function" !== W &&
                        "TK_WORD" !== U.type &&
                        "TK_RESERVED" !== U.type) ||
                    (Y.mode === l.ObjectLiteral &&
                        ((":" === Y.last_text && 0 === Y.ternary_depth) ||
                            ("TK_RESERVED" === V && c(Y.last_text, ["get", "set"])))) ?
                    (s(l.Statement),
                        q(),
                        "TK_RESERVED" === V &&
                        c(Y.last_text, ["var", "let", "const"]) &&
                        "TK_WORD" === U.type &&
                        (Y.declaration_statement = !0),
                        w() ||
                        m(
                            "TK_RESERVED" === U.type &&
                            c(U.text, ["do", "for", "if", "while"])
                        ), !0) :
                    !1;
            }

            function y(a, b) {
                for (var c = 0; c < a.length; c++) {
                    var e = d(a[c]);
                    if (e.charAt(0) !== b) return !1;
                }
                return !0;
            }

            function z(a, b) {
                for (var c, d = 0, e = a.length; e > d; d++)
                    if (((c = a[d]), c && 0 !== c.indexOf(b))) return !1;
                return !0;
            }

            function A(a) {
                return c(a, ["case", "return", "do", "if", "throw", "else"]);
            }

            function B(a) {
                var b = S + (a || 0);
                return 0 > b || b >= ca.length ? null : ca[b];
            }

            function C() {
                x();
                var a = l.Expression;
                if ("[" === U.text) {
                    if ("TK_WORD" === V || ")" === Y.last_text)
                        return (
                            "TK_RESERVED" === V &&
                            c(Y.last_text, T.line_starters) &&
                            (R.space_before_token = !0),
                            s(a),
                            p(),
                            q(),
                            void(ba.space_in_paren && (R.space_before_token = !0))
                        );
                    (a = l.ArrayLiteral),
                    t(Y.mode) &&
                        ("[" === Y.last_text ||
                            ("," === Y.last_text && ("]" === W || "}" === W))) &&
                        (ba.keep_array_indentation || n());
                } else
                    "TK_RESERVED" === V && "for" === Y.last_text ?
                    (a = l.ForInitializer) :
                    "TK_RESERVED" === V &&
                    c(Y.last_text, ["if", "while"]) &&
                    (a = l.Conditional);
                ";" === Y.last_text || "TK_START_BLOCK" === V ?
                    n() :
                    "TK_END_EXPR" === V ||
                    "TK_START_EXPR" === V ||
                    "TK_END_BLOCK" === V ||
                    "." === Y.last_text ?
                    m(U.wanted_newline) :
                    ("TK_RESERVED" === V && "(" === U.text) ||
                    "TK_WORD" === V ||
                    "TK_OPERATOR" === V ?
                    ("TK_RESERVED" === V &&
                        ("function" === Y.last_word || "typeof" === Y.last_word)) ||
                    ("*" === Y.last_text && "function" === W) ?
                    ba.space_after_anon_function && (R.space_before_token = !0) :
                    "TK_RESERVED" !== V ||
                    (!c(Y.last_text, T.line_starters) && "catch" !== Y.last_text) ||
                    (ba.space_before_conditional && (R.space_before_token = !0)) :
                    (R.space_before_token = !0),
                    "(" === U.text &&
                    "TK_RESERVED" === V &&
                    "await" === Y.last_word &&
                    (R.space_before_token = !0),
                    "(" === U.text &&
                    ("TK_EQUALS" === V || "TK_OPERATOR" === V) &&
                    (w() || m()),
                    s(a),
                    p(),
                    ba.space_in_paren && (R.space_before_token = !0),
                    q();
            }

            function D() {
                for (; Y.mode === l.Statement;) v();
                Y.multiline_frame &&
                    m("]" === U.text && t(Y.mode) && !ba.keep_array_indentation),
                    ba.space_in_paren &&
                    ("TK_START_EXPR" !== V || ba.space_in_empty_paren ?
                        (R.space_before_token = !0) :
                        (R.trim(), (R.space_before_token = !1))),
                    "]" === U.text && ba.keep_array_indentation ?
                    (p(), v()) :
                    (v(), p()),
                    R.remove_redundant_indentation(Z),
                    Y.do_while &&
                    Z.mode === l.Conditional &&
                    ((Z.mode = l.Expression), (Y.do_block = !1), (Y.do_while = !1));
            }

            function E() {
                var a = B(1),
                    b = B(2);
                s(
                    b &&
                    ((":" === b.text &&
                            c(a.type, ["TK_STRING", "TK_WORD", "TK_RESERVED"])) ||
                        (c(a.text, ["get", "set"]) &&
                            c(b.type, ["TK_WORD", "TK_RESERVED"]))) ?
                    c(W, ["class", "interface"]) ?
                    l.BlockStatement :
                    l.ObjectLiteral :
                    l.BlockStatement
                );
                var d = !a.comments_before.length && "}" === a.text,
                    e = d && "function" === Y.last_word && "TK_END_EXPR" === V;
                "expand" === ba.brace_style ||
                    ("none" === ba.brace_style && U.wanted_newline) ?
                    "TK_OPERATOR" !== V &&
                    (e ||
                        "TK_EQUALS" === V ||
                        ("TK_RESERVED" === V &&
                            A(Y.last_text) &&
                            "else" !== Y.last_text)) ?
                    (R.space_before_token = !0) :
                    n(!1, !0) :
                    "TK_OPERATOR" !== V && "TK_START_EXPR" !== V ?
                    "TK_START_BLOCK" === V ?
                    n() :
                    (R.space_before_token = !0) :
                    t(Z.mode) &&
                    "," === Y.last_text &&
                    ("}" === W ? (R.space_before_token = !0) : n()),
                    p(),
                    q();
            }

            function F() {
                for (; Y.mode === l.Statement;) v();
                var a = "TK_START_BLOCK" === V;
                "expand" === ba.brace_style ?
                    a || n() :
                    a ||
                    (t(Y.mode) && ba.keep_array_indentation ?
                        ((ba.keep_array_indentation = !1),
                            n(),
                            (ba.keep_array_indentation = !0)) :
                        n()),
                    v(),
                    p();
            }

            function G() {
                if (
                    ("TK_RESERVED" === U.type &&
                        Y.mode !== l.ObjectLiteral &&
                        c(U.text, ["set", "get"]) &&
                        (U.type = "TK_WORD"),
                        "TK_RESERVED" === U.type && Y.mode === l.ObjectLiteral)
                ) {
                    var a = B(1);
                    ":" == a.text && (U.type = "TK_WORD");
                }
                if (
                    (x() ||
                        !U.wanted_newline ||
                        u(Y.mode) ||
                        ("TK_OPERATOR" === V &&
                            "--" !== Y.last_text &&
                            "++" !== Y.last_text) ||
                        "TK_EQUALS" === V ||
                        (!ba.preserve_newlines &&
                            "TK_RESERVED" === V &&
                            c(Y.last_text, ["var", "let", "const", "set", "get"])) ||
                        n(),
                        Y.do_block && !Y.do_while)
                ) {
                    if ("TK_RESERVED" === U.type && "while" === U.text)
                        return (
                            (R.space_before_token = !0),
                            p(),
                            (R.space_before_token = !0),
                            void(Y.do_while = !0)
                        );
                    n(), (Y.do_block = !1);
                }
                if (Y.if_block)
                    if (Y.else_block || "TK_RESERVED" !== U.type || "else" !== U.text) {
                        for (; Y.mode === l.Statement;) v();
                        (Y.if_block = !1), (Y.else_block = !1);
                    } else Y.else_block = !0;
                if (
                    "TK_RESERVED" === U.type &&
                    ("case" === U.text || ("default" === U.text && Y.in_case_statement))
                )
                    return (
                        n(),
                        (Y.case_body || ba.jslint_happy) && (r(), (Y.case_body = !1)),
                        p(),
                        (Y.in_case = !0),
                        void(Y.in_case_statement = !0)
                    );
                if (
                    ("TK_RESERVED" === U.type &&
                        "function" === U.text &&
                        ((c(Y.last_text, ["}", ";"]) ||
                                (R.just_added_newline() &&
                                    !c(Y.last_text, ["[", "{", ":", "=", ","]))) &&
                            (R.just_added_blankline() ||
                                U.comments_before.length ||
                                (n(), n(!0))),
                            "TK_RESERVED" === V || "TK_WORD" === V ?
                            "TK_RESERVED" === V &&
                            c(Y.last_text, [
                                "get",
                                "set",
                                "new",
                                "return",
                                "export",
                                "async"
                            ]) ?
                            (R.space_before_token = !0) :
                            "TK_RESERVED" === V &&
                            "default" === Y.last_text &&
                            "export" === W ?
                            (R.space_before_token = !0) :
                            n() :
                            "TK_OPERATOR" === V || "=" === Y.last_text ?
                            (R.space_before_token = !0) :
                            (Y.multiline_frame || (!u(Y.mode) && !t(Y.mode))) && n()),
                        ("TK_COMMA" === V ||
                            "TK_START_EXPR" === V ||
                            "TK_EQUALS" === V ||
                            "TK_OPERATOR" === V) &&
                        (w() || m()),
                        "TK_RESERVED" === U.type && c(U.text, ["function", "get", "set"]))
                )
                    return p(), void(Y.last_word = U.text);
                if (
                    ((_ = "NONE"),
                        "TK_END_BLOCK" === V ?
                        "TK_RESERVED" === U.type &&
                        c(U.text, ["else", "catch", "finally"]) ?
                        "expand" === ba.brace_style ||
                        "end-expand" === ba.brace_style ||
                        ("none" === ba.brace_style && U.wanted_newline) ?
                        (_ = "NEWLINE") :
                        ((_ = "SPACE"), (R.space_before_token = !0)) :
                        (_ = "NEWLINE") :
                        "TK_SEMICOLON" === V && Y.mode === l.BlockStatement ?
                        (_ = "NEWLINE") :
                        "TK_SEMICOLON" === V && u(Y.mode) ?
                        (_ = "SPACE") :
                        "TK_STRING" === V ?
                        (_ = "NEWLINE") :
                        "TK_RESERVED" === V ||
                        "TK_WORD" === V ||
                        ("*" === Y.last_text && "function" === W) ?
                        (_ = "SPACE") :
                        "TK_START_BLOCK" === V ?
                        (_ = "NEWLINE") :
                        "TK_END_EXPR" === V &&
                        ((R.space_before_token = !0), (_ = "NEWLINE")),
                        "TK_RESERVED" === U.type &&
                        c(U.text, T.line_starters) &&
                        ")" !== Y.last_text &&
                        (_ =
                            "else" === Y.last_text || "export" === Y.last_text ?
                            "SPACE" :
                            "NEWLINE"),
                        "TK_RESERVED" === U.type && c(U.text, ["else", "catch", "finally"]))
                )
                    if (
                        "TK_END_BLOCK" !== V ||
                        "expand" === ba.brace_style ||
                        "end-expand" === ba.brace_style ||
                        ("none" === ba.brace_style && U.wanted_newline)
                    )
                        n();
                    else {
                        R.trim(!0);
                        var b = R.current_line;
                        "}" !== b.last() && n(), (R.space_before_token = !0);
                    }
                else
                    "NEWLINE" === _ ?
                    "TK_RESERVED" === V && A(Y.last_text) ?
                    (R.space_before_token = !0) :
                    "TK_END_EXPR" !== V ?
                    ("TK_START_EXPR" === V &&
                        "TK_RESERVED" === U.type &&
                        c(U.text, ["var", "let", "const"])) ||
                    ":" === Y.last_text ||
                    ("TK_RESERVED" === U.type &&
                        "if" === U.text &&
                        "else" === Y.last_text ?
                        (R.space_before_token = !0) :
                        n()) :
                    "TK_RESERVED" === U.type &&
                    c(U.text, T.line_starters) &&
                    ")" !== Y.last_text &&
                    n() :
                    Y.multiline_frame &&
                    t(Y.mode) &&
                    "," === Y.last_text &&
                    "}" === W ?
                    n() :
                    "SPACE" === _ && (R.space_before_token = !0);
                p(),
                    (Y.last_word = U.text),
                    "TK_RESERVED" === U.type && "do" === U.text && (Y.do_block = !0),
                    "TK_RESERVED" === U.type && "if" === U.text && (Y.if_block = !0);
            }

            function H() {
                for (
                    x() && (R.space_before_token = !1); Y.mode === l.Statement && !Y.if_block && !Y.do_block;

                )
                    v();
                p();
            }

            function I() {
                x() ?
                    (R.space_before_token = !0) :
                    "TK_RESERVED" === V || "TK_WORD" === V ?
                    (R.space_before_token = !0) :
                    "TK_COMMA" === V ||
                    "TK_START_EXPR" === V ||
                    "TK_EQUALS" === V ||
                    "TK_OPERATOR" === V ?
                    w() || m() :
                    n(),
                    p();
            }

            function J() {
                x(),
                    Y.declaration_statement && (Y.declaration_assignment = !0),
                    (R.space_before_token = !0),
                    p(),
                    (R.space_before_token = !0);
            }

            function K() {
                return Y.declaration_statement ?
                    (u(Y.parent.mode) && (Y.declaration_assignment = !1),
                        p(),
                        void(Y.declaration_assignment ?
                            ((Y.declaration_assignment = !1), n(!1, !0)) :
                            ((R.space_before_token = !0), ba.comma_first && m()))) :
                    (p(),
                        void(Y.mode === l.ObjectLiteral ||
                            (Y.mode === l.Statement && Y.parent.mode === l.ObjectLiteral) ?
                            (Y.mode === l.Statement && v(), n()) :
                            ((R.space_before_token = !0), ba.comma_first && m())));
            }

            function L() {
                if ((x(), "TK_RESERVED" === V && A(Y.last_text)))
                    return (R.space_before_token = !0), void p();
                if ("*" === U.text && "TK_DOT" === V) return void p();
                if (":" === U.text && Y.in_case)
                    return (Y.case_body = !0), q(), p(), n(), void(Y.in_case = !1);
                if ("::" === U.text) return void p();
                "TK_OPERATOR" === V && m();
                var a = !0,
                    b = !0;
                c(U.text, ["--", "++", "!", "~"]) ||
                    (c(U.text, ["-", "+"]) &&
                        (c(V, [
                                "TK_START_BLOCK",
                                "TK_START_EXPR",
                                "TK_EQUALS",
                                "TK_OPERATOR"
                            ]) ||
                            c(Y.last_text, T.line_starters) ||
                            "," === Y.last_text)) ?
                    ((a = !1),
                        (b = !1), !U.wanted_newline ||
                        ("--" !== U.text && "++" !== U.text) ||
                        n(!1, !0),
                        ";" === Y.last_text && u(Y.mode) && (a = !0),
                        "TK_RESERVED" === V ?
                        (a = !0) :
                        "TK_END_EXPR" === V ?
                        (a = !(
                            "]" === Y.last_text &&
                            ("--" === U.text || "++" === U.text)
                        )) :
                        "TK_OPERATOR" === V &&
                        ((a =
                                c(U.text, ["--", "-", "++", "+"]) &&
                                c(Y.last_text, ["--", "-", "++", "+"])),
                            c(U.text, ["+", "-"]) &&
                            c(Y.last_text, ["--", "++"]) &&
                            (b = !0)),
                        (Y.mode !== l.BlockStatement && Y.mode !== l.Statement) ||
                        ("{" !== Y.last_text && ";" !== Y.last_text) ||
                        n()) :
                    ":" === U.text ?
                    0 === Y.ternary_depth ?
                    (a = !1) :
                    (Y.ternary_depth -= 1) :
                    "?" === U.text ?
                    (Y.ternary_depth += 1) :
                    "*" === U.text &&
                    "TK_RESERVED" === V &&
                    "function" === Y.last_text &&
                    ((a = !1), (b = !1)),
                    (R.space_before_token = R.space_before_token || a),
                    p(),
                    (R.space_before_token = b);
            }

            function M() {
                if (R.raw)
                    return (
                        R.add_raw_token(U),
                        void(
                            U.directives &&
                            "end" === U.directives.preserve &&
                            (ba.test_output_raw || (R.raw = !1))
                        )
                    );
                if (U.directives)
                    return (
                        n(!1, !0),
                        p(),
                        "start" === U.directives.preserve && (R.raw = !0),
                        void n(!1, !0)
                    );
                if (!k.newline.test(U.text) && !U.wanted_newline)
                    return (
                        (R.space_before_token = !0), p(), void(R.space_before_token = !0)
                    );
                var a,
                    b = h(U.text),
                    c = !1,
                    d = !1,
                    f = U.whitespace_before,
                    g = f.length;
                for (
                    n(!1, !0),
                    b.length > 1 &&
                    (y(b.slice(1), "*") ? (c = !0) : z(b.slice(1), f) && (d = !0)),
                    p(b[0]),
                    a = 1; a < b.length; a++
                )
                    n(!1, !0),
                    c ?
                    p(" " + e(b[a])) :
                    d && b[a].length > g ?
                    p(b[a].substring(g)) :
                    R.add_token(b[a]);
                n(!1, !0);
            }

            function N() {
                U.wanted_newline ? n(!1, !0) : R.trim(!0),
                    (R.space_before_token = !0),
                    p(),
                    n(!1, !0);
            }

            function O() {
                x(),
                    "TK_RESERVED" === V && A(Y.last_text) ?
                    (R.space_before_token = !0) :
                    m(")" === Y.last_text && ba.break_chained_methods),
                    p();
            }

            function P() {
                p(), "\n" === U.text[U.text.length - 1] && n();
            }

            function Q() {
                for (; Y.mode === l.Statement;) v();
            }
            var R,
                S,
                T,
                U,
                V,
                W,
                X,
                Y,
                Z,
                $,
                _,
                aa,
                ba,
                ca = [],
                da = "";
            for (
                aa = {
                    TK_START_EXPR: C,
                    TK_END_EXPR: D,
                    TK_START_BLOCK: E,
                    TK_END_BLOCK: F,
                    TK_WORD: G,
                    TK_RESERVED: G,
                    TK_SEMICOLON: H,
                    TK_STRING: I,
                    TK_EQUALS: J,
                    TK_OPERATOR: L,
                    TK_COMMA: K,
                    TK_BLOCK_COMMENT: M,
                    TK_COMMENT: N,
                    TK_DOT: O,
                    TK_UNKNOWN: P,
                    TK_EOF: Q
                },
                b = b ? b : {},
                ba = {},
                void 0 !== b.braces_on_own_line &&
                (ba.brace_style = b.braces_on_own_line ? "expand" : "collapse"),
                ba.brace_style = b.brace_style ?
                b.brace_style :
                ba.brace_style ?
                ba.brace_style :
                "collapse",
                "expand-strict" === ba.brace_style && (ba.brace_style = "expand"),
                ba.indent_size = b.indent_size ? parseInt(b.indent_size, 10) : 4,
                ba.indent_char = b.indent_char ? b.indent_char : " ",
                ba.eol = b.eol ? b.eol : "\n",
                ba.preserve_newlines =
                void 0 === b.preserve_newlines ? !0 : b.preserve_newlines,
                ba.break_chained_methods =
                void 0 === b.break_chained_methods ? !1 : b.break_chained_methods,
                ba.max_preserve_newlines =
                void 0 === b.max_preserve_newlines ?
                0 :
                parseInt(b.max_preserve_newlines, 10),
                ba.space_in_paren =
                void 0 === b.space_in_paren ? !1 : b.space_in_paren,
                ba.space_in_empty_paren =
                void 0 === b.space_in_empty_paren ? !1 : b.space_in_empty_paren,
                ba.jslint_happy = void 0 === b.jslint_happy ? !1 : b.jslint_happy,
                ba.space_after_anon_function =
                void 0 === b.space_after_anon_function ?
                !1 :
                b.space_after_anon_function,
                ba.keep_array_indentation =
                void 0 === b.keep_array_indentation ?
                !1 :
                b.keep_array_indentation,
                ba.space_before_conditional =
                void 0 === b.space_before_conditional ?
                !0 :
                b.space_before_conditional,
                ba.unescape_strings =
                void 0 === b.unescape_strings ? !1 : b.unescape_strings,
                ba.wrap_line_length =
                void 0 === b.wrap_line_length ?
                0 :
                parseInt(b.wrap_line_length, 10),
                ba.e4x = void 0 === b.e4x ? !1 : b.e4x,
                ba.end_with_newline =
                void 0 === b.end_with_newline ? !1 : b.end_with_newline,
                ba.comma_first = void 0 === b.comma_first ? !1 : b.comma_first,
                ba.test_output_raw =
                void 0 === b.test_output_raw ? !1 : b.test_output_raw,
                ba.jslint_happy && (ba.space_after_anon_function = !0),
                b.indent_with_tabs && ((ba.indent_char = "	"), (ba.indent_size = 1)),
                ba.eol = ba.eol.replace(/\\r/, "\r").replace(/\\n/, "\n"),
                X = ""; ba.indent_size > 0;

            )
                (X += ba.indent_char), (ba.indent_size -= 1);
            var ea = 0;
            if (a && a.length) {
                for (;
                    " " === a.charAt(ea) || "	" === a.charAt(ea);)
                    (da += a.charAt(ea)), (ea += 1);
                a = a.substring(ea);
            }
            (V = "TK_START_BLOCK"),
            (W = ""),
            (R = new i(X, da)),
            (R.raw = ba.test_output_raw),
            ($ = []),
            s(l.BlockStatement),
                (this.beautify = function() {
                    var b, c;
                    for (T = new j(a, ba, X), ca = T.tokenize(), S = 0;
                        (b = B());) {
                        for (var d = 0; d < b.comments_before.length; d++)
                            g(b.comments_before[d]);
                        g(b),
                            (W = Y.last_text),
                            (V = b.type),
                            (Y.last_text = b.text),
                            (S += 1);
                    }
                    return (
                        (c = R.get_code()),
                        ba.end_with_newline && (c += "\n"),
                        "\n" != ba.eol && (c = c.replace(/[\n]/g, ba.eol)),
                        c
                    );
                });
        }

        function h(a) {
            var b = 0,
                c = -1,
                d = [],
                e = !0;
            (this.set_indent = function(d) {
                (b = a.baseIndentLength + d * a.indent_length), (c = d);
            }),
            (this.get_character_count = function() {
                return b;
            }),
            (this.is_empty = function() {
                return e;
            }),
            (this.last = function() {
                return this._empty ? null : d[d.length - 1];
            }),
            (this.push = function(a) {
                d.push(a), (b += a.length), (e = !1);
            }),
            (this.pop = function() {
                var a = null;
                return (
                    e || ((a = d.pop()), (b -= a.length), (e = 0 === d.length)), a
                );
            }),
            (this.remove_indent = function() {
                c > 0 && ((c -= 1), (b -= a.indent_length));
            }),
            (this.trim = function() {
                for (;
                    " " === this.last();) d.pop(), (b -= 1);
                e = 0 === d.length;
            }),
            (this.toString = function() {
                var b = "";
                return (
                    this._empty ||
                    (c >= 0 && (b = a.indent_cache[c]), (b += d.join(""))),
                    b
                );
            });
        }

        function i(a, b) {
            (b = b || ""),
            (this.indent_cache = [b]),
            (this.baseIndentLength = b.length),
            (this.indent_length = a.length),
            (this.raw = !1);
            var c = [];
            (this.baseIndentString = b),
            (this.indent_string = a),
            (this.previous_line = null),
            (this.current_line = null),
            (this.space_before_token = !1),
            (this.add_outputline = function() {
                (this.previous_line = this.current_line),
                (this.current_line = new h(this)),
                c.push(this.current_line);
            }),
            this.add_outputline(),
                (this.get_line_number = function() {
                    return c.length;
                }),
                (this.add_new_line = function(a) {
                    return 1 === this.get_line_number() && this.just_added_newline() ?
                        !1 :
                        a || !this.just_added_newline() ?
                        (this.raw || this.add_outputline(), !0) :
                        !1;
                }),
                (this.get_code = function() {
                    var a = c.join("\n").replace(/[\r\n\t ]+$/, "");
                    return a;
                }),
                (this.set_indent = function(a) {
                    if (c.length > 1) {
                        for (; a >= this.indent_cache.length;)
                            this.indent_cache.push(
                                this.indent_cache[this.indent_cache.length - 1] +
                                this.indent_string
                            );
                        return this.current_line.set_indent(a), !0;
                    }
                    return this.current_line.set_indent(0), !1;
                }),
                (this.add_raw_token = function(a) {
                    for (var b = 0; b < a.newlines; b++) this.add_outputline();
                    this.current_line.push(a.whitespace_before),
                        this.current_line.push(a.text),
                        (this.space_before_token = !1);
                }),
                (this.add_token = function(a) {
                    this.add_space_before_token(), this.current_line.push(a);
                }),
                (this.add_space_before_token = function() {
                    this.space_before_token &&
                        !this.just_added_newline() &&
                        this.current_line.push(" "),
                        (this.space_before_token = !1);
                }),
                (this.remove_redundant_indentation = function(a) {
                    if (!a.multiline_frame &&
                        a.mode !== l.ForInitializer &&
                        a.mode !== l.Conditional
                    )
                        for (var b = a.start_line_index, d = c.length; d > b;)
                            c[b].remove_indent(), b++;
                }),
                (this.trim = function(d) {
                    for (
                        d = void 0 === d ? !1 : d, this.current_line.trim(a, b); d && c.length > 1 && this.current_line.is_empty();

                    )
                        c.pop(),
                        (this.current_line = c[c.length - 1]),
                        this.current_line.trim();
                    this.previous_line = c.length > 1 ? c[c.length - 2] : null;
                }),
                (this.just_added_newline = function() {
                    return this.current_line.is_empty();
                }),
                (this.just_added_blankline = function() {
                    if (this.just_added_newline()) {
                        if (1 === c.length) return !0;
                        var a = c[c.length - 2];
                        return a.is_empty();
                    }
                    return !1;
                });
        }

        function j(a, b, e) {
            function f(a) {
                if (!a.match(y)) return null;
                var b = {};
                z.lastIndex = 0;
                for (var c = z.exec(a); c;)(b[c[1]] = c[2]), (c = z.exec(a));
                return b;
            }

            function g() {
                var e,
                    g = [];
                if (((p = 0), (q = ""), t >= u)) return ["", "TK_EOF"];
                var y;
                y = s.length ? s[s.length - 1] : new m("TK_START_BLOCK", "{");
                var z = a.charAt(t);
                for (t += 1; c(z, i);) {
                    if (
                        (k.newline.test(z) ?
                            ("\n" !== z || "\r" !== a.charAt(t - 2)) &&
                            ((p += 1), (g = [])) :
                            g.push(z),
                            t >= u)
                    )
                        return ["", "TK_EOF"];
                    (z = a.charAt(t)), (t += 1);
                }
                if ((g.length && (q = g.join("")), j.test(z))) {
                    var C = !0,
                        D = !0,
                        E = j;
                    for (
                        "0" === z && u > t && /[Xxo]/.test(a.charAt(t)) ?
                        ((C = !1),
                            (D = !1),
                            (z += a.charAt(t)),
                            (t += 1),
                            (E = /[o]/.test(a.charAt(t)) ? l : n)) :
                        ((z = ""), (t -= 1)); u > t && E.test(a.charAt(t));

                    )
                        (z += a.charAt(t)),
                        (t += 1),
                        C &&
                        u > t &&
                        "." === a.charAt(t) &&
                        ((z += a.charAt(t)), (t += 1), (C = !1)),
                        D &&
                        u > t &&
                        /[Ee]/.test(a.charAt(t)) &&
                        ((z += a.charAt(t)),
                            (t += 1),
                            u > t &&
                            /[+-]/.test(a.charAt(t)) &&
                            ((z += a.charAt(t)), (t += 1)),
                            (D = !1),
                            (C = !1));
                    return [z, "TK_WORD"];
                }
                if (k.isIdentifierStart(a.charCodeAt(t - 1))) {
                    if (u > t)
                        for (; k.isIdentifierChar(a.charCodeAt(t)) &&
                            ((z += a.charAt(t)), (t += 1), t !== u);

                        );
                    return "TK_DOT" === y.type ||
                        ("TK_RESERVED" === y.type && c(y.text, ["set", "get"])) ||
                        !c(z, v) ? [z, "TK_WORD"] :
                        "in" === z ? [z, "TK_OPERATOR"] : [z, "TK_RESERVED"];
                }
                if ("(" === z || "[" === z) return [z, "TK_START_EXPR"];
                if (")" === z || "]" === z) return [z, "TK_END_EXPR"];
                if ("{" === z) return [z, "TK_START_BLOCK"];
                if ("}" === z) return [z, "TK_END_BLOCK"];
                if (";" === z) return [z, "TK_SEMICOLON"];
                if ("/" === z) {
                    var F = "";
                    if ("*" === a.charAt(t)) {
                        (t += 1), (w.lastIndex = t);
                        var G = w.exec(a);
                        (F = "/*" + G[0]), (t += G[0].length);
                        var H = f(F);
                        return (
                            H &&
                            "start" === H.ignore &&
                            ((A.lastIndex = t),
                                (G = A.exec(a)),
                                (F += G[0]),
                                (t += G[0].length)),
                            (F = F.replace(k.lineBreak, "\n")), [F, "TK_BLOCK_COMMENT", H]
                        );
                    }
                    if ("/" === a.charAt(t)) {
                        (t += 1), (x.lastIndex = t);
                        var G = x.exec(a);
                        return (F = "//" + G[0]), (t += G[0].length), [F, "TK_COMMENT"];
                    }
                }
                if (
                    "`" === z ||
                    "'" === z ||
                    '"' === z ||
                    (("/" === z ||
                            (b.e4x &&
                                "<" === z &&
                                a
                                .slice(t - 1)
                                .match(
                                    /^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/
                                ))) &&
                        (("TK_RESERVED" === y.type &&
                                c(y.text, [
                                    "return",
                                    "case",
                                    "throw",
                                    "else",
                                    "do",
                                    "typeof",
                                    "yield"
                                ])) ||
                            ("TK_END_EXPR" === y.type &&
                                ")" === y.text &&
                                y.parent &&
                                "TK_RESERVED" === y.parent.type &&
                                c(y.parent.text, ["if", "while", "for"])) ||
                            c(y.type, [
                                "TK_COMMENT",
                                "TK_START_EXPR",
                                "TK_START_BLOCK",
                                "TK_END_BLOCK",
                                "TK_OPERATOR",
                                "TK_EQUALS",
                                "TK_EOF",
                                "TK_SEMICOLON",
                                "TK_COMMA"
                            ])))
                ) {
                    var I = z,
                        J = !1,
                        K = !1;
                    if (((e = z), "/" === I))
                        for (
                            var L = !1; u > t &&
                            (J || L || a.charAt(t) !== I) &&
                            !k.newline.test(a.charAt(t));

                        )
                            (e += a.charAt(t)),
                            J ?
                            (J = !1) :
                            ((J = "\\" === a.charAt(t)),
                                "[" === a.charAt(t) ?
                                (L = !0) :
                                "]" === a.charAt(t) && (L = !1)),
                            (t += 1);
                    else if (b.e4x && "<" === I) {
                        var M = /<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,
                            N = a.slice(t - 1),
                            O = M.exec(N);
                        if (O && 0 === O.index) {
                            for (var P = O[2], Q = 0; O;) {
                                var R = !!O[1],
                                    S = O[2],
                                    T = !!O[O.length - 1] || "![CDATA[" === S.slice(0, 8);
                                if ((S !== P || T || (R ? --Q : ++Q), 0 >= Q)) break;
                                O = M.exec(N);
                            }
                            var U = O ? O.index + O[0].length : N.length;
                            return (
                                (N = N.slice(0, U)),
                                (t += U - 1),
                                (N = N.replace(k.lineBreak, "\n")), [N, "TK_STRING"]
                            );
                        }
                    } else
                        for (; u > t &&
                            (J ||
                                (a.charAt(t) !== I &&
                                    ("`" === I || !k.newline.test(a.charAt(t)))));

                        )
                            (J || "`" === I) && k.newline.test(a.charAt(t)) ?
                            ("\r" === a.charAt(t) &&
                                "\n" === a.charAt(t + 1) &&
                                (t += 1),
                                (e += "\n")) :
                            (e += a.charAt(t)),
                            J ?
                            (("x" === a.charAt(t) || "u" === a.charAt(t)) && (K = !0),
                                (J = !1)) :
                            (J = "\\" === a.charAt(t)),
                            (t += 1);
                    if (
                        (K && b.unescape_strings && (e = h(e)),
                            u > t && a.charAt(t) === I && ((e += I), (t += 1), "/" === I))
                    )
                        for (; u > t && k.isIdentifierStart(a.charCodeAt(t));)
                            (e += a.charAt(t)), (t += 1);
                    return [e, "TK_STRING"];
                }
                if ("#" === z) {
                    if (0 === s.length && "!" === a.charAt(t)) {
                        for (e = z; u > t && "\n" !== z;)
                            (z = a.charAt(t)), (e += z), (t += 1);
                        return [d(e) + "\n", "TK_UNKNOWN"];
                    }
                    var V = "#";
                    if (u > t && j.test(a.charAt(t))) {
                        do(z = a.charAt(t)), (V += z), (t += 1);
                        while (u > t && "#" !== z && "=" !== z);
                        return (
                            "#" === z ||
                            ("[" === a.charAt(t) && "]" === a.charAt(t + 1) ?
                                ((V += "[]"), (t += 2)) :
                                "{" === a.charAt(t) &&
                                "}" === a.charAt(t + 1) &&
                                ((V += "{}"), (t += 2))), [V, "TK_WORD"]
                        );
                    }
                }
                if ("<" === z && ("?" === a.charAt(t) || "%" === a.charAt(t))) {
                    B.lastIndex = t - 1;
                    var W = B.exec(a);
                    if (W)
                        return (
                            (z = W[0]),
                            (t += z.length - 1),
                            (z = z.replace(k.lineBreak, "\n")), [z, "TK_STRING"]
                        );
                }
                if ("<" === z && "<!--" === a.substring(t - 1, t + 3)) {
                    for (t += 3, z = "<!--"; !k.newline.test(a.charAt(t)) && u > t;)
                        (z += a.charAt(t)), t++;
                    return (r = !0), [z, "TK_COMMENT"];
                }
                if ("-" === z && r && "-->" === a.substring(t - 1, t + 2))
                    return (r = !1), (t += 2), ["-->", "TK_COMMENT"];
                if ("." === z) return [z, "TK_DOT"];
                if (c(z, o)) {
                    for (; u > t &&
                        c(z + a.charAt(t), o) &&
                        ((z += a.charAt(t)), (t += 1), !(t >= u));

                    );
                    return "," === z ? [z, "TK_COMMA"] :
                        "=" === z ? [z, "TK_EQUALS"] : [z, "TK_OPERATOR"];
                }
                return [z, "TK_UNKNOWN"];
            }

            function h(a) {
                for (var b, c = !1, d = "", e = 0, f = "", g = 0; c || e < a.length;)
                    if (((b = a.charAt(e)), e++, c)) {
                        if (((c = !1), "x" === b))(f = a.substr(e, 2)), (e += 2);
                        else {
                            if ("u" !== b) {
                                d += "\\" + b;
                                continue;
                            }
                            (f = a.substr(e, 4)), (e += 4);
                        }
                        if (!f.match(/^[0123456789abcdefABCDEF]+$/)) return a;
                        if (((g = parseInt(f, 16)), g >= 0 && 32 > g)) {
                            d += "x" === b ? "\\x" + f : "\\u" + f;
                            continue;
                        }
                        if (34 === g || 39 === g || 92 === g)
                            d += "\\" + String.fromCharCode(g);
                        else {
                            if ("x" === b && g > 126 && 255 >= g) return a;
                            d += String.fromCharCode(g);
                        }
                    } else "\\" === b ? (c = !0) : (d += b);
                return d;
            }
            var i = "\n\r	 ".split(""),
                j = /[0-9]/,
                l = /[01234567]/,
                n = /[0123456789abcdefABCDEF]/,
                o = "+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(
                    " "
                );
            this.line_starters = "continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(
                ","
            );
            var p,
                q,
                r,
                s,
                t,
                u,
                v = this.line_starters.concat([
                    "do",
                    "in",
                    "else",
                    "get",
                    "set",
                    "new",
                    "catch",
                    "finally",
                    "typeof",
                    "yield",
                    "async",
                    "await"
                ]),
                w = /([\s\S]*?)((?:\*\/)|$)/g,
                x = /([^\n\r\u2028\u2029]*)/g,
                y = /\/\* beautify( \w+[:]\w+)+ \*\//g,
                z = / (\w+)[:](\w+)/g,
                A = /([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,
                B = /((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;
            this.tokenize = function() {
                (u = a.length), (t = 0), (r = !1), (s = []);
                for (
                    var b, c, d, e = null, f = [], h = []; !c || "TK_EOF" !== c.type;

                ) {
                    for (
                        d = g(), b = new m(d[1], d[0], p, q);
                        "TK_COMMENT" === b.type ||
                        "TK_BLOCK_COMMENT" === b.type ||
                        "TK_UNKNOWN" === b.type;

                    )
                        "TK_BLOCK_COMMENT" === b.type && (b.directives = d[2]),
                        h.push(b),
                        (d = g()),
                        (b = new m(d[1], d[0], p, q));
                    h.length && ((b.comments_before = h), (h = [])),
                        "TK_START_BLOCK" === b.type || "TK_START_EXPR" === b.type ?
                        ((b.parent = c), f.push(e), (e = b)) :
                        ("TK_END_BLOCK" === b.type || "TK_END_EXPR" === b.type) &&
                        e &&
                        (("]" === b.text && "[" === e.text) ||
                            (")" === b.text && "(" === e.text) ||
                            ("}" === b.text && "{" === e.text)) &&
                        ((b.parent = e.parent), (e = f.pop())),
                        s.push(b),
                        (c = b);
                }
                return s;
            };
        }
        var k = {};
        !(function(a) {
            var b =
                "------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
                c =
                "------------------------------------------------------------------------------------------------------------------------------------------",
                d = new RegExp("[" + b + "]"),
                e = new RegExp("[" + b + c + "]");
            (a.newline = /[\n\r\u2028\u2029]/),
            (a.lineBreak = new RegExp("\r\n|" + a.newline.source)),
            (a.allLineBreaks = new RegExp(a.lineBreak.source, "g")),
            (a.isIdentifierStart = function(a) {
                return 65 > a ?
                    36 === a || 64 === a :
                    91 > a ?
                    !0 :
                    97 > a ?
                    95 === a :
                    123 > a ?
                    !0 :
                    a >= 170 && d.test(String.fromCharCode(a));
            }),
            (a.isIdentifierChar = function(a) {
                return 48 > a ?
                    36 === a :
                    58 > a ?
                    !0 :
                    65 > a ?
                    !1 :
                    91 > a ?
                    !0 :
                    97 > a ?
                    95 === a :
                    123 > a ?
                    !0 :
                    a >= 170 && e.test(String.fromCharCode(a));
            });
        })(k);
        var l = {
                BlockStatement: "BlockStatement",
                Statement: "Statement",
                ObjectLiteral: "ObjectLiteral",
                ArrayLiteral: "ArrayLiteral",
                ForInitializer: "ForInitializer",
                Conditional: "Conditional",
                Expression: "Expression"
            },
            m = function(a, b, c, d, e, f) {
                (this.type = a),
                (this.text = b),
                (this.comments_before = []),
                (this.newlines = c || 0),
                (this.wanted_newline = c > 0),
                (this.whitespace_before = d || ""),
                (this.parent = null),
                (this.directives = null);
            };
        return { run: a };
    };
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            codeMirror: !0,
            codeMirrorOptions: {
                lineNumbers: !0,
                tabMode: "indent",
                indentWithTabs: !0,
                lineWrapping: !0,
                mode: "text/html",
                tabSize: 2
            },
            codeBeautifierOptions: {
                end_with_newline: !0,
                indent_inner_html: !0,
                extra_liners: [
                    "p",
                    "h1",
                    "h2",
                    "h3",
                    "h4",
                    "h5",
                    "h6",
                    "blockquote",
                    "pre",
                    "ul",
                    "ol",
                    "table",
                    "dl"
                ],
                brace_style: "expand",
                indent_char: "	",
                indent_size: 1,
                wrap_line_length: 0
            }
        }),
        (a.FE.PLUGINS.codeView = function(b) {
            function c() {
                return b.$box.hasClass("fr-code-view");
            }

            function d() {
                return l ? l.getValue() : k.val();
            }

            function e(a) {
                var c = d();
                b.html.set(c),
                    b.$el.blur(),
                    b.$tb
                    .find(" > .fr-command")
                    .not(a)
                    .removeClass("fr-disabled"),
                    a.removeClass("fr-active"),
                    b.events.focus(!0),
                    b.placeholder.refresh(),
                    b.undo.saveStep();
            }

            function f(c) {
                k ||
                    (i(), !l && b.opts.codeMirror && "undefined" != typeof CodeMirror ?
                        (l = CodeMirror.fromTextArea(
                            k.get(0),
                            b.opts.codeMirrorOptions
                        )) :
                        b.events.$on(k, "keydown keyup change input", function() {
                            if (b.opts.height) this.rows = null;
                            else if (0 === this.value.length) this.rows = 1;
                            else {
                                for (; this.rows > 1 && this.scrollHeight <= this.offsetHeight;

                                )
                                    this.rows -= 1;
                                for (
                                    var a = -1; this.scrollHeight > this.offsetHeight &&
                                    (!b.opts.heightMax ||
                                        this.offsetHeight < b.opts.heightMax);

                                )
                                    (a = this.scrollHeight), (this.rows += 1);
                            }
                        })),
                    b.undo.saveStep(),
                    b.html.cleanEmptyTags(),
                    b.html.cleanWhiteTags(!0),
                    b.core.hasFocus() &&
                    (b.core.isEmpty() ||
                        (b.selection.save(),
                            b.$el
                            .find('.fr-marker[data-type="true"]:first')
                            .replaceWith('<span class="fr-tmp fr-sm">F</span>'),
                            b.$el
                            .find('.fr-marker[data-type="false"]:last')
                            .replaceWith('<span class="fr-tmp fr-em">F</span>')));
                var d = b.html.get(!1, !0);
                b.$el.find("span.fr-tmp").remove(),
                    b.core.hasFocus() && b.$el.blur(),
                    (d = d.replace(
                        /<span class="fr-tmp fr-sm">F<\/span>/,
                        "FROALA-SM"
                    )),
                    (d = d.replace(
                        /<span class="fr-tmp fr-em">F<\/span>/,
                        "FROALA-EM"
                    )),
                    b.codeBeautifier &&
                    (d = b.codeBeautifier.run(d, b.opts.codeBeautifierOptions));
                var e, f;
                if (l) {
                    (e = d.indexOf("FROALA-SM")),
                    (f = d.indexOf("FROALA-EM")),
                    e > f ? (e = f) : (f -= 9),
                        (d = d.replace(/FROALA-SM/g, "").replace(/FROALA-EM/g, ""));
                    var g =
                        d.substring(0, e).length -
                        d.substring(0, e).replace(/\n/g, "").length,
                        h =
                        d.substring(0, f).length -
                        d.substring(0, f).replace(/\n/g, "").length;
                    (e =
                        d.substring(0, e).length -
                        d.substring(0, d.substring(0, e).lastIndexOf("\n") + 1).length),
                    (f =
                        d.substring(0, f).length -
                        d.substring(0, d.substring(0, f).lastIndexOf("\n") + 1).length),
                    l.setSize(null, b.opts.height ? b.opts.height : "auto"),
                        b.opts.heightMin &&
                        b.$box
                        .find(".CodeMirror-scroll")
                        .css("min-height", b.opts.heightMin),
                        l.setValue(d),
                        l.focus(),
                        l.setSelection({ line: g, ch: e }, { line: h, ch: f }),
                        l.refresh(),
                        l.clearHistory();
                } else {
                    (e = d.indexOf("FROALA-SM")),
                    (f = d.indexOf("FROALA-EM") - 9),
                    b.opts.heightMin && k.css("min-height", b.opts.heightMin),
                        b.opts.height && k.css("height", b.opts.height),
                        b.opts.heightMax &&
                        k.css("max-height", b.opts.height || b.opts.heightMax),
                        k
                        .val(d.replace(/FROALA-SM/g, "").replace(/FROALA-EM/g, ""))
                        .trigger("change");
                    var j = a(b.o_doc).scrollTop();
                    k.focus(),
                        k.get(0).setSelectionRange(e, f),
                        a(b.o_doc).scrollTop(j);
                }
                b.$tb
                    .find(" > .fr-command")
                    .not(c)
                    .addClass("fr-disabled"),
                    c.addClass("fr-active"), !b.helpers.isMobile() && b.opts.toolbarInline && b.toolbar.hide();
            }

            function g(a) {
                "undefined" == typeof a && (a = !c());
                var d = b.$tb.find('.fr-command[data-cmd="html"]');
                a
                    ?
                    (b.popups.hideAll(), b.$box.toggleClass("fr-code-view", !0), f(d)) :
                    (b.$box.toggleClass("fr-code-view", !1), e(d));
            }

            function h() {
                c() && g(b.$tb.find('button[data-cmd="html"]')),
                    l && l.toTextArea(),
                    k
                    .val("")
                    .removeData()
                    .remove(),
                    (k = null),
                    m && (m.remove(), (m = null));
            }

            function i() {
                (k = a('<textarea class="fr-code" tabindex="-1">')),
                b.$wp.append(k),
                    k.attr("dir", b.opts.direction),
                    b.$box.hasClass("fr-basic") ||
                    ((m = a(
                            '<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch' +
                            (b.helpers.isMobile() ? "" : " fr-desktop") +
                            '" role="button" tabindex="-1"><i class="fa fa-code"></i></button>'
                        )),
                        b.$box.append(m),
                        b.events.bindClick(b.$box, "a.html-switch", function() {
                            g(!1);
                        }));
                var e = function() {
                    return !c();
                };
                b.events.on("buttons.refresh", e),
                    b.events.on("copy", e, !0),
                    b.events.on("cut", e, !0),
                    b.events.on("paste", e, !0),
                    b.events.on("destroy", h, !0),
                    b.events.on("html.set", function() {
                        c() && g(!0);
                    }),
                    b.events.on(
                        "form.submit",
                        function() {
                            c() &&
                                (b.html.set(d()), b.events.trigger("contentChanged", [], !0));
                        }, !0
                    );
            }

            function j() {
                return b.$wp ? void 0 : !1;
            }
            var k, l, m;
            return { _init: j, toggle: g, isActive: c, get: d };
        }),
        a.FE.RegisterCommand("html", {
            title: "Code View",
            undo: !1,
            focus: !1,
            forcedRefresh: !0,
            callback: function() {
                this.codeView.toggle();
            },
            plugin: "codeView"
        }),
        a.FE.DefineIcon("html", { NAME: "code" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.POPUP_TEMPLATES, {
            "colors.picker": "[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_]"
        }),
        a.extend(a.FE.DEFAULTS, {
            colorsText: [
                "#61BD6D",
                "#1ABC9C",
                "#54ACD2",
                "#2C82C9",
                "#9365B8",
                "#475577",
                "#CCCCCC",
                "#41A85F",
                "#00A885",
                "#3D8EB9",
                "#2969B0",
                "#553982",
                "#28324E",
                "#000000",
                "#F7DA64",
                "#FBA026",
                "#EB6B56",
                "#E25041",
                "#A38F84",
                "#EFEFEF",
                "#FFFFFF",
                "#FAC51C",
                "#F37934",
                "#D14841",
                "#B8312F",
                "#7C706B",
                "#D1D5D8",
                "REMOVE"
            ],
            colorsBackground: [
                "#61BD6D",
                "#1ABC9C",
                "#54ACD2",
                "#2C82C9",
                "#9365B8",
                "#475577",
                "#CCCCCC",
                "#41A85F",
                "#00A885",
                "#3D8EB9",
                "#2969B0",
                "#553982",
                "#28324E",
                "#000000",
                "#F7DA64",
                "#FBA026",
                "#EB6B56",
                "#E25041",
                "#A38F84",
                "#EFEFEF",
                "#FFFFFF",
                "#FAC51C",
                "#F37934",
                "#D14841",
                "#B8312F",
                "#7C706B",
                "#D1D5D8",
                "REMOVE"
            ],
            colorsStep: 7,
            colorsDefaultTab: "text",
            colorsButtons: ["colorsBack", "|", "-"]
        }),
        (a.FE.PLUGINS.colors = function(b) {
            function c() {
                var a = b.$tb.find('.fr-command[data-cmd="color"]'),
                    c = b.popups.get("colors.picker");
                if ((c || (c = e()), !c.hasClass("fr-active")))
                    if (
                        (b.popups.setContainer("colors.picker", b.$tb),
                            h(c.find(".fr-selected-tab").attr("data-param1")),
                            a.is(":visible"))
                    ) {
                        var d = a.offset().left + a.outerWidth() / 2,
                            f =
                            a.offset().top +
                            (b.opts.toolbarBottom ? 10 : a.outerHeight() - 10);
                        b.popups.show("colors.picker", d, f, a.outerHeight());
                    } else b.position.forSelection(c), b.popups.show("colors.picker");
            }

            function d() {
                b.popups.hide("colors.picker");
            }

            function e() {
                var a = '<div class="fr-buttons fr-colors-buttons">';
                b.opts.toolbarInline &&
                    b.opts.colorsButtons.length > 0 &&
                    (a += b.button.buildList(b.opts.colorsButtons)),
                    (a += f() + "</div>");
                var c = {
                        buttons: a,
                        text_colors: g("text"),
                        background_colors: g("background")
                    },
                    d = b.popups.create("colors.picker", c);
                return d;
            }

            function f() {
                var a = '<div class="fr-colors-tabs">';
                return (
                    (a +=
                        '<span class="fr-colors-tab ' +
                        ("background" == b.opts.colorsDefaultTab ?
                            "" :
                            "fr-selected-tab ") +
                        'fr-command" data-param1="text" data-cmd="colorChangeSet" title="' +
                        b.language.translate("Text") +
                        '">' +
                        b.language.translate("Text") +
                        "</span>"),
                    (a +=
                        '<span class="fr-colors-tab ' +
                        ("background" == b.opts.colorsDefaultTab ?
                            "fr-selected-tab " :
                            "") +
                        'fr-command" data-param1="background" data-cmd="colorChangeSet" title="' +
                        b.language.translate("Background") +
                        '">' +
                        b.language.translate("Background") +
                        "</span>"),
                    a + "</div>"
                );
            }

            function g(a) {
                for (
                    var c = "text" == a ? b.opts.colorsText : b.opts.colorsBackground,
                        d =
                        '<div class="fr-color-set fr-' +
                        a +
                        "-color" +
                        (b.opts.colorsDefaultTab == a ||
                            ("text" != b.opts.colorsDefaultTab &&
                                "background" != b.opts.colorsDefaultTab &&
                                "text" == a) ?
                            " fr-selected-set" :
                            "") +
                        '">',
                        e = 0; e < c.length; e++
                )
                    0 !== e && e % b.opts.colorsStep === 0 && (d += "<br>"),
                    (d +=
                        "REMOVE" != c[e] ?
                        '<span class="fr-command fr-select-color" style="background: ' +
                        c[e] +
                        ';" data-cmd="' +
                        a +
                        'Color" data-param1="' +
                        c[e] +
                        '"></span>' :
                        '<span class="fr-command fr-select-color" data-cmd="' +
                        a +
                        'Color" data-param1="REMOVE" title="' +
                        b.language.translate("Clear Formatting") +
                        '">' +
                        b.icon.create("remove") +
                        "</span>");
                return d + "</div>";
            }

            function h(c) {
                var d,
                    e = b.popups.get("colors.picker"),
                    f = a(b.selection.element());
                for (
                    d = "background" == c ? "background-color" : "color",
                    e
                    .find(".fr-" + c + "-color .fr-select-color")
                    .removeClass("fr-selected-color"); f.get(0) != b.$el.get(0);

                ) {
                    if ("transparent" != f.css(d) && "rgba(0, 0, 0, 0)" != f.css(d)) {
                        e.find(
                            ".fr-" +
                            c +
                            '-color .fr-select-color[data-param1="' +
                            b.helpers.RGBToHex(f.css(d)) +
                            '"]'
                        ).addClass("fr-selected-color");
                        break;
                    }
                    f = f.parent();
                }
            }

            function i(a, b) {
                a.hasClass("fr-selected-tab") ||
                    (a.siblings().removeClass("fr-selected-tab"),
                        a.addClass("fr-selected-tab"),
                        a
                        .parents(".fr-popup")
                        .find(".fr-color-set")
                        .removeClass("fr-selected-set"),
                        a
                        .parents(".fr-popup")
                        .find(".fr-color-set.fr-" + b + "-color")
                        .addClass("fr-selected-set"),
                        h(b));
            }

            function j(a) {
                "REMOVE" != a
                    ?
                    b.format.applyStyle("background-color", b.helpers.HEXtoRGB(a)) :
                    b.format.removeStyle("background-color"),
                    d();
            }

            function k(a) {
                "REMOVE" != a
                    ?
                    b.format.applyStyle("color", b.helpers.HEXtoRGB(a)) :
                    b.format.removeStyle("color"),
                    d();
            }

            function l() {
                b.popups.hide("colors.picker"), b.toolbar.showInline();
            }
            return {
                showColorsPopup: c,
                hideColorsPopup: d,
                changeSet: i,
                background: j,
                text: k,
                back: l
            };
        }),
        a.FE.DefineIcon("colors", { NAME: "tint" }),
        a.FE.RegisterCommand("color", {
            title: "Colors",
            undo: !1,
            focus: !0,
            refreshOnCallback: !1,
            popup: !0,
            callback: function() {
                this.popups.isVisible("colors.picker") ?
                    (this.$el.find(".fr-marker") &&
                        (this.events.disableBlur(), this.selection.restore()),
                        this.popups.hide("colors.picker")) :
                    this.colors.showColorsPopup();
            },
            plugin: "colors"
        }),
        a.FE.RegisterCommand("textColor", {
            undo: !0,
            callback: function(a, b) {
                this.colors.text(b);
            }
        }),
        a.FE.RegisterCommand("backgroundColor", {
            undo: !0,
            callback: function(a, b) {
                this.colors.background(b);
            }
        }),
        a.FE.RegisterCommand("colorChangeSet", {
            undo: !1,
            focus: !1,
            callback: function(a, b) {
                var c = this.popups
                    .get("colors.picker")
                    .find('.fr-command[data-cmd="' + a + '"][data-param1="' + b + '"]');
                this.colors.changeSet(c, b);
            }
        }),
        a.FE.DefineIcon("colorsBack", { NAME: "arrow-left" }),
        a.FE.RegisterCommand("colorsBack", {
            title: "Back",
            undo: !1,
            focus: !1,
            back: !0,
            refreshAfterCallback: !1,
            callback: function() {
                this.colors.back();
            }
        }),
        a.FE.DefineIcon("remove", { NAME: "eraser" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, { dragInline: !0 }),
        (a.FE.PLUGINS.draggable = function(b) {
            function c(c) {
                return (
                    c.target &&
                    "A" == c.target.tagName &&
                    1 == c.target.childNodes.length &&
                    "IMG" == c.target.childNodes[0].tagName &&
                    (c.target = c.target.childNodes[0]),
                    a(c.target).hasClass("fr-draggable") ?
                    (a(c.target).addClass("fr-dragging"),
                        b.opts.dragInline ?
                        b.$el.attr("contenteditable", !0) :
                        b.$el.attr("contenteditable", !1),
                        b.opts.toolbarInline && b.toolbar.hide(),
                        b.undo.canDo() || b.undo.saveStep(),
                        b.browser.msie || b.browser.edge || b.selection.clear(),
                        void c.originalEvent.dataTransfer.setData("text", "Froala")) :
                    (c.preventDefault(), !1)
                );
            }

            function d(a) {
                return !(
                    a &&
                    ("HTML" == a.tagName || "BODY" == a.tagName || b.node.isElement(a))
                );
            }

            function e(a, c, d) {
                b.opts.iframe &&
                    ((a += b.$iframe.offset().top), (c += b.$iframe.offset().left)),
                    m.offset().top != a && m.css("top", a),
                    m.offset().left != c && m.css("left", c),
                    m.width() != d && m.css("width", d);
            }

            function f(c) {
                var f = b.doc.elementFromPoint(
                    c.originalEvent.pageX - b.win.pageXOffset,
                    c.originalEvent.pageY - b.win.pageYOffset
                );
                if (!d(f)) {
                    for (
                        var g = 0, h = f; !d(h) &&
                        h == f &&
                        c.originalEvent.pageY - b.win.pageYOffset - g > 0;

                    )
                        g++,
                        (h = b.doc.elementFromPoint(
                            c.originalEvent.pageX - b.win.pageXOffset,
                            c.originalEvent.pageY - b.win.pageYOffset - g
                        ));
                    (!d(h) || (m && 0 === b.$el.find(h).length && h != m.get(0))) &&
                    (h = null);
                    for (
                        var i = 0, j = f; !d(j) &&
                        j == f &&
                        c.originalEvent.pageY - b.win.pageYOffset + i < a(b.doc).height();

                    )
                        i++,
                        (j = b.doc.elementFromPoint(
                            c.originalEvent.pageX - b.win.pageXOffset,
                            c.originalEvent.pageY - b.win.pageYOffset + i
                        ));
                    (!d(j) || (m && 0 === b.$el.find(j).length && j != m.get(0))) &&
                    (j = null),
                    (f =
                        null == j && h ?
                        h :
                        j && null == h ?
                        j :
                        j && h ?
                        i > g ?
                        h :
                        j :
                        null);
                }
                if (a(f).hasClass("fr-drag-helper")) return !1;
                if (
                    (f && !b.node.isBlock(f) && (f = b.node.blockParent(f)),
                        f && ["TD", "TH", "TR", "THEAD", "TBODY"].indexOf(f.tagName) >= 0 &&
                        (f = a(f)
                            .parents("table")
                            .get(0)),
                        f && ["LI"].indexOf(f.tagName) >= 0 &&
                        (f = a(f)
                            .parents("UL, OL")
                            .get(0)),
                        f && !a(f).hasClass("fr-drag-helper"))
                ) {
                    m ||
                        (a.FE.$draggable_helper ||
                            (a.FE.$draggable_helper = a(
                                '<div class="fr-drag-helper"></div>'
                            )),
                            (m = a.FE.$draggable_helper),
                            b.events.on(
                                "shared.destroy",
                                function() {
                                    m
                                        .html("")
                                        .removeData()
                                        .remove(),
                                        (m = null);
                                }, !0
                            ));
                    var k,
                        l = c.originalEvent.pageY;
                    k = l < a(f).offset().top + a(f).outerHeight() / 2;
                    var n = a(f),
                        o = 0;
                    k || 0 !== n.next().length ?
                        (k || (n = n.next()),
                            ("before" == m.data("fr-position") && n.is(m.data("fr-tag"))) ||
                            (n.prev().length > 0 &&
                                (o = parseFloat(n.prev().css("margin-bottom")) || 0),
                                (o = Math.max(o, parseFloat(n.css("margin-top")) || 0)),
                                e(
                                    n.offset().top - o / 2 - b.$box.offset().top,
                                    n.offset().left - b.win.pageXOffset - b.$box.offset().left,
                                    n.width()
                                ),
                                m.data("fr-position", "before"))) :
                        ("after" == m.data("fr-position") && n.is(m.data("fr-tag"))) ||
                        ((o = parseFloat(n.css("margin-bottom")) || 0),
                            e(
                                n.offset().top + a(f).height() + o / 2 - b.$box.offset().top,
                                n.offset().left - b.win.pageXOffset - b.$box.offset().left,
                                n.width()
                            ),
                            m.data("fr-position", "after")),
                        m.data("fr-tag", n),
                        m.addClass("fr-visible"),
                        m.appendTo(b.$box);
                } else m && b.$box.find(m).length > 0 && m.removeClass("fr-visible");
            }

            function g(a) {
                (a.originalEvent.dataTransfer.dropEffect = "move"),
                b.opts.dragInline ?
                    j() ||
                    (!b.browser.msie && !b.browser.edge) ||
                    a.preventDefault() :
                    (a.preventDefault(), f(a));
            }

            function h(a) {
                (a.originalEvent.dataTransfer.dropEffect = "move"),
                b.opts.dragInline || a.preventDefault();
            }

            function i(a) {
                b.$el.attr("contenteditable", !0);
                var c = b.$el.find(".fr-dragging");
                m && m.hasClass("fr-visible") && b.$box.find(m).length ?
                    k(a) :
                    c.length &&
                    (a.preventDefault(),
                        a.stopPropagation(),
                        m && !m.hasClass("fr-visible") && c.removeClass("fr-dragging")),
                    m && b.$box.find(m).length && m.removeClass("fr-visible");
            }

            function j() {
                for (var b = null, c = 0; c < a.FE.INSTANCES.length; c++)
                    if (((b = a.FE.INSTANCES[c].$el.find(".fr-dragging")), b.length))
                        return b.get(0);
            }

            function k(c) {
                for (var d, e, f = 0; f < a.FE.INSTANCES.length; f++)
                    if (((d = a.FE.INSTANCES[f].$el.find(".fr-dragging")), d.length)) {
                        e = a.FE.INSTANCES[f];
                        break;
                    }
                if (d.length) {
                    if (
                        (c.preventDefault(),
                            c.stopPropagation(),
                            m && m.hasClass("fr-visible") && b.$box.find(m).length)
                    )
                        m
                        .data("fr-tag")[m.data("fr-position")]('<span class="fr-marker"></span>'),
                        m.removeClass("fr-visible");
                    else {
                        var g = b.markers.insertAtPoint(c.originalEvent);
                        if (g === !1) return !1;
                    }
                    b.popups.hideAll(), e == b || b.undo.canDo() || b.undo.saveStep();
                    var h = d;
                    if ((d.parent().is("A") && (h = d.parent()), b.core.isEmpty()))
                        b.$el.html(h);
                    else {
                        var i = b.$el.find(".fr-marker");
                        i.replaceWith(h), d.after(a.FE.MARKERS), b.selection.restore();
                    }
                    return (
                        d.removeClass("fr-dragging"),
                        b.$el
                        .find(b.html.emptyBlockTagsQuery())
                        .not("TD, TH, LI, .fr-inner")
                        .remove(),
                        b.html.wrap(),
                        b.html.fillEmptyBlocks(),
                        b.undo.saveStep(),
                        b.opts.iframe && b.size.syncIframe(),
                        e != b &&
                        (e.popups.hideAll(),
                            e.$el
                            .find(b.html.emptyBlockTagsQuery())
                            .not("TD, TH, LI, .fr-inner")
                            .remove(),
                            e.html.wrap(),
                            e.html.fillEmptyBlocks(),
                            e.undo.saveStep(),
                            e.events.trigger("element.dropped"),
                            e.opts.iframe && e.size.syncIframe()),
                        b.events.trigger("element.dropped", [d]), !1
                    );
                }
            }

            function l() {
                b.opts.enter == a.FE.ENTER_BR && (b.opts.dragInline = !0),
                    b.events.on("dragstart", c, !0),
                    b.events.on("dragover", g, !0),
                    b.events.on("dragenter", h, !0),
                    b.events.on("document.dragend", i, !0),
                    b.events.on("document.drop", i, !0),
                    b.events.on("drop", k, !0),
                    b.events.on("html.get", function(a) {
                        return (a = a.replace(
                            /<(div)((?:[\w\W]*?))class="([\w\W]*?)fr-drag-helper([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/(div)>/g,
                            ""
                        ));
                    });
            }
            var m;
            return { _init: l };
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.POPUP_TEMPLATES, { emoticons: "[_BUTTONS_][_EMOTICONS_]" }),
        a.extend(a.FE.DEFAULTS, {
            emoticonsStep: 8,
            emoticonsSet: [
                { code: "1f600", desc: "Grinning face" },
                { code: "1f601", desc: "Grinning face with smiling eyes" },
                { code: "1f602", desc: "Face with tears of joy" },
                { code: "1f603", desc: "Smiling face with open mouth" },
                {
                    code: "1f604",
                    desc: "Smiling face with open mouth and smiling eyes"
                },
                {
                    code: "1f605",
                    desc: "Smiling face with open mouth and cold sweat"
                },
                {
                    code: "1f606",
                    desc: "Smiling face with open mouth and tightly-closed eyes"
                },
                { code: "1f607", desc: "Smiling face with halo" },
                { code: "1f608", desc: "Smiling face with horns" },
                { code: "1f609", desc: "Winking face" },
                { code: "1f60a", desc: "Smiling face with smiling eyes" },
                { code: "1f60b", desc: "Face savoring delicious food" },
                { code: "1f60c", desc: "Relieved face" },
                { code: "1f60d", desc: "Smiling face with heart-shaped eyes" },
                { code: "1f60e", desc: "Smiling face with sunglasses" },
                { code: "1f60f", desc: "Smirking face" },
                { code: "1f610", desc: "Neutral face" },
                { code: "1f611", desc: "Expressionless face" },
                { code: "1f612", desc: "Unamused face" },
                { code: "1f613", desc: "Face with cold sweat" },
                { code: "1f614", desc: "Pensive face" },
                { code: "1f615", desc: "Confused face" },
                { code: "1f616", desc: "Confounded face" },
                { code: "1f617", desc: "Kissing face" },
                { code: "1f618", desc: "Face throwing a kiss" },
                { code: "1f619", desc: "Kissing face with smiling eyes" },
                { code: "1f61a", desc: "Kissing face with closed eyes" },
                { code: "1f61b", desc: "Face with stuck out tongue" },
                { code: "1f61c", desc: "Face with stuck out tongue and winking eye" },
                {
                    code: "1f61d",
                    desc: "Face with stuck out tongue and tightly-closed eyes"
                },
                { code: "1f61e", desc: "Disappointed face" },
                { code: "1f61f", desc: "Worried face" },
                { code: "1f620", desc: "Angry face" },
                { code: "1f621", desc: "Pouting face" },
                { code: "1f622", desc: "Crying face" },
                { code: "1f623", desc: "Persevering face" },
                { code: "1f624", desc: "Face with look of triumph" },
                { code: "1f625", desc: "Disappointed but relieved face" },
                { code: "1f626", desc: "Frowning face with open mouth" },
                { code: "1f627", desc: "Anguished face" },
                { code: "1f628", desc: "Fearful face" },
                { code: "1f629", desc: "Weary face" },
                { code: "1f62a", desc: "Sleepy face" },
                { code: "1f62b", desc: "Tired face" },
                { code: "1f62c", desc: "Grimacing face" },
                { code: "1f62d", desc: "Loudly crying face" },
                { code: "1f62e", desc: "Face with open mouth" },
                { code: "1f62f", desc: "Hushed face" },
                { code: "1f630", desc: "Face with open mouth and cold sweat" },
                { code: "1f631", desc: "Face screaming in fear" },
                { code: "1f632", desc: "Astonished face" },
                { code: "1f633", desc: "Flushed face" },
                { code: "1f634", desc: "Sleeping face" },
                { code: "1f635", desc: "Dizzy face" },
                { code: "1f636", desc: "Face without mouth" },
                { code: "1f637", desc: "Face with medical mask" }
            ],
            emoticonsButtons: ["emoticonsBack", "|"],
            emoticonsUseImage: !0
        }),
        (a.FE.PLUGINS.emoticons = function(b) {
            function c() {
                var a = b.$tb.find('.fr-command[data-cmd="emoticons"]'),
                    c = b.popups.get("emoticons");
                if ((c || (c = e()), !c.hasClass("fr-active"))) {
                    b.popups.refresh("emoticons"),
                        b.popups.setContainer("emoticons", b.$tb);
                    var d = a.offset().left + a.outerWidth() / 2,
                        f =
                        a.offset().top +
                        (b.opts.toolbarBottom ? 10 : a.outerHeight() - 10);
                    b.popups.show("emoticons", d, f, a.outerHeight());
                }
            }

            function d() {
                b.popups.hide("emoticons");
            }

            function e() {
                var a = "";
                b.opts.toolbarInline &&
                    b.opts.emoticonsButtons.length > 0 &&
                    (a =
                        '<div class="fr-buttons fr-emoticons-buttons">' +
                        b.button.buildList(b.opts.emoticonsButtons) +
                        "</div>");
                var c = { buttons: a, emoticons: f() },
                    d = b.popups.create("emoticons", c);
                return b.tooltip.bind(d, ".fr-emoticon"), d;
            }

            function f() {
                for (
                    var a = '<div style="text-align: center">', c = 0; c < b.opts.emoticonsSet.length; c++
                )
                    0 !== c && c % b.opts.emoticonsStep === 0 && (a += "<br>"),
                    (a +=
                        '<span class="fr-command fr-emoticon" data-cmd="insertEmoticon" title="' +
                        b.language.translate(b.opts.emoticonsSet[c].desc) +
                        '" data-param1="' +
                        b.opts.emoticonsSet[c].code +
                        '">' +
                        (b.opts.emoticonsUseImage ?
                            '<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/' +
                            b.opts.emoticonsSet[c].code +
                            '.svg"/>' :
                            "&#x" + b.opts.emoticonsSet[c].code + ";") +
                        "</span>");
                return (
                    b.opts.emoticonsUseImage &&
                    (a +=
                        '<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a href="http://emojione.com/" target="_blank" rel="nofollow">Emoji One</a></p>'),
                    (a += "</div>")
                );
            }

            function g(c, d) {
                b.html.insert(
                    '<span class="fr-emoticon fr-deletable' +
                    (d ? " fr-emoticon-img" : "") +
                    '"' +
                    (d ? ' style="background: url(' + d + ');"' : "") +
                    ">" +
                    (d ? "&nbsp;" : c) +
                    "</span>&nbsp;" +
                    a.FE.MARKERS, !0
                );
            }

            function h() {
                b.popups.hide("emoticons"), b.toolbar.showInline();
            }

            function i() {
                var c = function() {
                    for (
                        var a = b.$el
                            .get(0)
                            .querySelectorAll(".fr-emoticon:not(.fr-deletable)"),
                            c = 0; c < a.length; c++
                    )
                        a[c].className += " fr-deletable";
                };
                c(),
                    b.events.on("html.set", c),
                    b.events.on("html.get", function(c) {
                        for (var d = 0; d < b.opts.emoticonsSet.length; d++) {
                            var e = b.opts.emoticonsSet[d],
                                f = a("<div>")
                                .html(e.code)
                                .text();
                            c = c.split(f).join(e.code);
                        }
                        return c;
                    });
                var d = function() {
                    if (!b.selection.isCollapsed()) return !1;
                    var c = b.selection.element(),
                        d = b.selection.endElement();
                    if (a(c).hasClass("fr-emoticon")) return c;
                    if (a(d).hasClass("fr-emoticon")) return d;
                    var e = b.selection.ranges(0),
                        f = e.startContainer;
                    if (
                        f.nodeType == Node.ELEMENT_NODE &&
                        f.childNodes.length > 0 &&
                        e.startOffset > 0
                    ) {
                        var g = f.childNodes[e.startOffset - 1];
                        if (a(g).hasClass("fr-emoticon")) return g;
                    }
                    return !1;
                };
                b.events.on("keydown", function(c) {
                        if (b.keys.isCharacter(c.which) && b.selection.inEditor()) {
                            var e = b.selection.ranges(0),
                                f = d();
                            f &&
                                (0 === e.startOffset && b.selection.element() === f ?
                                    a(f).before(a.FE.MARKERS + a.FE.INVISIBLE_SPACE) :
                                    a(f).after(a.FE.INVISIBLE_SPACE + a.FE.MARKERS),
                                    b.selection.restore());
                        }
                    }),
                    b.events.on("keyup", function(c) {
                        for (
                            var e = b.$el.get(0).querySelectorAll(".fr-emoticon"), f = 0; f < e.length; f++
                        )
                            "undefined" != typeof e[f].textContent &&
                            0 === e[f].textContent.replace(/\u200B/gi, "").length &&
                            a(e[f]).remove();
                        if (!(c.which >= 37 && c.which <= 40)) {
                            var g = d();
                            g &&
                                (g.className || "").indexOf("fr-emoticon-img") &&
                                (a(g).append(a.FE.MARKERS), b.selection.restore());
                        }
                    });
            }
            return {
                _init: i,
                insert: g,
                showEmoticonsPopup: c,
                hideEmoticonsPopup: d,
                back: h
            };
        }),
        a.FE.DefineIcon("emoticons", { NAME: "smile-o" }),
        a.FE.RegisterCommand("emoticons", {
            title: "Emoticons",
            undo: !1,
            focus: !0,
            refreshOnCallback: !1,
            popup: !0,
            callback: function() {
                this.popups.isVisible("emoticons") ?
                    (this.$el.find(".fr-marker") &&
                        (this.events.disableBlur(), this.selection.restore()),
                        this.popups.hide("emoticons")) :
                    this.emoticons.showEmoticonsPopup();
            },
            plugin: "emoticons"
        }),
        a.FE.RegisterCommand("insertEmoticon", {
            callback: function(a, b) {
                this.emoticons.insert(
                        "&#x" + b + ";",
                        this.opts.emoticonsUseImage ?
                        "https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/" +
                        b +
                        ".svg" :
                        null
                    ),
                    this.emoticons.hideEmoticonsPopup();
            }
        }),
        a.FE.DefineIcon("emoticonsBack", { NAME: "arrow-left" }),
        a.FE.RegisterCommand("emoticonsBack", {
            title: "Back",
            undo: !1,
            focus: !1,
            back: !0,
            refreshAfterCallback: !1,
            callback: function() {
                this.emoticons.back();
            }
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            entities: "&amp;&lt;&gt;&quot;&apos;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"
        }),
        (a.FE.PLUGINS.entities = function(b) {
            function c(a) {
                var b = a.textContent;
                if (b.match(g)) {
                    for (var c = "", d = 0; d < b.length; d++)
                        c += h[b[d]] ? h[b[d]] : b[d];
                    a.textContent = c;
                }
            }

            function d(a) {
                if (a && ["STYLE", "SCRIPT"].indexOf(a.tagName) >= 0) return !0;
                for (var e = b.node.contents(a), f = 0; f < e.length; f++)
                    e[f].nodeType == Node.TEXT_NODE ? c(e[f]) : d(e[f]);
                a.nodeType == Node.TEXT_NODE && c(a);
            }

            function e(a) {
                return 0 === a.length ? "" : b.clean.exec(a, d);
            }

            function f() {
                b.opts.htmlSimpleAmpersand &&
                    (b.opts.entities = b.opts.entities.replace("&amp;", ""));
                var c = a("<div>")
                    .html(b.opts.entities)
                    .text(),
                    d = b.opts.entities.split(";");
                (h = {}), (g = "");
                for (var f = 0; f < c.length; f++) {
                    var i = c.charAt(f);
                    (h[i] = d[f] + ";"),
                    (g += "\\" + i + (f < c.length - 1 ? "|" : ""));
                }
                (g = new RegExp("(" + g + ")", "g")), b.events.on("html.get", e, !0);
            }
            var g, h;
            return { _init: f };
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.POPUP_TEMPLATES, {
            "file.insert": "[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]"
        }),
        a.extend(a.FE.DEFAULTS, {
            fileUploadURL: "https://i.froala.com/upload",
            fileUploadParam: "file",
            fileUploadParams: {},
            fileUploadToS3: !1,
            fileUploadMethod: "POST",
            fileMaxSize: 10485760,
            fileAllowedTypes: ["*"],
            fileInsertButtons: ["fileBack", "|"],
            fileUseSelectedText: !1
        }),
        (a.FE.PLUGINS.file = function(b) {
            function c() {
                var a = b.$tb.find('.fr-command[data-cmd="insertFile"]'),
                    c = b.popups.get("file.insert");
                if ((c || (c = s()), e(), !c.hasClass("fr-active"))) {
                    b.popups.refresh("file.insert"),
                        b.popups.setContainer("file.insert", b.$tb);
                    var d = a.offset().left + a.outerWidth() / 2,
                        f = a.offset().top + (b.opts.toolbarBottom ? 0 : a.outerHeight());
                    b.popups.show("file.insert", d, f, a.outerHeight());
                }
            }

            function d() {
                var a = b.popups.get("file.insert");
                a || (a = s()),
                    a
                    .find(".fr-layer.fr-active")
                    .removeClass("fr-active")
                    .addClass("fr-pactive"),
                    a.find(".fr-file-progress-bar-layer").addClass("fr-active"),
                    a.find(".fr-buttons").hide(),
                    f("Uploading", 0);
            }

            function e(a) {
                var c = b.popups.get("file.insert");
                c &&
                    (c
                        .find(".fr-layer.fr-pactive")
                        .addClass("fr-active")
                        .removeClass("fr-pactive"),
                        c.find(".fr-file-progress-bar-layer").removeClass("fr-active"),
                        c.find(".fr-buttons").show(),
                        a && b.popups.show("file.insert", null, null));
            }

            function f(a, c) {
                var d = b.popups.get("file.insert");
                if (d) {
                    var e = d.find(".fr-file-progress-bar-layer");
                    e.find("h3").text(a + (c ? " " + c + "%" : "")),
                        e.removeClass("fr-error"),
                        c ?
                        (e.find("div").removeClass("fr-indeterminate"),
                            e.find("div > span").css("width", c + "%")) :
                        e.find("div").addClass("fr-indeterminate");
                }
            }

            function g(a) {
                d();
                var c = b.popups.get("file.insert"),
                    e = c.find(".fr-file-progress-bar-layer");
                e.addClass("fr-error"), e.find("h3").text(a);
            }

            function h(a, c, d) {
                b.edit.on(),
                    b.events.focus(!0),
                    b.selection.restore(),
                    b.html.insert(
                        '<a href="' +
                        a +
                        '" id="fr-inserted-file" class="fr-file">' +
                        (c || b.selection.text()) +
                        "</a>"
                    );
                var e = b.$el.find("#fr-inserted-file");
                e.removeAttr("id"),
                    b.popups.hide("file.insert"),
                    b.undo.saveStep(),
                    b.events.trigger("file.inserted", [e, d]);
            }

            function i(c) {
                try {
                    if (b.events.trigger("file.uploaded", [c], !0) === !1)
                        return b.edit.on(), !1;
                    var d = a.parseJSON(c);
                    return d.link ? d : (n(z, c), !1);
                } catch (e) {
                    return n(B, c), !1;
                }
            }

            function j(c) {
                try {
                    var d = a(c)
                        .find("Location")
                        .text(),
                        e = a(c)
                        .find("Key")
                        .text();
                    return b.events.trigger("file.uploadedToS3", [d, e, c], !0) === !1 ?
                        (b.edit.on(), !1) :
                        d;
                } catch (f) {
                    return n(B, c), !1;
                }
            }

            function k(a) {
                var c = this.status,
                    d = this.response,
                    e = this.responseXML,
                    f = this.responseText;
                try {
                    if (b.opts.fileUploadToS3)
                        if (201 == c) {
                            var g = j(e);
                            g && h(g, a, d || e);
                        } else n(B, d || e);
                    else if (c >= 200 && 300 > c) {
                        var k = i(f);
                        k && h(k.link, a, d || f);
                    } else n(A, d || f);
                } catch (l) {
                    n(B, d || f);
                }
            }

            function l() {
                n(B, this.response || this.responseText || this.responseXML);
            }

            function m(a) {
                if (a.lengthComputable) {
                    var b = ((a.loaded / a.total) * 100) | 0;
                    f("Uploading", b);
                }
            }

            function n(a, c) {
                b.edit.on(),
                    g(b.language.translate("Something went wrong. Please try again.")),
                    b.events.trigger("file.error", [{ code: a, message: F[a] }, c]);
            }

            function o() {
                b.edit.on(), e(!0);
            }

            function p(a) {
                if (b.events.trigger("file.beforeUpload", [a]) === !1) return !1;
                if ("undefined" != typeof a && a.length > 0) {
                    var c = a[0];
                    if (c.size > b.opts.fileMaxSize) return n(C), !1;
                    if (
                        b.opts.fileAllowedTypes.indexOf("*") < 0 &&
                        b.opts.fileAllowedTypes.indexOf(c.type.replace(/file\//g, "")) < 0
                    )
                        return n(D), !1;
                    var e;
                    if (
                        (b.drag_support.formdata &&
                            (e = b.drag_support.formdata ? new FormData() : null),
                            e)
                    ) {
                        var f;
                        if (b.opts.fileUploadToS3 !== !1) {
                            e.append(
                                    "key",
                                    b.opts.fileUploadToS3.keyStart +
                                    new Date().getTime() +
                                    "-" +
                                    (c.name || "untitled")
                                ),
                                e.append("success_action_status", "201"),
                                e.append("X-Requested-With", "xhr"),
                                e.append("Content-Type", c.type);
                            for (f in b.opts.fileUploadToS3.params)
                                b.opts.fileUploadToS3.params.hasOwnProperty(f) &&
                                e.append(f, b.opts.fileUploadToS3.params[f]);
                        }
                        for (f in b.opts.fileUploadParams)
                            b.opts.fileUploadParams.hasOwnProperty(f) &&
                            e.append(f, b.opts.fileUploadParams[f]);
                        e.append(b.opts.fileUploadParam, c);
                        var g = b.opts.fileUploadURL;
                        b.opts.fileUploadToS3 &&
                            (g =
                                "https://" +
                                b.opts.fileUploadToS3.region +
                                ".amazonaws.com/" +
                                b.opts.fileUploadToS3.bucket);
                        var h = b.core.getXHR(g, b.opts.fileUploadMethod);
                        (h.onload = function() {
                            k.call(h, b.opts.fileUseSelectedText ? null : c.name);
                        }),
                        (h.onerror = l),
                        (h.upload.onprogress = m),
                        (h.onabort = o),
                        d(),
                            b.edit.off();
                        var i = b.popups.get("file.insert");
                        i &&
                            i.off("abortUpload").on("abortUpload", function() {
                                4 != h.readyState && h.abort();
                            }),
                            h.send(e);
                    }
                }
            }

            function q(c) {
                b.events.$on(
                        c,
                        "dragover dragenter",
                        ".fr-file-upload-layer",
                        function() {
                            return a(this).addClass("fr-drop"), !1;
                        }, !0
                    ),
                    b.events.$on(
                        c,
                        "dragleave dragend",
                        ".fr-file-upload-layer",
                        function() {
                            return a(this).removeClass("fr-drop"), !1;
                        }, !0
                    ),
                    b.events.$on(
                        c,
                        "drop",
                        ".fr-file-upload-layer",
                        function(d) {
                            d.preventDefault(),
                                d.stopPropagation(),
                                a(this).removeClass("fr-drop");
                            var e = d.originalEvent.dataTransfer;
                            if (e && e.files) {
                                var f = c.data("instance") || b;
                                f.file.upload(e.files);
                            }
                        }, !0
                    ),
                    b.events.$on(
                        c,
                        "change",
                        '.fr-file-upload-layer input[type="file"]',
                        function() {
                            if (this.files) {
                                var d = c.data("instance") || b;
                                d.file.upload(this.files);
                            }
                            a(this).val("");
                        }, !0
                    );
            }

            function r() {
                e();
            }

            function s(a) {
                if (a) return b.popups.onHide("file.insert", r), !0;
                var c = "";
                c =
                    '<div class="fr-buttons">' +
                    b.button.buildList(b.opts.fileInsertButtons) +
                    "</div>";
                var d = "";
                d =
                    '<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-' +
                    b.id +
                    '"><strong>' +
                    b.language.translate("Drop file") +
                    "</strong><br>(" +
                    b.language.translate("or click") +
                    ')<div class="fr-form"><input type="file" name="' +
                    b.opts.fileUploadParam +
                    '" accept="/*" tabIndex="-1"></div></div>';
                var e =
                    '<div class="fr-file-progress-bar-layer fr-layer"><h3 class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command" data-cmd="fileDismissError" tabIndex="2">OK</button></div></div>',
                    f = { buttons: c, upload_layer: d, progress_bar: e },
                    g = b.popups.create("file.insert", f);
                return q(g), g;
            }

            function t(c) {
                return a(c).hasClass("fr-file") ?
                    b.events.trigger("file.unlink", [c]) :
                    void 0;
            }

            function u(c) {
                var e = c.originalEvent.dataTransfer;
                if (e && e.files && e.files.length) {
                    var f = e.files[0];
                    if (
                        f &&
                        "undefined" != typeof f.type &&
                        f.type.indexOf("image") < 0 &&
                        (b.opts.fileAllowedTypes.indexOf(f.type) >= 0 ||
                            b.opts.fileAllowedTypes.indexOf("*") >= 0)
                    ) {
                        b.markers.remove(),
                            b.markers.insertAtPoint(c.originalEvent),
                            b.$el.find(".fr-marker").replaceWith(a.FE.MARKERS),
                            b.popups.hideAll();
                        var g = b.popups.get("file.insert");
                        return (
                            g || (g = s()),
                            b.popups.setContainer(
                                "file.insert",
                                a(b.opts.scrollableContainer)
                            ),
                            b.popups.show(
                                "file.insert",
                                c.originalEvent.pageX,
                                c.originalEvent.pageY
                            ),
                            d(),
                            p(e.files),
                            c.preventDefault(),
                            c.stopPropagation(), !1
                        );
                    }
                }
            }

            function v() {
                b.events.on("drop", u),
                    b.events.$on(b.$win, "keydown", function(c) {
                        var d = c.which,
                            e = b.popups.get("file.insert");
                        e && d == a.FE.KEYCODE.ESC && e.trigger("abortUpload");
                    }),
                    b.events.on("destroy", function() {
                        var a = b.popups.get("file.insert");
                        a && a.trigger("abortUpload");
                    });
            }

            function w() {
                b.events.disableBlur(),
                    b.selection.restore(),
                    b.events.enableBlur(),
                    b.popups.hide("file.insert"),
                    b.toolbar.showInline();
            }

            function x() {
                v(), b.events.on("link.beforeRemove", t), s(!0);
            }
            var y = 1,
                z = 2,
                A = 3,
                B = 4,
                C = 5,
                D = 6,
                E = 7,
                F = {};
            return (
                (F[y] = "File cannot be loaded from the passed link."),
                (F[z] = "No link in upload response."),
                (F[A] = "Error during file upload."),
                (F[B] = "Parsing response failed."),
                (F[C] = "File is too large."),
                (F[D] = "File file type is invalid."),
                (F[E] =
                    "Files can be uploaded only to same domain in IE 8 and IE 9."), {
                    _init: x,
                    showInsertPopup: c,
                    upload: p,
                    insert: h,
                    back: w,
                    hideProgressBar: e
                }
            );
        }),
        a.FE.DefineIcon("insertFile", { NAME: "file-o" }),
        a.FE.RegisterCommand("insertFile", {
            title: "Upload File",
            undo: !1,
            focus: !0,
            refreshAfterCallback: !1,
            popup: !0,
            callback: function() {
                this.popups.isVisible("file.insert") ?
                    (this.$el.find(".fr-marker") &&
                        (this.events.disableBlur(), this.selection.restore()),
                        this.popups.hide("file.insert")) :
                    this.file.showInsertPopup();
            },
            plugin: "file"
        }),
        a.FE.DefineIcon("fileBack", { NAME: "arrow-left" }),
        a.FE.RegisterCommand("fileBack", {
            title: "Back",
            undo: !1,
            focus: !1,
            back: !0,
            refreshAfterCallback: !1,
            callback: function() {
                this.file.back();
            },
            refresh: function(a) {
                this.opts.toolbarInline ?
                    (a.removeClass("fr-hidden"),
                        a.next(".fr-separator").removeClass("fr-hidden")) :
                    (a.addClass("fr-hidden"),
                        a.next(".fr-separator").addClass("fr-hidden"));
            }
        }),
        a.FE.RegisterCommand("fileDismissError", {
            title: "OK",
            callback: function() {
                this.file.hideProgressBar(!0);
            }
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            fontFamily: {
                "Arial,Helvetica,sans-serif": "Arial",
                "Georgia,serif": "Georgia",
                "Impact,Charcoal,sans-serif": "Impact",
                "Tahoma,Geneva,sans-serif": "Tahoma",
                "Times New Roman,Times,serif": "Times New Roman",
                "Verdana,Geneva,sans-serif": "Verdana"
            },
            fontFamilySelection: !1,
            fontFamilyDefaultSelection: "Font Family"
        }),
        (a.FE.PLUGINS.fontFamily = function(b) {
            function c(a) {
                b.format.applyStyle("font-family", a);
            }

            function d(a, b) {
                b.find(".fr-command.fr-active").removeClass("fr-active"),
                    b
                    .find('.fr-command[data-param1="' + g() + '"]')
                    .addClass("fr-active");
                var c = b.find(".fr-dropdown-list"),
                    d = b.find(".fr-active").parent();
                d.length ?
                    c
                    .parent()
                    .scrollTop(
                        d.offset().top -
                        c.offset().top -
                        (c.parent().outerHeight() / 2 - d.outerHeight() / 2)
                    ) :
                    c.parent().scrollTop(0);
            }

            function e(b) {
                var c = b
                    .replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi, "")
                    .replace(/"|'| /g, "")
                    .split(",");
                return a.grep(c, function(a) {
                    return a.length > 0;
                });
            }

            function f(a, b) {
                for (var c = 0; c < a.length; c++)
                    for (var d = 0; d < b.length; d++)
                        if (a[c] == b[d]) return [c, d];
                return null;
            }

            function g() {
                var c = a(b.selection.element()).css("font-family"),
                    d = e(c),
                    g = [];
                for (var h in b.opts.fontFamily)
                    if (b.opts.fontFamily.hasOwnProperty(h)) {
                        var i = e(h),
                            j = f(d, i);
                        j && g.push([h, j]);
                    }
                return 0 === g.length ?
                    null :
                    (g.sort(function(a, b) {
                            var c = a[1][0] - b[1][0];
                            return 0 === c ? a[1][1] - b[1][1] : c;
                        }),
                        g[0][0]);
            }

            function h(c) {
                if (b.opts.fontFamilySelection) {
                    var d = a(b.selection.element())
                        .css("font-family")
                        .replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi, "")
                        .replace(/"|'|/g, "")
                        .split(",");
                    c.find("> span").text(
                        b.opts.fontFamily[g()] ||
                        d[0] ||
                        b.opts.fontFamilyDefaultSelection
                    );
                }
            }
            return { apply: c, refreshOnShow: d, refresh: h };
        }),
        a.FE.RegisterCommand("fontFamily", {
            type: "dropdown",
            displaySelection: function(a) {
                return a.opts.fontFamilySelection;
            },
            defaultSelection: function(a) {
                return a.opts.fontFamilyDefaultSelection;
            },
            displaySelectionWidth: 120,
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.fontFamily;
                for (var c in b)
                    b.hasOwnProperty(c) &&
                    (a +=
                        '<li><a class="fr-command" data-cmd="fontFamily" data-param1="' +
                        c +
                        '" style="font-family: ' +
                        c +
                        '" title="' +
                        b[c] +
                        '">' +
                        b[c] +
                        "</a></li>");
                return (a += "</ul>");
            },
            title: "Font Family",
            callback: function(a, b) {
                this.fontFamily.apply(b);
            },
            refresh: function(a) {
                this.fontFamily.refresh(a);
            },
            refreshOnShow: function(a, b) {
                this.fontFamily.refreshOnShow(a, b);
            },
            plugin: "fontFamily"
        }),
        a.FE.DefineIcon("fontFamily", { NAME: "font" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            fontSize: [
                "8",
                "9",
                "10",
                "11",
                "12",
                "14",
                "18",
                "24",
                "30",
                "36",
                "48",
                "60",
                "72",
                "96"
            ],
            fontSizeSelection: !1,
            fontSizeDefaultSelection: "12"
        }),
        (a.FE.PLUGINS.fontSize = function(b) {
            function c(a) {
                b.format.applyStyle("font-size", a);
            }

            function d(c, d) {
                var e = a(b.selection.element()).css("font-size");
                d.find(".fr-command.fr-active").removeClass("fr-active"),
                    d
                    .find('.fr-command[data-param1="' + e + '"]')
                    .addClass("fr-active");
                var f = d.find(".fr-dropdown-list"),
                    g = d.find(".fr-active").parent();
                g.length ?
                    f
                    .parent()
                    .scrollTop(
                        g.offset().top -
                        f.offset().top -
                        (f.parent().outerHeight() / 2 - g.outerHeight() / 2)
                    ) :
                    f.parent().scrollTop(0);
            }

            function e(c) {
                if (b.opts.fontSizeSelection) {
                    var d = b.helpers.getPX(a(b.selection.element()).css("font-size"));
                    c.find("> span").text(d);
                }
            }
            return { apply: c, refreshOnShow: d, refresh: e };
        }),
        a.FE.RegisterCommand("fontSize", {
            type: "dropdown",
            title: "Font Size",
            displaySelection: function(a) {
                return a.opts.fontSizeSelection;
            },
            displaySelectionWidth: 30,
            defaultSelection: function(a) {
                return a.opts.fontSizeDefaultSelection;
            },
            html: function() {
                for (
                    var a = '<ul class="fr-dropdown-list">',
                        b = this.opts.fontSize,
                        c = 0; c < b.length; c++
                ) {
                    var d = b[c];
                    a +=
                        '<li><a class="fr-command" data-cmd="fontSize" data-param1="' +
                        d +
                        'px" title="' +
                        d +
                        '">' +
                        d +
                        "</a></li>";
                }
                return (a += "</ul>");
            },
            callback: function(a, b) {
                this.fontSize.apply(b);
            },
            refresh: function(a) {
                this.fontSize.refresh(a);
            },
            refreshOnShow: function(a, b) {
                this.fontSize.refreshOnShow(a, b);
            },
            plugin: "fontSize"
        }),
        a.FE.DefineIcon("fontSize", { NAME: "text-height" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.POPUP_TEMPLATES, {
            "forms.edit": "[_BUTTONS_]",
            "forms.update": "[_BUTTONS_][_TEXT_LAYER_]"
        }),
        a.extend(a.FE.DEFAULTS, {
            formEditButtons: ["inputStyle", "inputEdit"],
            formStyles: { "fr-rounded": "Rounded", "fr-large": "Large" },
            formMultipleStyles: !0,
            formUpdateButtons: ["inputBack", "|"]
        }),
        (a.FE.PLUGINS.forms = function(b) {
            function c(c) {
                c.preventDefault(),
                    b.selection.clear(),
                    a(this).data("mousedown", !0);
            }

            function d(b) {
                a(this).data("mousedown") &&
                    (b.stopPropagation(),
                        a(this).removeData("mousedown"),
                        (s = this),
                        j(this)),
                    b.preventDefault();
            }

            function e() {
                b.$el.find("input, textarea, button").removeData("mousedown");
            }

            function f() {
                a(this).removeData("mousedown");
            }

            function g() {
                b.events.$on(b.$el, b._mousedown, "input, textarea, button", c),
                    b.events.$on(b.$el, b._mouseup, "input, textarea, button", d),
                    b.events.$on(b.$el, "touchmove", "input, textarea, button", f),
                    b.events.$on(b.$el, b._mouseup, e),
                    b.events.$on(b.$win, b._mouseup, e),
                    m(!0);
            }

            function h() {
                return s ? s : null;
            }

            function i() {
                var a = "";
                b.opts.formEditButtons.length > 0 &&
                    (a =
                        '<div class="fr-buttons">' +
                        b.button.buildList(b.opts.formEditButtons) +
                        "</div>");
                var c = { buttons: a },
                    d = b.popups.create("forms.edit", c);
                return (
                    b.$wp &&
                    b.events.$on(b.$wp, "scroll.link-edit", function() {
                        get() && b.popups.isVisible("forms.edit") && j(h());
                    }),
                    d
                );
            }

            function j(c) {
                var d = b.popups.get("forms.edit");
                d || (d = i()), (s = c);
                var e = a(c);
                b.popups.refresh("forms.edit"),
                    b.popups.setContainer("forms.edit", a(b.opts.scrollableContainer));
                var f = e.offset().left + e.outerWidth() / 2,
                    g = e.offset().top + e.outerHeight();
                b.popups.show("forms.edit", f, g, e.outerHeight());
            }

            function k() {
                var c = b.popups.get("forms.update"),
                    d = h();
                if (d) {
                    var e = a(d);
                    e.is("button") ?
                        c.find('input[type="text"][name="text"]').val(e.text()) :
                        c
                        .find('input[type="text"][name="text"]')
                        .val(e.attr("placeholder"));
                }
                c.find('input[type="text"][name="text"]').trigger("change");
            }

            function l() {
                s = null;
            }

            function m(a) {
                if (a)
                    return (
                        b.popups.onRefresh("forms.update", k),
                        b.popups.onHide("forms.update", l), !0
                    );
                var c = "";
                b.opts.formUpdateButtons.length >= 1 &&
                    (c =
                        '<div class="fr-buttons">' +
                        b.button.buildList(b.opts.formUpdateButtons) +
                        "</div>");
                var d = "",
                    e = 0;
                (d = '<div class="fr-forms-text-layer fr-layer fr-active">'),
                (d +=
                    '<div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex="' +
                    ++e +
                    '"></div>'),
                (d +=
                    '<div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="' +
                    ++e +
                    '" type="button">' +
                    b.language.translate("Update") +
                    "</button></div></div>");
                var f = { buttons: c, text_layer: d },
                    g = b.popups.create("forms.update", f);
                return g;
            }

            function n() {
                var c = h();
                if (c) {
                    var d = a(c),
                        e = b.popups.get("forms.update");
                    e || (e = m()),
                        b.popups.isVisible("forms.update") ||
                        b.popups.refresh("forms.update"),
                        b.popups.setContainer(
                            "forms.update",
                            a(b.opts.scrollableContainer)
                        );
                    var f = d.offset().left + d.outerWidth() / 2,
                        g = d.offset().top + d.outerHeight();
                    b.popups.show("forms.update", f, g, d.outerHeight());
                }
            }

            function o(c, d, e) {
                "undefined" == typeof d && (d = b.opts.formStyles),
                    "undefined" == typeof e && (e = b.opts.formMultipleStyles);
                var f = h();
                if (!f) return !1;
                if (!e) {
                    var g = Object.keys(d);
                    g.splice(g.indexOf(c), 1), a(f).removeClass(g.join(" "));
                }
                a(f).toggleClass(c);
            }

            function p() {
                b.events.disableBlur(), b.selection.restore(), b.events.enableBlur();
                var a = h();
                a && b.$wp && ("BUTTON" == a.tagName && b.selection.restore(), j(a));
            }

            function q() {
                var c = b.popups.get("forms.update"),
                    d = h();
                if (d) {
                    var e = a(d),
                        f = c.find('input[type="text"][name="text"]').val() || "";
                    f.length && (e.is("button") ? e.text(f) : e.attr("placeholder", f)),
                        b.popups.hide("forms.update"),
                        j(d);
                }
            }

            function r() {
                g(),
                    b.events.$on(b.$el, "submit", "form", function(a) {
                        return a.preventDefault(), !1;
                    });
            }
            var s;
            return {
                _init: r,
                updateInput: q,
                getInput: h,
                applyStyle: o,
                showUpdatePopup: n,
                showEditPopup: j,
                back: p
            };
        }),
        a.FE.RegisterCommand("updateInput", {
            undo: !1,
            focus: !1,
            title: "Update",
            callback: function() {
                this.forms.updateInput();
            }
        }),
        a.FE.DefineIcon("inputStyle", { NAME: "magic" }),
        a.FE.RegisterCommand("inputStyle", {
            title: "Style",
            type: "dropdown",
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.formStyles;
                for (var c in b)
                    b.hasOwnProperty(c) &&
                    (a +=
                        '<li><a class="fr-command" data-cmd="inputStyle" data-param1="' +
                        c +
                        '">' +
                        this.language.translate(b[c]) +
                        "</a></li>");
                return (a += "</ul>");
            },
            callback: function(a, b) {
                var c = this.forms.getInput();
                c && (this.forms.applyStyle(b), this.forms.showEditPopup(c));
            },
            refreshOnShow: function(b, c) {
                var d = this.forms.getInput();
                if (d) {
                    var e = a(d);
                    c.find(".fr-command").each(function() {
                        var b = a(this).data("param1");
                        a(this).toggleClass("fr-active", e.hasClass(b));
                    });
                }
            }
        }),
        a.FE.DefineIcon("inputEdit", { NAME: "edit" }),
        a.FE.RegisterCommand("inputEdit", {
            title: "Edit Button",
            undo: !1,
            refreshAfterCallback: !1,
            callback: function() {
                this.forms.showUpdatePopup();
            }
        }),
        a.FE.DefineIcon("inputBack", { NAME: "arrow-left" }),
        a.FE.RegisterCommand("inputBack", {
            title: "Back",
            undo: !1,
            focus: !1,
            back: !0,
            refreshAfterCallback: !1,
            callback: function() {
                this.forms.back();
            }
        }),
        a.FE.RegisterCommand("updateInput", {
            undo: !1,
            focus: !1,
            title: "Update",
            callback: function() {
                this.forms.updateInput();
            }
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    (a.FE.PLUGINS.fullscreen = function(b) {
        function c() {
            return b.$box.hasClass("fr-fullscreen");
        }

        function d() {
            (i = a(b.o_win).scrollTop()),
            b.$box.toggleClass("fr-fullscreen"),
                a("body").toggleClass("fr-fullscreen"),
                (j = a('<div style="display: none;"></div>')),
                b.$box.after(j),
                b.helpers.isMobile() &&
                (b.$tb.data("parent", b.$tb.parent()),
                    b.$tb.prependTo(b.$box),
                    b.$tb.data("sticky-dummy") &&
                    b.$tb.after(b.$tb.data("sticky-dummy"))),
                (k = b.opts.height),
                (l = b.opts.heightMax),
                (b.opts.height =
                    b.o_win.innerHeight -
                    (b.opts.toolbarInline ? 0 : b.$tb.outerHeight())),
                (b.opts.heightMax = null),
                b.size.refresh(),
                b.opts.toolbarInline && b.toolbar.showInline();
            for (var c = b.$box.parent(); !c.is("body");)
                c.data("z-index", c.css("z-index")).css("z-index", "9990"),
                (c = c.parent());
            b.events.trigger("charCounter.update"), b.$win.trigger("scroll");
        }

        function e() {
            b.$box.toggleClass("fr-fullscreen"),
                a("body").toggleClass("fr-fullscreen"),
                b.$tb.prependTo(b.$tb.data("parent")),
                b.$tb.data("sticky-dummy") && b.$tb.after(b.$tb.data("sticky-dummy")),
                (b.opts.height = k),
                (b.opts.heightMax = l),
                b.size.refresh(),
                a(b.o_win).scrollTop(i),
                b.opts.toolbarInline && b.toolbar.showInline(),
                b.events.trigger("charCounter.update"),
                b.opts.toolbarSticky &&
                b.opts.toolbarStickyOffset &&
                (b.opts.toolbarBottom ?
                    b.$tb
                    .css("bottom", b.opts.toolbarStickyOffset)
                    .data("bottom", b.opts.toolbarStickyOffset) :
                    b.$tb
                    .css("top", b.opts.toolbarStickyOffset)
                    .data("top", b.opts.toolbarStickyOffset));
            for (var c = b.$box.parent(); !c.is("body");)
                c.data("z-index") &&
                (c.css("z-index", ""),
                    c.css("z-index") != c.data("z-index") &&
                    c.css("z-index", c.data("z-index")),
                    c.removeData("z-index")),
                (c = c.parent());
            b.$win.trigger("scroll");
        }

        function f() {
            c() ? e() : d(), g(b.$tb.find('.fr-command[data-cmd="fullscreen"]'));
        }

        function g(a) {
            var d = c();
            a.toggleClass("fr-active", d),
                a
                .find("> *")
                .replaceWith(
                    d ?
                    b.icon.create("fullscreenCompress") :
                    b.icon.create("fullscreen")
                );
        }

        function h() {
            return b.$wp ?
                (b.events.$on(a(b.o_win), "resize", function() {
                        c() && (e(), d());
                    }),
                    void b.events.on("toolbar.hide", function() {
                        return c() && b.helpers.isMobile() ? !1 : void 0;
                    })) :
                !1;
        }
        var i, j, k, l;
        return { _init: h, toggle: f, refresh: g, isActive: c };
    }),
    a.FE.RegisterCommand("fullscreen", {
            title: "Fullscreen",
            undo: !1,
            focus: !1,
            forcedRefresh: !0,
            callback: function() {
                this.fullscreen.toggle();
            },
            refresh: function(a) {
                this.fullscreen.refresh(a);
            },
            plugin: "fullscreen"
        }),
        a.FE.DefineIcon("fullscreen", { NAME: "expand" }),
        a.FE.DefineIcon("fullscreenCompress", { NAME: "compress" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.POPUP_TEMPLATES, {
            "image.insert": "[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]",
            "image.edit": "[_BUTTONS_]",
            "image.alt": "[_BUTTONS_][_ALT_LAYER_]",
            "image.size": "[_BUTTONS_][_SIZE_LAYER_]"
        }),
        a.extend(a.FE.DEFAULTS, {
            imageInsertButtons: ["imageBack", "|", "imageUpload", "imageByURL"],
            imageEditButtons: [
                "imageReplace",
                "imageAlign",
                "imageRemove",
                "|",
                "imageLink",
                "linkOpen",
                "linkEdit",
                "linkRemove",
                "-",
                "imageDisplay",
                "imageStyle",
                "imageAlt",
                "imageSize"
            ],
            imageAltButtons: ["imageBack", "|"],
            imageSizeButtons: ["imageBack", "|"],
            imageUploadURL: "https://i.froala.com/upload",
            imageUploadParam: "file",
            imageUploadParams: {},
            imageUploadToS3: !1,
            imageUploadMethod: "POST",
            imageMaxSize: 10485760,
            imageAllowedTypes: ["jpeg", "jpg", "png", "gif", "svg+xml"],
            imageResize: !0,
            imageResizeWithPercent: !1,
            imageRoundPercent: !1,
            imageDefaultWidth: 300,
            imageDefaultAlign: "center",
            imageDefaultDisplay: "block",
            imageSplitHTML: !1,
            imageStyles: { "fr-rounded": "Rounded", "fr-bordered": "Bordered" },
            imageMove: !0,
            imageMultipleStyles: !0,
            imageTextNear: !0,
            imagePaste: !0,
            imagePasteProcess: !1,
            imageMinWidth: 16,
            imageOutputSize: !1
        }),
        (a.FE.PLUGINS.image = function(b) {
            function c() {
                var a = b.popups.get("image.insert"),
                    c = a.find(".fr-image-by-url-layer input");
                c.val(""), qa && c.val(qa.attr("src")), c.trigger("change");
            }

            function d() {
                var a = b.$tb.find('.fr-command[data-cmd="insertImage"]'),
                    c = b.popups.get("image.insert");
                if ((c || (c = L()), r(), !c.hasClass("fr-active")))
                    if (
                        (b.popups.refresh("image.insert"),
                            b.popups.setContainer("image.insert", b.$tb),
                            a.is(":visible"))
                    ) {
                        var d = a.offset().left + a.outerWidth() / 2,
                            e =
                            a.offset().top +
                            (b.opts.toolbarBottom ? 10 : a.outerHeight() - 10);
                        b.popups.show("image.insert", d, e, a.outerHeight());
                    } else b.position.forSelection(c), b.popups.show("image.insert");
            }

            function e() {
                var c = b.popups.get("image.edit");
                c || (c = p()),
                    b.popups.setContainer("image.edit", a(b.opts.scrollableContainer)),
                    b.popups.refresh("image.edit");
                var d = qa.offset().left + qa.outerWidth() / 2,
                    e = qa.offset().top + qa.outerHeight();
                b.popups.show("image.edit", d, e, qa.outerHeight());
            }

            function f() {
                r();
            }

            function g(a) {
                if (!a.hasClass("fr-dii") && !a.hasClass("fr-dib")) {
                    var c = a.css("float");
                    a.css("float", "none"),
                        "block" == a.css("display") ?
                        (a.css("float", c),
                            b.opts.imageEditButtons.indexOf("imageAlign") >= 0 &&
                            (0 === parseInt(a.css("margin-left"), 10) &&
                                (a.attr("style") || "").indexOf("margin-right: auto") >= 0 ?
                                a.addClass("fr-fil") :
                                0 === parseInt(a.css("margin-right"), 10) &&
                                (a.attr("style") || "").indexOf("margin-left: auto") >=
                                0 &&
                                a.addClass("fr-fir")),
                            a.addClass("fr-dib")) :
                        (a.css("float", c),
                            b.opts.imageEditButtons.indexOf("imageAlign") >= 0 &&
                            ("left" == a.css("float") ?
                                a.addClass("fr-fil") :
                                "right" == a.css("float") && a.addClass("fr-fir")),
                            a.addClass("fr-dii")),
                        a.css("margin", ""),
                        a.css("float", ""),
                        a.css("display", ""),
                        a.css("z-index", ""),
                        a.css("position", ""),
                        a.css("overflow", ""),
                        a.css("vertical-align", "");
                }
            }

            function h() {
                for (
                    var c =
                        "IMG" == b.$el.get(0).tagName ? [b.$el.get(0)] :
                        b.$el.get(0).querySelectorAll("img"),
                        d = 0; d < c.length; d++
                ) {
                    var e = a(c[d]);
                    (b.opts.imageEditButtons.indexOf("imageAlign") >= 0 ||
                        b.opts.imageEditButtons.indexOf("imageDisplay") >= 0) &&
                    g(e),
                        e.attr("width") &&
                        (e.css("width", e.width()), e.removeAttr("width")),
                        b.opts.imageTextNear ||
                        e.removeClass("fr-dii").addClass("fr-dib"),
                        b.opts.iframe && e.on("load", b.size.syncIframe);
                }
            }

            function i() {
                var c,
                    d = Array.prototype.slice.call(
                        b.$el.get(0).querySelectorAll("img")
                    ),
                    e = [];
                for (c = 0; c < d.length; c++)
                    e.push(d[c].getAttribute("src")),
                    a(d[c]).toggleClass("fr-draggable", b.opts.imageMove),
                    "" === d[c].className && d[c].removeAttribute("class"),
                    "" === d[c].getAttribute("style") &&
                    d[c].removeAttribute("style");
                if (Da)
                    for (c = 0; c < Da.length; c++)
                        e.indexOf(Da[c].getAttribute("src")) < 0 &&
                        b.events.trigger("image.removed", [a(Da[c])]);
                Da = d;
            }

            function j() {
                ra || X();
                var c = b.$wp || a(b.opts.scrollableContainer);
                c.append(ra), ra.data("instance", b);
                var d =
                    c.scrollTop() -
                    ("static" != c.css("position") ? c.offset().top : 0),
                    e =
                    c.scrollLeft() -
                    ("static" != c.css("position") ? c.offset().left : 0);
                (e -= b.helpers.getPX(c.css("border-left-width"))),
                (d -= b.helpers.getPX(c.css("border-top-width"))),
                ra
                    .css(
                        "top",
                        (b.opts.iframe ? qa.offset().top : qa.offset().top + d) - 1
                    )
                    .css(
                        "left",
                        (b.opts.iframe ? qa.offset().left : qa.offset().left + e) - 1
                    )
                    .css("width", qa.get(0).getBoundingClientRect().width)
                    .css("height", qa.get(0).getBoundingClientRect().height)
                    .addClass("fr-active");
            }

            function k(a) {
                return '<div class="fr-handler fr-h' + a + '"></div>';
            }

            function l(c) {
                if (!b.core.sameInstance(ra)) return !0;
                if (
                    (c.preventDefault(),
                        c.stopPropagation(),
                        b.$el.find("img.fr-error").left)
                )
                    return !1;
                b.undo.canDo() || b.undo.saveStep(),
                    (sa = a(this)),
                    sa.data("start-x", c.pageX || c.originalEvent.touches[0].pageX),
                    sa.data("start-width", qa.width()),
                    sa.data("start-height", qa.height());
                var d = qa.width();
                if (b.opts.imageResizeWithPercent) {
                    var e =
                        qa.parentsUntil(b.$el, b.html.blockTagsQuery()).get(0) ||
                        b.$el.get(0);
                    qa.css("width", ((d / a(e).outerWidth()) * 100).toFixed(2) + "%");
                } else qa.css("width", d);
                ta.show(), b.popups.hideAll(), ea();
            }

            function m(c) {
                if (!b.core.sameInstance(ra)) return !0;
                if (sa && qa) {
                    if ((c.preventDefault(), b.$el.find("img.fr-error").left))
                        return !1;
                    var d =
                        c.pageX ||
                        (c.originalEvent.touches ?
                            c.originalEvent.touches[0].pageX :
                            null);
                    if (!d) return !1;
                    var e = sa.data("start-x"),
                        f = d - e,
                        g = sa.data("start-width");
                    if (
                        ((sa.hasClass("fr-hnw") || sa.hasClass("fr-hsw")) && (f = 0 - f),
                            b.opts.imageResizeWithPercent)
                    ) {
                        var h =
                            qa.parentsUntil(b.$el, b.html.blockTagsQuery()).get(0) ||
                            b.$el.get(0);
                        (g = (((g + f) / a(h).outerWidth()) * 100).toFixed(2)),
                        b.opts.imageRoundPercent && (g = Math.round(g)),
                            qa.css("width", g + "%"),
                            qa.css("height", "").removeAttr("height");
                    } else
                        g + f >= b.opts.imageMinWidth && qa.css("width", g + f),
                        qa.css(
                            "height",
                            (sa.data("start-height") * qa.width()) /
                            sa.data("start-width")
                        );
                    j(), b.events.trigger("image.resize", [oa()]);
                }
            }

            function n(a) {
                if (!b.core.sameInstance(ra)) return !0;
                if (sa && qa) {
                    if ((a && a.stopPropagation(), b.$el.find("img.fr-error").left))
                        return !1;
                    (sa = null),
                    ta.hide(),
                        j(),
                        e(),
                        b.undo.saveStep(),
                        b.events.trigger("image.resizeEnd", [oa()]);
                }
            }

            function o(a, c) {
                b.edit.on(),
                    qa && qa.addClass("fr-error"),
                    t(b.language.translate("Something went wrong. Please try again.")),
                    b.events.trigger("image.error", [{ code: a, message: Ca[a] }, c]);
            }

            function p(a) {
                if (a)
                    return (
                        b.$wp &&
                        b.events.$on(b.$wp, "scroll", function() {
                            qa && b.popups.isVisible("image.edit") && e();
                        }), !0
                    );
                var c = "";
                b.opts.imageEditButtons.length > 0 &&
                    ((c += '<div class="fr-buttons">'),
                        (c += b.button.buildList(b.opts.imageEditButtons)),
                        (c += "</div>"));
                var d = { buttons: c },
                    f = b.popups.create("image.edit", d);
                return f;
            }

            function q(c) {
                var d = b.popups.get("image.insert");
                if (
                    (d || (d = L()),
                        d
                        .find(".fr-layer.fr-active")
                        .removeClass("fr-active")
                        .addClass("fr-pactive"),
                        d.find(".fr-image-progress-bar-layer").addClass("fr-active"),
                        d.find(".fr-buttons").hide(),
                        qa)
                ) {
                    b.popups.setContainer(
                        "image.insert",
                        a(b.opts.scrollableContainer)
                    );
                    var e = qa.offset().left + qa.width() / 2,
                        f = qa.offset().top + qa.height();
                    b.popups.show("image.insert", e, f, qa.outerHeight());
                }
                "undefined" == typeof c && s("Uploading", 0);
            }

            function r(a) {
                var c = b.popups.get("image.insert");
                c &&
                    (c
                        .find(".fr-layer.fr-pactive")
                        .addClass("fr-active")
                        .removeClass("fr-pactive"),
                        c.find(".fr-image-progress-bar-layer").removeClass("fr-active"),
                        c.find(".fr-buttons").show(),
                        (a || b.$el.find("img.fr-error").length) &&
                        (b.events.focus(),
                            b.$el.find("img.fr-error").remove(),
                            b.undo.saveStep(),
                            b.undo.run(),
                            b.undo.dropRedo()));
            }

            function s(a, c) {
                var d = b.popups.get("image.insert");
                if (d) {
                    var e = d.find(".fr-image-progress-bar-layer");
                    e.find("h3").text(a + (c ? " " + c + "%" : "")),
                        e.removeClass("fr-error"),
                        c ?
                        (e.find("div").removeClass("fr-indeterminate"),
                            e.find("div > span").css("width", c + "%")) :
                        e.find("div").addClass("fr-indeterminate");
                }
            }

            function t(a) {
                q();
                var c = b.popups.get("image.insert"),
                    d = c.find(".fr-image-progress-bar-layer");
                d.addClass("fr-error"), d.find("h3").text(a);
            }

            function u() {
                var a = b.popups.get("image.insert"),
                    c = a.find(".fr-image-by-url-layer input");
                c.val().length > 0 &&
                    (q(),
                        s("Loading image"),
                        x(c.val(), !0, [], qa),
                        c.val(""),
                        c.blur());
            }

            function v(a) {
                ba.call(a.get(0));
            }

            function w() {
                var c = a(this);
                b.popups.hide("image.insert"),
                    c.removeClass("fr-uploading"),
                    c.next().is("br") && c.next().remove(),
                    v(c),
                    b.events.trigger("image.loaded", [c]);
            }

            function x(a, c, d, e, f) {
                b.edit.off(), s("Loading image"), c && (a = b.helpers.sanitizeURL(a));
                var g = new Image();
                (g.onload = function() {
                    var c, g;
                    if (e) {
                        var h = e.data("fr-old-src");
                        b.$wp ?
                            ((c = e
                                    .clone()
                                    .removeData("fr-old-src")
                                    .removeClass("fr-uploading")),
                                c.off("load"),
                                h && e.attr("src", h),
                                e.replaceWith(c)) :
                            (c = e);
                        for (var j = c.get(0).attributes, k = 0; k < j.length; k++) {
                            var l = j[k];
                            0 === l.nodeName.indexOf("data-") && c.removeAttr(l.nodeName);
                        }
                        if ("undefined" != typeof d)
                            for (g in d)
                                d.hasOwnProperty(g) &&
                                "link" != g &&
                                c.attr("data-" + g, d[g]);
                        c.on("load", w),
                            c.attr("src", a),
                            b.edit.on(),
                            i(),
                            b.undo.saveStep(),
                            b.events.trigger(h ? "image.replaced" : "image.inserted", [
                                c,
                                f
                            ]);
                    } else
                        (c = D(a, d, w)),
                        i(),
                        b.undo.saveStep(),
                        b.events.trigger("image.inserted", [c, f]);
                }),
                (g.onerror = function() {
                    o(va);
                }),
                (g.src = a);
            }

            function y(c) {
                try {
                    if (b.events.trigger("image.uploaded", [c], !0) === !1)
                        return b.edit.on(), !1;
                    var d = a.parseJSON(c);
                    return d.link ? d : (o(wa, c), !1);
                } catch (e) {
                    return o(ya, c), !1;
                }
            }

            function z(c) {
                try {
                    var d = a(c)
                        .find("Location")
                        .text(),
                        e = a(c)
                        .find("Key")
                        .text();
                    return b.events.trigger("image.uploadedToS3", [d, e, c], !0) === !1 ?
                        (b.edit.on(), !1) :
                        d;
                } catch (f) {
                    return o(ya, c), !1;
                }
            }

            function A(a) {
                s("Loading image");
                var c = this.status,
                    d = this.response,
                    e = this.responseXML,
                    f = this.responseText;
                try {
                    if (b.opts.imageUploadToS3)
                        if (201 == c) {
                            var g = z(e);
                            g && x(g, !1, [], a, d || e);
                        } else o(ya, d || e);
                    else if (c >= 200 && 300 > c) {
                        var h = y(f);
                        h && x(h.link, !1, h, a, d || f);
                    } else o(xa, d || f);
                } catch (i) {
                    o(ya, d || f);
                }
            }

            function B() {
                o(ya, this.response || this.responseText || this.responseXML);
            }

            function C(a) {
                if (a.lengthComputable) {
                    var b = ((a.loaded / a.total) * 100) | 0;
                    s("Uploading", b);
                }
            }

            function D(c, d, e) {
                var f,
                    g = "";
                if (d && "undefined" != typeof d)
                    for (f in d)
                        d.hasOwnProperty(f) &&
                        "link" != f &&
                        (g += " data-" + f + '="' + d[f] + '"');
                var h = b.opts.imageDefaultWidth;
                h && "auto" != h && (h += b.opts.imageResizeWithPercent ? "%" : "px");
                var i = a(
                    '<img class="' +
                    (b.opts.imageDefaultDisplay ?
                        "fr-di" + b.opts.imageDefaultDisplay[0] :
                        "") +
                    (b.opts.imageDefaultAlign && "center" != b.opts.imageDefaultAlign ?
                        " fr-fi" + b.opts.imageDefaultAlign[0] :
                        "") +
                    '" src="' +
                    c +
                    '"' +
                    g +
                    (h ? ' style="width: ' + h + ';"' : "") +
                    ">"
                );
                i.on("load", e),
                    b.edit.on(),
                    b.events.focus(!0),
                    b.selection.restore(),
                    b.undo.saveStep(),
                    b.opts.imageSplitHTML ? b.markers.split() : b.markers.insert();
                var j = b.$el.find(".fr-marker");
                return j.replaceWith(i), b.html.wrap(), b.selection.clear(), i;
            }

            function E() {
                b.edit.on(), r(!0);
            }

            function F(c, d, e) {
                function f() {
                    var e = a(this);
                    e.off("load"),
                        e.addClass("fr-uploading"),
                        e.next().is("br") && e.next().remove(),
                        b.placeholder.refresh(),
                        e.is(qa) || v(e),
                        j(),
                        q(),
                        b.edit.off(),
                        (c.onload = function() {
                            A.call(c, e);
                        }),
                        (c.onerror = B),
                        (c.upload.onprogress = C),
                        (c.onabort = E),
                        e.off("abortUpload").on("abortUpload", function() {
                            4 != c.readyState && c.abort();
                        }),
                        c.send(d);
                }
                var g,
                    h = new FileReader();
                h.addEventListener(
                        "load",
                        function() {
                            var a = h.result;
                            if (h.result.indexOf("svg+xml") < 0) {
                                for (
                                    var c = atob(h.result.split(",")[1]), d = [], e = 0; e < c.length; e++
                                )
                                    d.push(c.charCodeAt(e));
                                a = window.URL.createObjectURL(
                                    new Blob([new Uint8Array(d)], { type: "image/jpeg" })
                                );
                            }
                            qa
                                ?
                                (qa.on("load", f),
                                    b.edit.on(),
                                    b.undo.saveStep(),
                                    qa.data("fr-old-src", qa.attr("src")),
                                    qa.attr("src", a)) :
                                (g = D(a, null, f));
                        }, !1
                    ),
                    h.readAsDataURL(e);
            }

            function G(a) {
                if (b.events.trigger("image.beforeUpload", [a]) === !1) return !1;
                if ("undefined" != typeof a && a.length > 0) {
                    var c = a[0];
                    if (c.size > b.opts.imageMaxSize) return o(za), !1;
                    if (
                        b.opts.imageAllowedTypes.indexOf(c.type.replace(/image\//g, "")) <
                        0
                    )
                        return o(Aa), !1;
                    var d;
                    if (
                        (b.drag_support.formdata &&
                            (d = b.drag_support.formdata ? new FormData() : null),
                            d)
                    ) {
                        var e;
                        if (b.opts.imageUploadToS3 !== !1) {
                            d.append(
                                    "key",
                                    b.opts.imageUploadToS3.keyStart +
                                    new Date().getTime() +
                                    "-" +
                                    (c.name || "untitled")
                                ),
                                d.append("success_action_status", "201"),
                                d.append("X-Requested-With", "xhr"),
                                d.append("Content-Type", c.type);
                            for (e in b.opts.imageUploadToS3.params)
                                b.opts.imageUploadToS3.params.hasOwnProperty(e) &&
                                d.append(e, b.opts.imageUploadToS3.params[e]);
                        }
                        for (e in b.opts.imageUploadParams)
                            b.opts.imageUploadParams.hasOwnProperty(e) &&
                            d.append(e, b.opts.imageUploadParams[e]);
                        d.append(b.opts.imageUploadParam, c);
                        var f = b.opts.imageUploadURL;
                        b.opts.imageUploadToS3 &&
                            (f =
                                "https://" +
                                b.opts.imageUploadToS3.region +
                                ".amazonaws.com/" +
                                b.opts.imageUploadToS3.bucket);
                        var g = b.core.getXHR(f, b.opts.imageUploadMethod);
                        F(g, d, c);
                    }
                }
            }

            function H(c) {
                b.events.$on(
                        c,
                        "dragover dragenter",
                        ".fr-image-upload-layer",
                        function() {
                            return a(this).addClass("fr-drop"), !1;
                        }
                    ),
                    b.events.$on(
                        c,
                        "dragleave dragend",
                        ".fr-image-upload-layer",
                        function() {
                            return a(this).removeClass("fr-drop"), !1;
                        }
                    ),
                    b.events.$on(c, "drop", ".fr-image-upload-layer", function(d) {
                        d.preventDefault(),
                            d.stopPropagation(),
                            a(this).removeClass("fr-drop");
                        var e = d.originalEvent.dataTransfer;
                        if (e && e.files) {
                            var f = c.data("instance") || b;
                            f.events.disableBlur(),
                                f.image.upload(e.files),
                                f.events.enableBlur();
                        }
                    }),
                    b.events.$on(
                        c,
                        "change",
                        '.fr-image-upload-layer input[type="file"]',
                        function() {
                            if (this.files) {
                                var d = c.data("instance") || b;
                                d.events.disableBlur(),
                                    c.find("input:focus").blur(),
                                    d.events.enableBlur(),
                                    d.image.upload(this.files);
                            }
                            a(this).val("");
                        }
                    );
            }

            function I(c) {
                var d = c.originalEvent.dataTransfer;
                if (d && d.files && d.files.length) {
                    var e = d.files[0];
                    if (
                        e &&
                        e.type &&
                        b.opts.imageAllowedTypes.indexOf(
                            e.type.replace(/image\//g, "")
                        ) >= 0
                    ) {
                        b.markers.remove(),
                            b.markers.insertAtPoint(c.originalEvent),
                            b.$el.find(".fr-marker").replaceWith(a.FE.MARKERS),
                            b.popups.hideAll();
                        var f = b.popups.get("image.insert");
                        return (
                            f || (f = L()),
                            b.popups.setContainer(
                                "image.insert",
                                a(b.opts.scrollableContainer)
                            ),
                            b.popups.show(
                                "image.insert",
                                c.originalEvent.pageX,
                                c.originalEvent.pageY
                            ),
                            q(),
                            G(d.files),
                            c.preventDefault(),
                            c.stopPropagation(), !1
                        );
                    }
                }
            }

            function J() {
                var c,
                    d,
                    e = b.selection.ranges(0);
                e.collapsed &&
                    e.startContainer.nodeType == Node.ELEMENT_NODE &&
                    (e.startContainer.childNodes.length == e.startOffset ?
                        ((c = e.startContainer.childNodes[e.startOffset - 1]),
                            c &&
                            "IMG" == c.tagName &&
                            "block" == a(c).css("display") &&
                            ((d = b.node.blockParent(c)),
                                d && b.html.defaultTag() ?
                                d.nextSibling ||
                                (["TD", "TH"].indexOf(d.tagName) < 0 ?
                                    a(d).after(
                                        "<" +
                                        b.html.defaultTag() +
                                        "><br>" +
                                        a.FE.MARKERS +
                                        "</" +
                                        b.html.defaultTag() +
                                        ">"
                                    ) :
                                    a(img).after("<br>" + a.FE.MARKERS),
                                    b.selection.restore()) :
                                d ||
                                (a(c).after("<br>" + a.FE.MARKERS),
                                    b.selection.restore()))) :
                        0 === e.startOffset &&
                        e.startContainer.childNodes.length > e.startOffset &&
                        ((c = e.startContainer.childNodes[e.startOffset]),
                            c &&
                            "IMG" == c.tagName &&
                            "block" == a(c).css("display") &&
                            ((d = b.node.blockParent(c)),
                                d && b.html.defaultTag() ?
                                d.previousSibling ||
                                (["TD", "TH"].indexOf(d.tagName) < 0 ?
                                    a(d).before(
                                        "<" +
                                        b.html.defaultTag() +
                                        "><br>" +
                                        a.FE.MARKERS +
                                        "</" +
                                        b.html.defaultTag() +
                                        ">"
                                    ) :
                                    a(img).before("<br>" + a.FE.MARKERS),
                                    b.selection.restore()) :
                                d ||
                                (a(c).before(a.FE.MARKERS + "<br>"),
                                    b.selection.restore()))));
            }

            function K() {
                b.events.$on(
                        b.$el,
                        b._mousedown,
                        "IMG" == b.$el.get(0).tagName ?
                        null :
                        'img:not([contenteditable="false"])',
                        function(c) {
                            return a(this).parents(
                                    '[contenteditable="false"]:not(.fr-element):not(body)'
                                ).length ?
                                !0 :
                                (b.selection.clear(),
                                    (ua = !0),
                                    b.browser.msie &&
                                    (b.events.disableBlur(), b.$el.attr("contenteditable", !1)),
                                    b.draggable || c.preventDefault(),
                                    void c.stopPropagation());
                        }
                    ),
                    b.events.$on(
                        b.$el,
                        b._mouseup,
                        "IMG" == b.$el.get(0).tagName ?
                        null :
                        'img:not([contenteditable="false"])',
                        function(c) {
                            return a(this).parents(
                                    '[contenteditable="false"]:not(.fr-element):not(body)'
                                ).length ?
                                !0 :
                                void(
                                    ua &&
                                    ((ua = !1),
                                        c.stopPropagation(),
                                        b.browser.msie &&
                                        (b.$el.attr("contenteditable", !0),
                                            b.events.enableBlur()))
                                );
                        }
                    ),
                    b.events.on(
                        "keyup",
                        function(c) {
                            if (
                                c.shiftKey &&
                                "" === b.selection.text().replace(/\n/g, "")
                            ) {
                                var d = b.selection.element(),
                                    e = b.selection.endElement();
                                d && "IMG" == d.tagName ?
                                    v(a(d)) :
                                    e && "IMG" == e.tagName && v(a(e));
                            }
                        }, !0
                    ),
                    b.events.on("drop", I),
                    b.events.on("mousedown window.mousedown", da),
                    b.events.on("window.touchmove", ea),
                    b.events.on("mouseup window.mouseup", function() {
                        return qa ? (ca(), !1) : void 0;
                    }),
                    b.events.on("commands.mousedown", function(a) {
                        a.parents(".fr-toolbar").length > 0 && ca();
                    }),
                    b.events.on("mouseup", J),
                    b.events.on(
                        "blur image.hideResizer commands.undo commands.redo element.dropped",
                        function() {
                            (ua = !1), ca(!0);
                        }
                    );
            }

            function L(a) {
                if (a)
                    return (
                        b.popups.onRefresh("image.insert", c),
                        b.popups.onHide("image.insert", f), !0
                    );
                var d,
                    e = "";
                b.opts.imageInsertButtons.length > 1 &&
                    (e =
                        '<div class="fr-buttons">' +
                        b.button.buildList(b.opts.imageInsertButtons) +
                        "</div>");
                var g = b.opts.imageInsertButtons.indexOf("imageUpload"),
                    h = b.opts.imageInsertButtons.indexOf("imageByURL"),
                    i = "";
                g >= 0 &&
                    ((d = " fr-active"),
                        h >= 0 && g > h && (d = ""),
                        (i =
                            '<div class="fr-image-upload-layer' +
                            d +
                            ' fr-layer" id="fr-image-upload-layer-' +
                            b.id +
                            '"><strong>' +
                            b.language.translate("Drop image") +
                            "</strong><br>(" +
                            b.language.translate("or click") +
                            ')<div class="fr-form"><input type="file" accept="image/' +
                            b.opts.imageAllowedTypes.join(", image/").toLowerCase() +
                            '" tabIndex="-1"></div></div>'));
                var j = "";
                h >= 0 &&
                    ((d = " fr-active"),
                        g >= 0 && h > g && (d = ""),
                        (j =
                            '<div class="fr-image-by-url-layer' +
                            d +
                            ' fr-layer" id="fr-image-by-url-layer-' +
                            b.id +
                            '"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2">' +
                            b.language.translate("Insert") +
                            "</button></div></div>"));
                var k =
                    '<div class="fr-image-progress-bar-layer fr-layer"><h3 class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-back" data-cmd="imageDismissError" tabIndex="2">OK</button></div></div>',
                    l = {
                        buttons: e,
                        upload_layer: i,
                        by_url_layer: j,
                        progress_bar: k
                    },
                    m = b.popups.create("image.insert", l);
                return (
                    b.$wp &&
                    b.events.$on(b.$wp, "scroll", function() {
                        qa && b.popups.isVisible("image.insert") && la();
                    }),
                    H(m),
                    m
                );
            }

            function M() {
                if (qa) {
                    var a = b.popups.get("image.alt");
                    a.find("input")
                        .val(qa.attr("alt") || "")
                        .trigger("change");
                }
            }

            function N() {
                var c = b.popups.get("image.alt");
                c || (c = O()),
                    r(),
                    b.popups.refresh("image.alt"),
                    b.popups.setContainer("image.alt", a(b.opts.scrollableContainer));
                var d = qa.offset().left + qa.width() / 2,
                    e = qa.offset().top + qa.height();
                b.popups.show("image.alt", d, e, qa.outerHeight());
            }

            function O(a) {
                if (a) return b.popups.onRefresh("image.alt", M), !0;
                var c = "";
                c =
                    '<div class="fr-buttons">' +
                    b.button.buildList(b.opts.imageAltButtons) +
                    "</div>";
                var d = "";
                d =
                    '<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-' +
                    b.id +
                    '"><div class="fr-input-line"><input type="text" placeholder="' +
                    b.language.translate("Alternate Text") +
                    '" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2">' +
                    b.language.translate("Update") +
                    "</button></div></div>";
                var e = { buttons: c, alt_layer: d },
                    f = b.popups.create("image.alt", e);
                return (
                    b.$wp &&
                    b.events.$on(b.$wp, "scroll.image-alt", function() {
                        qa && b.popups.isVisible("image.alt") && N();
                    }),
                    f
                );
            }

            function P(a) {
                if (qa) {
                    var c = b.popups.get("image.alt");
                    qa.attr("alt", a || c.find("input").val() || ""),
                        c.find("input:focus").blur(),
                        v(qa);
                }
            }

            function Q() {
                if (qa) {
                    var a = b.popups.get("image.size");
                    a
                        .find('input[name="width"]')
                        .val(qa.get(0).style.width)
                        .trigger("change"),
                        a
                        .find('input[name="height"]')
                        .val(qa.get(0).style.height)
                        .trigger("change");
                }
            }

            function R() {
                var c = b.popups.get("image.size");
                c || (c = S()),
                    r(),
                    b.popups.refresh("image.size"),
                    b.popups.setContainer("image.size", a(b.opts.scrollableContainer));
                var d = qa.offset().left + qa.width() / 2,
                    e = qa.offset().top + qa.height();
                b.popups.show("image.size", d, e, qa.outerHeight());
            }

            function S(a) {
                if (a) return b.popups.onRefresh("image.size", Q), !0;
                var c = "";
                c =
                    '<div class="fr-buttons">' +
                    b.button.buildList(b.opts.imageSizeButtons) +
                    "</div>";
                var d = "";
                d =
                    '<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-' +
                    b.id +
                    '"><div class="fr-image-group"><div class="fr-input-line"><input type="text" name="width" placeholder="' +
                    b.language.translate("Width") +
                    '" tabIndex="1"></div><div class="fr-input-line"><input type="text" name="height" placeholder="' +
                    b.language.translate("Height") +
                    '" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2">' +
                    b.language.translate("Update") +
                    "</button></div></div>";
                var e = { buttons: c, size_layer: d },
                    f = b.popups.create("image.size", e);
                return (
                    b.$wp &&
                    b.events.$on(b.$wp, "scroll.image-size", function() {
                        qa && b.popups.isVisible("image.size") && R();
                    }),
                    f
                );
            }

            function T(a, c) {
                if (qa) {
                    var d = b.popups.get("image.size");
                    qa.css("width", a || d.find('input[name="width"]').val()),
                        qa.css("height", c || d.find('input[name="height"]').val()),
                        d.find("input:focus").blur(),
                        v(qa);
                }
            }

            function U(a) {
                var c,
                    d,
                    e = b.popups.get("image.insert");
                if (qa || b.opts.toolbarInline)
                    qa && (d = qa.offset().top + qa.outerHeight());
                else {
                    var f = b.$tb.find('.fr-command[data-cmd="insertImage"]');
                    (c = f.offset().left + f.outerWidth() / 2),
                    (d =
                        f.offset().top +
                        (b.opts.toolbarBottom ? 10 : f.outerHeight() - 10));
                }!qa &&
                    b.opts.toolbarInline &&
                    ((d = e.offset().top - b.helpers.getPX(e.css("margin-top"))),
                        e.hasClass("fr-above") && (d += e.outerHeight())),
                    e.find(".fr-layer").removeClass("fr-active"),
                    e.find(".fr-" + a + "-layer").addClass("fr-active"),
                    b.popups.show("image.insert", c, d, qa ? qa.outerHeight() : 0);
            }

            function V(a) {
                var c = b.popups.get("image.insert");
                c.find(".fr-image-upload-layer").hasClass("fr-active") &&
                    a.addClass("fr-active");
            }

            function W(a) {
                var c = b.popups.get("image.insert");
                c.find(".fr-image-by-url-layer").hasClass("fr-active") &&
                    a.addClass("fr-active");
            }

            function X() {
                var c;
                b.shared.$image_resizer ?
                    ((ra = b.shared.$image_resizer),
                        (ta = b.shared.$img_overlay),
                        b.events.on(
                            "destroy",
                            function() {
                                ra.removeClass("fr-active").appendTo(a("body"));
                            }, !0
                        )) :
                    ((b.shared.$image_resizer = a(
                            '<div class="fr-image-resizer"></div>'
                        )),
                        (ra = b.shared.$image_resizer),
                        b.events.$on(
                            ra,
                            "mousedown",
                            function(a) {
                                a.stopPropagation();
                            }, !0
                        ),
                        b.opts.imageResize &&
                        (ra.append(k("nw") + k("ne") + k("sw") + k("se")),
                            (b.shared.$img_overlay = a(
                                '<div class="fr-image-overlay"></div>'
                            )),
                            (ta = b.shared.$img_overlay),
                            (c = ra.get(0).ownerDocument),
                            a(c)
                            .find("body")
                            .append(ta))),
                    b.events.on(
                        "shared.destroy",
                        function() {
                            ra
                                .html("")
                                .removeData()
                                .remove(),
                                (ra = null),
                                b.opts.imageResize && (ta.remove(), (ta = null));
                        }, !0
                    ),
                    b.helpers.isMobile() ||
                    b.events.$on(a(b.o_win), "resize", function() {
                        qa && !qa.hasClass("fr-uploading") ?
                            ca(!0) :
                            qa && (j(), la(), q(!1));
                    }),
                    b.opts.imageResize &&
                    ((c = ra.get(0).ownerDocument),
                        b.events.$on(ra, b._mousedown, ".fr-handler", l),
                        b.events.$on(a(c), b._mousemove, m),
                        b.events.$on(a(c.defaultView || c.parentWindow), b._mouseup, n),
                        b.events.$on(ta, "mouseleave", n));
            }

            function Y(c) {
                (c = c || qa),
                c &&
                    b.events.trigger("image.beforeRemove", [c]) !== !1 &&
                    (b.popups.hideAll(),
                        ca(!0),
                        c.get(0) == b.$el.get(0) ?
                        c.removeAttr("src") :
                        ("A" == c.get(0).parentNode.tagName ?
                            (b.selection.setBefore(c.get(0).parentNode) ||
                                b.selection.setAfter(c.get(0).parentNode) ||
                                c.parent().after(a.FE.MARKERS),
                                a(c.get(0).parentNode).remove()) :
                            (b.selection.setBefore(c.get(0)) ||
                                b.selection.setAfter(c.get(0)) ||
                                c.after(a.FE.MARKERS),
                                c.remove()),
                            b.html.fillEmptyBlocks(),
                            b.selection.restore()),
                        b.undo.saveStep());
            }

            function Z() {
                if (
                    (K(),
                        "IMG" == b.$el.get(0).tagName && b.$el.addClass("fr-view"),
                        b.events.$on(
                            b.$el,
                            b.helpers.isMobile() && !b.helpers.isWindowsPhone() ?
                            "touchend" :
                            "click",
                            "IMG" == b.$el.get(0).tagName ?
                            null :
                            'img:not([contenteditable="false"])',
                            ba
                        ),
                        b.helpers.isMobile() &&
                        (b.events.$on(
                                b.$el,
                                "touchstart",
                                "IMG" == b.$el.get(0).tagName ?
                                null :
                                'img:not([contenteditable="false"])',
                                function() {
                                    Ea = !1;
                                }
                            ),
                            b.events.$on(b.$el, "touchmove", function() {
                                Ea = !0;
                            })),
                        b.events.on(
                            "window.keydown keydown",
                            function(c) {
                                var d = c.which;
                                if (
                                    qa &&
                                    (d == a.FE.KEYCODE.BACKSPACE || d == a.FE.KEYCODE.DELETE)
                                )
                                    return c.preventDefault(), c.stopPropagation(), Y(), !1;
                                if (qa && d == a.FE.KEYCODE.ESC) {
                                    var e = qa;
                                    return (
                                        ca(!0),
                                        b.selection.setAfter(e.get(0)),
                                        b.selection.restore(),
                                        c.preventDefault(), !1
                                    );
                                }
                                return qa && !b.keys.ctrlKey(c) ?
                                    (c.preventDefault(), !1) :
                                    void 0;
                            }, !0
                        ),
                        b.events.on(
                            "window.cut window.copy",
                            function(c) {
                                qa &&
                                    (ma(),
                                        (a.FE.copied_text = "\n"),
                                        (a.FE.copied_html = qa.get(0).outerHTML),
                                        "copy" == c.type ?
                                        setTimeout(function() {
                                            v(qa);
                                        }) :
                                        (ca(!0),
                                            b.undo.saveStep(),
                                            setTimeout(function() {
                                                b.undo.saveStep();
                                            }, 0)));
                            }, !0
                        ),
                        b.events.$on(a(b.o_win), "keydown", function(b) {
                            var c = b.which;
                            return qa && c == a.FE.KEYCODE.BACKSPACE ?
                                (b.preventDefault(), !1) :
                                void 0;
                        }),
                        b.events.$on(b.$win, "keydown", function(b) {
                            var c = b.which;
                            qa &&
                                qa.hasClass("fr-uploading") &&
                                c == a.FE.KEYCODE.ESC &&
                                qa.trigger("abortUpload");
                        }),
                        b.events.on("destroy", function() {
                            qa && qa.hasClass("fr-uploading") && qa.trigger("abortUpload");
                        }),
                        b.events.on("paste.before", _),
                        b.events.on("paste.beforeCleanup", aa),
                        b.events.on("paste.after", $),
                        b.events.on("html.set", h),
                        b.events.on("html.inserted", h),
                        h(),
                        b.events.on("destroy", function() {
                            Da = [];
                        }),
                        b.events.on("html.get", function(a) {
                            return (a = a.replace(
                                /<(img)((?:[\w\W]*?))class="([\w\W]*?)(fr-uploading|fr-error)([\w\W]*?)"((?:[\w\W]*?))>/g,
                                ""
                            ));
                        }),
                        b.opts.imageOutputSize)
                ) {
                    var c;
                    b.events.on("html.beforeGet", function() {
                            c = b.$el.get(0).querySelectorAll("img");
                            for (var d = 0; d < c.length; d++)
                                c[d].setAttribute("width", a(c[d]).width()),
                                c[d].setAttribute("height", a(c[d]).height());
                        }),
                        b.events.on("html.afterGet", function() {
                            for (var a = 0; a < c.length; a++)
                                c[a].removeAttribute("width"), c[a].removeAttribute("height");
                        });
                }
                b.opts.iframe && b.events.on("image.loaded", b.size.syncIframe),
                    b.$wp && (i(), b.events.on("contentChanged", i)),
                    b.events.$on(a(b.o_win), "orientationchange.image", function() {
                        setTimeout(function() {
                            var a = oa();
                            a && v(a);
                        }, 0);
                    }),
                    p(!0),
                    L(!0),
                    S(!0),
                    O(!0),
                    b.events.on("node.remove", function(a) {
                        return "IMG" == a.get(0).tagName ? (Y(a), !1) : void 0;
                    });
            }

            function $() {
                b.opts.imagePaste ?
                    b.$el.find("img[data-fr-image-pasted]").each(function(c, d) {
                        if (b.opts.imagePasteProcess) {
                            var f = b.opts.imageDefaultWidth;
                            f &&
                                "auto" != f &&
                                (f += b.opts.imageResizeWithPercent ? "%" : "px"),
                                a(d).css("width", f),
                                a(d)
                                .removeClass("fr-dii fr-dib fr-fir fr-fil")
                                .addClass(
                                    (b.opts.imageDefaultDisplay ?
                                        "fr-di" + b.opts.imageDefaultDisplay[0] :
                                        "") +
                                    (b.opts.imageDefaultAlign &&
                                        "center" != b.opts.imageDefaultAlign ?
                                        " fr-fi" + b.opts.imageDefaultAlign[0] :
                                        "")
                                );
                        }
                        if (0 === d.src.indexOf("data:")) {
                            if (b.events.trigger("image.beforePasteUpload", [d]) === !1)
                                return !1;
                            (qa = a(d)), j(), e(), la(), q(), b.edit.off();
                            for (
                                var g = atob(
                                        a(d)
                                        .attr("src")
                                        .split(",")[1]
                                    ),
                                    h = [],
                                    i = 0; i < g.length; i++
                            )
                                h.push(g.charCodeAt(i));
                            var k = new Blob([new Uint8Array(h)], { type: "image/jpeg" });
                            G([k]), a(d).removeAttr("data-fr-image-pasted");
                        } else 0 !== d.src.indexOf("http") ? (b.selection.save(), a(d).remove(), b.selection.restore()) : a(d).removeAttr("data-fr-image-pasted");
                    }) :
                    b.$el.find("img[data-fr-image-pasted]").remove();
            }

            function _(a) {
                if (
                    a &&
                    a.clipboardData &&
                    a.clipboardData.items &&
                    a.clipboardData.items[0]
                ) {
                    var c = a.clipboardData.items[0].getAsFile();
                    if (c) {
                        var d = new FileReader();
                        return (
                            (d.onload = function(a) {
                                var c = a.target.result,
                                    d = b.opts.imageDefaultWidth;
                                d &&
                                    "auto" != d &&
                                    (d += b.opts.imageResizeWithPercent ? "%" : "px"),
                                    b.html.insert(
                                        '<img data-fr-image-pasted="true" class="' +
                                        (b.opts.imageDefaultDisplay ?
                                            "fr-di" + b.opts.imageDefaultDisplay[0] :
                                            "") +
                                        (b.opts.imageDefaultAlign &&
                                            "center" != b.opts.imageDefaultAlign ?
                                            " fr-fi" + b.opts.imageDefaultAlign[0] :
                                            "") +
                                        '" src="' +
                                        c +
                                        '"' +
                                        (d ? ' style="width: ' + d + ';"' : "") +
                                        ">"
                                    ),
                                    b.events.trigger("paste.after");
                            }),
                            d.readAsDataURL(c), !1
                        );
                    }
                }
            }

            function aa(a) {
                return (a = a.replace(
                    /<img /gi,
                    '<img data-fr-image-pasted="true" '
                ));
            }

            function ba(c) {
                if (
                    a(this).parents(
                        '[contenteditable="false"]:not(.fr-element):not(body)'
                    ).length
                )
                    return !0;
                if (c && "touchend" == c.type && Ea) return !0;
                if (c && b.edit.isDisabled())
                    return c.stopPropagation(), c.preventDefault(), !1;
                for (var d = 0; d < a.FE.INSTANCES.length; d++)
                    a.FE.INSTANCES[d] != b &&
                    a.FE.INSTANCES[d].events.trigger("image.hideResizer");
                b.toolbar.disable(),
                    c && (c.stopPropagation(), c.preventDefault()),
                    b.helpers.isMobile() &&
                    (b.events.disableBlur(), b.$el.blur(), b.events.enableBlur()),
                    b.opts.iframe && b.size.syncIframe(),
                    (qa = a(this)),
                    ma(),
                    j(),
                    e(),
                    b.selection.clear(),
                    b.button.bulkRefresh(),
                    b.events.trigger("video.hideResizer");
            }

            function ca(a) {
                qa &&
                    (fa() || a === !0) &&
                    (b.toolbar.enable(),
                        ra.removeClass("fr-active"),
                        b.popups.hide("image.edit"),
                        (qa = null),
                        ea());
            }

            function da() {
                Fa = !0;
            }

            function ea() {
                Fa = !1;
            }

            function fa() {
                return Fa;
            }

            function ga(a) {
                qa.removeClass("fr-fir fr-fil"),
                    "left" == a ?
                    qa.addClass("fr-fil") :
                    "right" == a && qa.addClass("fr-fir"),
                    j(),
                    e();
            }

            function ha(a) {
                qa &&
                    (qa.hasClass("fr-fil") ?
                        a.find("> *:first").replaceWith(b.icon.create("align-left")) :
                        qa.hasClass("fr-fir") ?
                        a.find("> *:first").replaceWith(b.icon.create("align-right")) :
                        a
                        .find("> *:first")
                        .replaceWith(b.icon.create("align-justify")));
            }

            function ia(a, b) {
                if (qa) {
                    var c = "justify";
                    qa.hasClass("fr-fil") ?
                        (c = "left") :
                        qa.hasClass("fr-fir") && (c = "right"),
                        b
                        .find('.fr-command[data-param1="' + c + '"]')
                        .addClass("fr-active");
                }
            }

            function ja(a) {
                qa.removeClass("fr-dii fr-dib"),
                    "inline" == a ?
                    qa.addClass("fr-dii") :
                    "block" == a && qa.addClass("fr-dib"),
                    j(),
                    e();
            }

            function ka(a, b) {
                var c = "block";
                qa.hasClass("fr-dii") && (c = "inline"),
                    b
                    .find('.fr-command[data-param1="' + c + '"]')
                    .addClass("fr-active");
            }

            function la() {
                var c = b.popups.get("image.insert");
                c || (c = L()),
                    b.popups.isVisible("image.insert") ||
                    (r(),
                        b.popups.refresh("image.insert"),
                        b.popups.setContainer(
                            "image.insert",
                            a(b.opts.scrollableContainer)
                        ));
                var d = qa.offset().left + qa.width() / 2,
                    e = qa.offset().top + qa.height();
                b.popups.show("image.insert", d, e, qa.outerHeight());
            }

            function ma() {
                if (qa) {
                    b.selection.clear();
                    var a = b.doc.createRange();
                    a.selectNode(qa.get(0));
                    var c = b.selection.get();
                    c.addRange(a);
                }
            }

            function na() {
                qa
                    ?
                    (a(".fr-popup input:focus").blur(), v(qa)) :
                    (b.events.disableBlur(),
                        b.selection.restore(),
                        b.events.enableBlur(),
                        b.popups.hide("image.insert"),
                        b.toolbar.showInline());
            }

            function oa() {
                return qa;
            }

            function pa(a, c, d) {
                if (
                    ("undefined" == typeof c && (c = b.opts.imageStyles),
                        "undefined" == typeof d && (d = b.opts.imageMultipleStyles), !qa)
                )
                    return !1;
                if (!d) {
                    var e = Object.keys(c);
                    e.splice(e.indexOf(a), 1), qa.removeClass(e.join(" "));
                }
                qa.toggleClass(a), v(qa);
            }
            var qa,
                ra,
                sa,
                ta,
                ua = !1,
                va = 1,
                wa = 2,
                xa = 3,
                ya = 4,
                za = 5,
                Aa = 6,
                Ba = 7,
                Ca = {};
            (Ca[va] = "Image cannot be loaded from the passed link."),
            (Ca[wa] = "No link in upload response."),
            (Ca[xa] = "Error during file upload."),
            (Ca[ya] = "Parsing response failed."),
            (Ca[za] = "File is too large."),
            (Ca[Aa] = "Image file type is invalid."),
            (Ca[Ba] =
                "Files can be uploaded only to same domain in IE 8 and IE 9.");
            var Da,
                Ea,
                Fa = !1;
            return {
                _init: Z,
                showInsertPopup: d,
                showLayer: U,
                refreshUploadButton: V,
                refreshByURLButton: W,
                upload: G,
                insertByURL: u,
                align: ga,
                refreshAlign: ha,
                refreshAlignOnShow: ia,
                display: ja,
                refreshDisplayOnShow: ka,
                replace: la,
                back: na,
                get: oa,
                insert: x,
                showProgressBar: q,
                remove: Y,
                hideProgressBar: r,
                applyStyle: pa,
                showAltPopup: N,
                showSizePopup: R,
                setAlt: P,
                setSize: T,
                exitEdit: ca,
                edit: v
            };
        }),
        a.FE.DefineIcon("insertImage", { NAME: "image" }),
        a.FE.RegisterShortcut(a.FE.KEYCODE.P, "insertImage", null, "P"),
        a.FE.RegisterCommand("insertImage", {
            title: "Insert Image",
            undo: !1,
            focus: !0,
            refreshAfterCallback: !1,
            popup: !0,
            callback: function() {
                this.popups.isVisible("image.insert") ?
                    (this.$el.find(".fr-marker") &&
                        (this.events.disableBlur(), this.selection.restore()),
                        this.popups.hide("image.insert")) :
                    this.image.showInsertPopup();
            },
            plugin: "image"
        }),
        a.FE.DefineIcon("imageUpload", { NAME: "upload" }),
        a.FE.RegisterCommand("imageUpload", {
            title: "Upload Image",
            undo: !1,
            focus: !1,
            callback: function() {
                this.image.showLayer("image-upload");
            },
            refresh: function(a) {
                this.image.refreshUploadButton(a);
            }
        }),
        a.FE.DefineIcon("imageByURL", { NAME: "link" }),
        a.FE.RegisterCommand("imageByURL", {
            title: "By URL",
            undo: !1,
            focus: !1,
            callback: function() {
                this.image.showLayer("image-by-url");
            },
            refresh: function(a) {
                this.image.refreshByURLButton(a);
            }
        }),
        a.FE.RegisterCommand("imageInsertByURL", {
            title: "Insert Image",
            undo: !0,
            refreshAfterCallback: !1,
            callback: function() {
                this.image.insertByURL();
            },
            refresh: function(a) {
                var b = this.image.get();
                b
                    ?
                    a.text(this.language.translate("Replace")) :
                    a.text(this.language.translate("Insert"));
            }
        }),
        a.FE.DefineIcon("imageDisplay", { NAME: "star" }),
        a.FE.RegisterCommand("imageDisplay", {
            title: "Display",
            type: "dropdown",
            options: { inline: "Inline", block: "Break Text" },
            callback: function(a, b) {
                this.image.display(b);
            },
            refresh: function(a) {
                this.opts.imageTextNear || a.addClass("fr-hidden");
            },
            refreshOnShow: function(a, b) {
                this.image.refreshDisplayOnShow(a, b);
            }
        }),
        a.FE.ICONS.align ||
        (a.FE.DefineIcon("align", { NAME: "align-left" }),
            a.FE.DefineIcon("align-left", { NAME: "align-left" }),
            a.FE.DefineIcon("align-right", { NAME: "align-right" }),
            a.FE.DefineIcon("align-center", { NAME: "align-center" }),
            a.FE.DefineIcon("align-justify", { NAME: "align-justify" })),
        a.FE.DefineIcon("imageAlign", { NAME: "align-center" }),
        a.FE.RegisterCommand("imageAlign", {
            type: "dropdown",
            title: "Align",
            options: { left: "Align Left", justify: "None", right: "Align Right" },
            html: function() {
                var b = '<ul class="fr-dropdown-list">',
                    c = a.FE.COMMANDS.imageAlign.options;
                for (var d in c)
                    c.hasOwnProperty(d) &&
                    (b +=
                        '<li><a class="fr-command fr-title" data-cmd="imageAlign" data-param1="' +
                        d +
                        '" title="' +
                        this.language.translate(c[d]) +
                        '">' +
                        this.icon.create("align-" + d) +
                        "</a></li>");
                return (b += "</ul>");
            },
            callback: function(a, b) {
                this.image.align(b);
            },
            refresh: function(a) {
                this.image.refreshAlign(a);
            },
            refreshOnShow: function(a, b) {
                this.image.refreshAlignOnShow(a, b);
            }
        }),
        a.FE.DefineIcon("imageReplace", { NAME: "exchange" }),
        a.FE.RegisterCommand("imageReplace", {
            title: "Replace",
            undo: !1,
            focus: !1,
            refreshAfterCallback: !1,
            callback: function() {
                this.image.replace();
            }
        }),
        a.FE.DefineIcon("imageRemove", { NAME: "trash" }),
        a.FE.RegisterCommand("imageRemove", {
            title: "Remove",
            callback: function() {
                this.image.remove();
            }
        }),
        a.FE.DefineIcon("imageBack", { NAME: "arrow-left" }),
        a.FE.RegisterCommand("imageBack", {
            title: "Back",
            undo: !1,
            focus: !1,
            back: !0,
            callback: function() {
                this.image.back();
            },
            refresh: function(a) {
                var b = this.image.get();
                b || this.opts.toolbarInline ?
                    (a.removeClass("fr-hidden"),
                        a.next(".fr-separator").removeClass("fr-hidden")) :
                    (a.addClass("fr-hidden"),
                        a.next(".fr-separator").addClass("fr-hidden"));
            }
        }),
        a.FE.RegisterCommand("imageDismissError", {
            title: "OK",
            undo: !1,
            callback: function() {
                this.image.hideProgressBar(!0);
            }
        }),
        a.FE.DefineIcon("imageStyle", { NAME: "magic" }),
        a.FE.RegisterCommand("imageStyle", {
            title: "Style",
            type: "dropdown",
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.imageStyles;
                for (var c in b)
                    b.hasOwnProperty(c) &&
                    (a +=
                        '<li><a class="fr-command" data-cmd="imageStyle" data-param1="' +
                        c +
                        '">' +
                        this.language.translate(b[c]) +
                        "</a></li>");
                return (a += "</ul>");
            },
            callback: function(a, b) {
                this.image.applyStyle(b);
            },
            refreshOnShow: function(b, c) {
                var d = this.image.get();
                d &&
                    c.find(".fr-command").each(function() {
                        var b = a(this).data("param1");
                        a(this).toggleClass("fr-active", d.hasClass(b));
                    });
            }
        }),
        a.FE.DefineIcon("imageAlt", { NAME: "info" }),
        a.FE.RegisterCommand("imageAlt", {
            undo: !1,
            focus: !1,
            title: "Alternate Text",
            callback: function() {
                this.image.showAltPopup();
            }
        }),
        a.FE.RegisterCommand("imageSetAlt", {
            undo: !0,
            focus: !1,
            title: "Update",
            refreshAfterCallback: !1,
            callback: function() {
                this.image.setAlt();
            }
        }),
        a.FE.DefineIcon("imageSize", { NAME: "arrows-alt" }),
        a.FE.RegisterCommand("imageSize", {
            undo: !1,
            focus: !1,
            title: "Change Size",
            callback: function() {
                this.image.showSizePopup();
            }
        }),
        a.FE.RegisterCommand("imageSetSize", {
            undo: !0,
            focus: !1,
            title: "Update",
            refreshAfterCallback: !1,
            callback: function() {
                this.image.setSize();
            }
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    if (
        (a.extend(a.FE.DEFAULTS, {
                imageManagerLoadURL: "https://i.froala.com/load-files",
                imageManagerLoadMethod: "get",
                imageManagerLoadParams: {},
                imageManagerPreloader: "",
                imageManagerDeleteURL: "",
                imageManagerDeleteMethod: "post",
                imageManagerDeleteParams: {},
                imageManagerPageSize: 12,
                imageManagerScrollOffset: 20,
                imageManagerToggleTags: !0
            }),
            (a.FE.PLUGINS.imageManager = function(b) {
                function c() {
                    A || h(),
                        A.data("instance", b),
                        A.show(),
                        G.show(),
                        (V = b.image.get()),
                        B || y(),
                        i(),
                        b.$doc.find("body").addClass("prevent-scroll"),
                        b.helpers.isMobile() && b.$doc.find("body").addClass("fr-mobile");
                }

                function d() {
                    var a = A.data("instance") || b;
                    a.events.enableBlur(),
                        A.hide(),
                        G.hide(),
                        a.$doc.find("body").removeClass("prevent-scroll fr-mobile");
                }

                function e() {
                    var b = a(window).outerWidth();
                    return 768 > b ? 2 : 1200 > b ? 3 : 4;
                }

                function f() {
                    C.empty();
                    for (var a = 0; L > a; a++)
                        C.append('<div class="fr-list-column"></div>');
                }

                function g() {
                    var c = "";
                    b.opts.theme && (c = " " + b.opts.theme + "-theme");
                    var d =
                        '<div class="fr-modal' + c + '"><div class="fr-modal-wrapper">';
                    return (
                        (d +=
                            '<div class="fr-modal-title"><div class="fr-modal-title-line"><i class="fa fa-bars fr-modal-more fr-not-available" id="fr-modal-more-' +
                            b.sid +
                            '" title="' +
                            b.language.translate("Tags") +
                            '"></i><h4 data-text="true">' +
                            b.language.translate("Manage Images") +
                            '</h4><i title="' +
                            b.language.translate("Cancel") +
                            '" class="fa fa-times fr-modal-close" id="fr-modal-close"></i></div>'),
                        (d += '<div class="fr-modal-tags" id="fr-modal-tags"></div>'),
                        (d += "</div>"),
                        (d +=
                            '<img class="fr-preloader" id="fr-preloader" alt="' +
                            b.language.translate("Loading") +
                            '.." src="' +
                            b.opts.imageManagerPreloader +
                            '" style="display: none;">'),
                        (d +=
                            '<div class="fr-scroller" id="fr-scroller"><div class="fr-image-list" id="fr-image-list"></div></div>'),
                        (d += "</div></div>"),
                        a(d)
                    );
                }

                function h() {
                    b.shared.$modal ?
                        ((A = b.shared.$modal), (G = b.shared.$overlay)) :
                        ((b.shared.$modal = g()),
                            (A = b.shared.$modal),
                            b.helpers.isMobile() || A.addClass("fr-desktop"),
                            A.appendTo("body"),
                            (b.shared.$overlay = a('<div class="fr-overlay">').appendTo(
                                "body"
                            )),
                            (G = b.shared.$overlay),
                            b.opts.theme && G.addClass(b.opts.theme + "-theme"),
                            d()),
                        b.events.on(
                            "shared.destroy",
                            function() {
                                A.removeData().remove(), G.removeData().remove();
                            }, !0
                        );
                }

                function i() {
                    B.show(),
                        C.find(".fr-list-column").empty(),
                        b.opts.imageManagerLoadURL ?
                        a
                        .ajax({
                            url: b.opts.imageManagerLoadURL,
                            method: b.opts.imageManagerLoadMethod,
                            data: b.opts.imageManagerLoadParams,
                            dataType: "json",
                            crossDomain: b.opts.requestWithCORS,
                            xhrFields: { withCredentials: b.opts.requestWithCORS },
                            headers: b.opts.requestHeaders
                        })
                        .done(function(a, c, d) {
                            b.events.trigger("imageManager.imagesLoaded", [a]),
                                j(a, d.response),
                                B.hide();
                        })
                        .fail(function() {
                            var a = this.xhr();
                            t(N, a.response || a.responseText);
                        }) :
                        t(O);
                }

                function j(a, b) {
                    try {
                        C.find(".fr-list-column").empty(),
                            (I = 0),
                            (J = 0),
                            (K = 0),
                            (H = a),
                            k();
                    } catch (c) {
                        t(P, b);
                    }
                }

                function k() {
                    if (
                        J < H.length &&
                        (C.outerHeight() <=
                            D.outerHeight() + b.opts.imageManagerScrollOffset ||
                            D.scrollTop() + b.opts.imageManagerScrollOffset >
                            C.outerHeight() - D.outerHeight())
                    ) {
                        I++;
                        for (
                            var a = b.opts.imageManagerPageSize * (I - 1); a < Math.min(H.length, b.opts.imageManagerPageSize * I); a++
                        )
                            l(H[a]);
                    }
                }

                function l(c) {
                    var d = new Image(),
                        e = a(
                            '<div class="fr-image-container fr-empty fr-image-' +
                            K++ +
                            '" data-loading="' +
                            b.language.translate("Loading") +
                            '.." data-deleting="' +
                            b.language.translate("Deleting") +
                            '..">'
                        );
                    p(!1),
                        (d.onload = function() {
                            e.height(Math.floor((e.width() / d.width) * d.height));
                            var f = a("<img/>");
                            if (c.thumb) f.attr("src", c.thumb);
                            else {
                                if ((t(Q, c), !c.url)) return t(R, c), !1;
                                f.attr("src", c.url);
                            }
                            if ((c.url && f.attr("data-url", c.url), c.tag))
                                if (
                                    (F.find(".fr-modal-more.fr-not-available").removeClass(
                                            "fr-not-available"
                                        ),
                                        F.find(".fr-modal-tags").show(),
                                        c.tag.indexOf(",") >= 0)
                                ) {
                                    for (var g = c.tag.split(","), h = 0; h < g.length; h++)
                                        (g[h] = g[h].trim()),
                                        0 === E.find('a[title="' + g[h] + '"]').length &&
                                        E.append(
                                            '<a role="button" title="' +
                                            g[h] +
                                            '">' +
                                            g[h] +
                                            "</a>"
                                        );
                                    f.attr("data-tag", g.join());
                                } else
                                    0 === E.find('a[title="' + c.tag.trim() + '"]').length &&
                                    E.append(
                                        '<a role="button" title="' +
                                        c.tag.trim() +
                                        '">' +
                                        c.tag.trim() +
                                        "</a>"
                                    ),
                                    f.attr("data-tag", c.tag.trim());
                            for (var i in c)
                                c.hasOwnProperty(i) &&
                                "thumb" != i &&
                                "url" != i &&
                                "tag" != i &&
                                f.attr("data-" + i, c[i]);
                            e
                                .append(f)
                                .append(
                                    a(b.icon.create("imageManagerDelete"))
                                    .addClass("fr-delete-img")
                                    .attr("title", b.language.translate("Delete"))
                                )
                                .append(
                                    a(b.icon.create("imageManagerInsert"))
                                    .addClass("fr-insert-img")
                                    .attr("title", b.language.translate("Insert"))
                                ),
                                E.find(".fr-selected-tag").each(function(a, b) {
                                    x(f, b.text) || e.hide();
                                }),
                                f.on("load", function() {
                                    e.removeClass("fr-empty"), e.height("auto"), J++;
                                    var a = n(
                                        parseInt(
                                            f
                                            .parent()
                                            .attr("class")
                                            .match(/fr-image-(\d+)/)[1],
                                            10
                                        ) + 1
                                    );
                                    o(a), p(!1), J % b.opts.imageManagerPageSize === 0 && k();
                                }),
                                b.events.trigger("imageManager.imageLoaded", [f]);
                        }),
                        (d.onerror = function() {
                            J++, e.remove();
                            var a = n(
                                parseInt(e.attr("class").match(/fr-image-(\d+)/)[1], 10) + 1
                            );
                            o(a), t(M, c), J % b.opts.imageManagerPageSize === 0 && k();
                        }),
                        (d.src = c.url),
                        m().append(e);
                }

                function m() {
                    var b, c;
                    return (
                        C.find(".fr-list-column").each(function(d, e) {
                            var f = a(e);
                            0 === d ?
                                ((c = f.outerHeight()), (b = f)) :
                                f.outerHeight() < c && ((c = f.outerHeight()), (b = f));
                        }),
                        b
                    );
                }

                function n(b) {
                    void 0 === b && (b = 0);
                    for (var c = [], d = K - 1; d >= b; d--) {
                        var e = C.find(".fr-image-" + d);
                        e.length &&
                            (c.push(e),
                                a('<div id="fr-image-hidden-container">').append(e),
                                C.find(".fr-image-" + d).remove());
                    }
                    return c;
                }

                function o(a) {
                    for (var b = a.length - 1; b >= 0; b--) m().append(a[b]);
                }

                function p(a) {
                    if ((void 0 === a && (a = !0), !A.is(":visible"))) return !0;
                    var c = e();
                    if (c != L) {
                        L = c;
                        var d = n();
                        f(), o(d);
                    }
                    var g = b.$win.height(),
                        h = A.find(".fr-modal-wrapper"),
                        i =
                        parseFloat(h.css("margin-top")) +
                        parseFloat(h.css("margin-bottom")),
                        j =
                        parseFloat(h.css("padding-top")) +
                        parseFloat(h.css("padding-bottom")),
                        l = parseFloat(h.css("border-top-width")),
                        m = h.find("h4").outerHeight();
                    D.height(Math.min(C.outerHeight(), g - i - j - m - l)), a && k();
                }

                function q(a) {
                    var b = {},
                        c = a.data();
                    for (var d in c)
                        c.hasOwnProperty(d) && "url" != d && "tag" != d && (b[d] = c[d]);
                    return b;
                }

                function r(c) {
                    var e = a(c.currentTarget).siblings("img"),
                        f = A.data("instance") || b;
                    if ((d(), f.image.showProgressBar(), V)) V.trigger("click");
                    else {
                        f.events.focus(!0), f.selection.restore();
                        var g = f.position.getBoundingRect(),
                            h = g.left + g.width / 2,
                            i = g.top + g.height;
                        f.popups.setContainer("image.insert", f.$box || a("body")),
                            f.popups.show("image.insert", h, i);
                    }
                    f.image.insert(e.data("url"), !1, q(e), V);
                }

                function s(c) {
                    var d = a(c.currentTarget).siblings("img"),
                        e = b.language.translate("Are you sure? Image will be deleted.");
                    confirm(e) &&
                        (b.opts.imageManagerDeleteURL ?
                            b.events.trigger("imageManager.beforeDeleteImage", [d]) !==
                            !1 &&
                            (d.parent().addClass("fr-image-deleting"),
                                a
                                .ajax({
                                    method: b.opts.imageManagerDeleteMethod,
                                    url: b.opts.imageManagerDeleteURL,
                                    data: a.extend(
                                        a.extend({ src: d.attr("src") }, q(d)),
                                        b.opts.imageManagerDeleteParams
                                    ),
                                    crossDomain: b.opts.requestWithCORS,
                                    xhrFields: { withCredentials: b.opts.requestWithCORS },
                                    headers: b.opts.requestHeaders
                                })
                                .done(function(a) {
                                    b.events.trigger("imageManager.imageDeleted", [a]);
                                    var c = n(
                                        parseInt(
                                            d
                                            .parent()
                                            .attr("class")
                                            .match(/fr-image-(\d+)/)[1],
                                            10
                                        ) + 1
                                    );
                                    d.parent().remove(), o(c), p(!0);
                                })
                                .fail(function() {
                                    var a = this.xhr();
                                    t(S, a.response || a.responseText);
                                })) :
                            t(T));
                }

                function t(c, d) {
                    c >= 10 && 20 > c ?
                        B.hide() :
                        c >= 20 &&
                        30 > c &&
                        a(".fr-image-deleting").removeClass("fr-image-deleting"),
                        b.events.trigger("imageManager.error", [
                            { code: c, message: U[c] },
                            d
                        ]);
                }

                function u() {
                    var a = F.find(".fr-modal-title-line").outerHeight(),
                        b = E.outerHeight();
                    F.toggleClass(".fr-show-tags"),
                        F.hasClass(".fr-show-tags") ?
                        (F.css("height", a + b), E.find("a").css("opacity", 1)) :
                        (F.css("height", a), E.find("a").css("opacity", 0));
                }

                function v() {
                    var b = E.find(".fr-selected-tag");
                    b.length > 0 ?
                        (C.find("img")
                            .parent()
                            .show(),
                            b.each(function(b, c) {
                                C.find("img").each(function(b, d) {
                                    var e = a(d);
                                    x(e, c.text) || e.parent().hide();
                                });
                            })) :
                        C.find("img")
                        .parent()
                        .show();
                    var c = n();
                    o(c), k();
                }

                function w(c) {
                    c.preventDefault();
                    var d = a(c.currentTarget);
                    d.toggleClass("fr-selected-tag"),
                        b.opts.imageManagerToggleTags &&
                        d.siblings("a").removeClass("fr-selected-tag"),
                        v();
                }

                function x(a, b) {
                    for (var c = a.attr("data-tag").split(","), d = 0; d < c.length; d++)
                        if (c[d] == b) return !0;
                    return !1;
                }

                function y() {
                    (B = A.find("#fr-preloader")),
                    (C = A.find("#fr-image-list")),
                    (D = A.find("#fr-scroller")),
                    (E = A.find("#fr-modal-tags")),
                    (F = E.parent()),
                    (L = e()),
                    f();
                    var c = F.find(".fr-modal-title-line").outerHeight();
                    F.css("height", c),
                        D.css("margin-top", c),
                        b.events.bindClick(A, "i#fr-modal-close", d),
                        b.events.$on(a(b.o_win), "resize", function() {
                            p(!!H);
                        }),
                        b.helpers.isMobile() &&
                        (b.events.bindClick(C, "div.fr-image-container", function(b) {
                                A.find(".fr-mobile-selected").removeClass("fr-mobile-selected"),
                                    a(b.currentTarget).addClass("fr-mobile-selected");
                            }),
                            A.on(b._mousedown, function() {
                                A.find(".fr-mobile-selected").removeClass("fr-mobile-selected");
                            })),
                        b.events.bindClick(C, ".fr-insert-img", r),
                        b.events.bindClick(C, ".fr-delete-img", s),
                        A.on(b._mousedown + " " + b._mouseup, function(a) {
                            a.stopPropagation();
                        }),
                        A.on(b._mousedown, "*", function() {
                            b.events.disableBlur();
                        }),
                        D.on("scroll", k),
                        b.events.bindClick(A, "i#fr-modal-more-" + b.sid, u),
                        b.events.bindClick(E, "a", w);
                }

                function z() {
                    return b.$wp || "IMG" == b.$el.get(0).tagName ? void 0 : !1;
                }
                var A,
                    B,
                    C,
                    D,
                    E,
                    F,
                    G,
                    H,
                    I,
                    J,
                    K,
                    L,
                    M = 10,
                    N = 11,
                    O = 12,
                    P = 13,
                    Q = 14,
                    R = 15,
                    S = 21,
                    T = 22,
                    U = {};
                (U[M] = "Image cannot be loaded from the passed link."),
                (U[N] = "Error during load images request."),
                (U[O] = "Missing imageManagerLoadURL option."),
                (U[P] = "Parsing load response failed."),
                (U[Q] = "Missing image thumb."),
                (U[R] = "Missing image URL."),
                (U[S] = "Error during delete image request."),
                (U[T] = "Missing imageManagerDeleteURL option.");
                var V;
                return { require: ["image"], _init: z, show: c, hide: d };
            }), !a.FE.PLUGINS.image)
    )
        throw new Error("Image manager plugin requires image plugin.");
    a.FE.DEFAULTS.imageInsertButtons.push("imageManager"),
        a.FE.RegisterCommand("imageManager", {
            title: "Browse",
            undo: !1,
            focus: !1,
            callback: function() {
                this.imageManager.show();
            },
            plugin: "imageManager"
        }),
        a.FE.DefineIcon("imageManager", { NAME: "folder" }),
        a.FE.DefineIcon("imageManagerInsert", { NAME: "plus" }),
        a.FE.DefineIcon("imageManagerDelete", { NAME: "trash" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            inlineStyles: {
                "Big Red": "font-size: 20px; color: red;",
                "Small Blue": "font-size: 14px; color: blue;"
            }
        }),
        (a.FE.PLUGINS.inlineStyle = function(b) {
            function c(c) {
                "" !== b.selection.text() ?
                    b.html.insert(
                        a.FE.START_MARKER +
                        '<span style="' +
                        c +
                        '">' +
                        b.selection.text() +
                        "</span>" +
                        a.FE.END_MARKER
                    ) :
                    b.html.insert(
                        '<span style="' +
                        c +
                        '">' +
                        a.FE.INVISIBLE_SPACE +
                        a.FE.MARKERS +
                        "</span>"
                    );
            }
            return { apply: c };
        }),
        a.FE.RegisterCommand("inlineStyle", {
            type: "dropdown",
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.inlineStyles;
                for (var c in b)
                    b.hasOwnProperty(c) &&
                    (a +=
                        '<li><span style="' +
                        b[c] +
                        '"><a class="fr-command" data-cmd="inlineStyle" data-param1="' +
                        b[c] +
                        '" title="' +
                        this.language.translate(c) +
                        '">' +
                        this.language.translate(c) +
                        "</a></span></li>");
                return (a += "</ul>");
            },
            title: "Inline Style",
            callback: function(a, b) {
                this.inlineStyle.apply(b);
            },
            plugin: "inlineStyle"
        }),
        a.FE.DefineIcon("inlineStyle", { NAME: "paint-brush" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            lineBreakerTags: ["table", "hr", "form", "dl", "span.fr-video"],
            lineBreakerOffset: 15
        }),
        (a.FE.PLUGINS.lineBreaker = function(b) {
            function c(c, d) {
                var e, f, g, h, i, j, k, l;
                if (null == c)
                    (h = d.parent()),
                    (i = h.offset().top),
                    (k = d.offset().top),
                    (e = k - Math.min((k - i) / 2, b.opts.lineBreakerOffset)),
                    (g = h.outerWidth()),
                    (f = h.offset().left);
                else if (null == d)
                    (h = c.parent()),
                    (j = h.offset().top + h.outerHeight()),
                    (l = c.offset().top + c.outerHeight()),
                    (e = l + Math.min((j - l) / 2, b.opts.lineBreakerOffset)),
                    (g = h.outerWidth()),
                    (f = h.offset().left);
                else {
                    h = c.parent();
                    var m = c.offset().top + c.height(),
                        o = d.offset().top;
                    if (m > o) return !1;
                    (e = (m + o) / 2), (g = h.outerWidth()), (f = h.offset().left);
                }
                b.opts.iframe &&
                    ((f += b.$iframe.offset().left - a(b.o_win).scrollLeft()),
                        (e += b.$iframe.offset().top - a(b.o_win).scrollTop())),
                    b.$box.append(n),
                    n.css("top", e - b.win.pageYOffset),
                    n.css("left", f - b.win.pageXOffset),
                    n.css("width", g),
                    n.data("tag1", c),
                    n.data("tag2", d),
                    n.addClass("fr-visible").data("instance", b);
            }

            function d(a, d) {
                var f,
                    g,
                    h = a.offset().top,
                    i = a.offset().top + a.outerHeight();
                if (
                    Math.abs(i - d) <= b.opts.lineBreakerOffset ||
                    Math.abs(d - h) <= b.opts.lineBreakerOffset
                )
                    if (Math.abs(i - d) < Math.abs(d - h)) {
                        g = a.get(0);
                        for (
                            var j = g.nextSibling; j && j.nodeType == Node.TEXT_NODE && 0 === j.textContent.length;

                        )
                            j = j.nextSibling;
                        if (!j) return c(a, null), !0;
                        if ((f = e(j))) return c(a, f), !0;
                    } else {
                        if (((g = a.get(0)), !g.previousSibling)) return c(null, a), !0;
                        if ((f = e(g.previousSibling))) return c(f, a), !0;
                    }
                n.removeClass("fr-visible").removeData("instance");
            }

            function e(c) {
                if (c) {
                    var d = a(c);
                    if (0 === b.$el.find(d).length) return null;
                    if (
                        c.nodeType != Node.TEXT_NODE &&
                        d.is(b.opts.lineBreakerTags.join(","))
                    )
                        return d;
                    if (d.parents(b.opts.lineBreakerTags.join(",")).length > 0)
                        return (
                            (c = d.parents(b.opts.lineBreakerTags.join(",")).get(0)), a(c)
                        );
                }
                return null;
            }

            function f(c) {
                p = null;
                var f,
                    g,
                    h,
                    i = null,
                    j = b.doc.elementFromPoint(
                        c.pageX - b.win.pageXOffset,
                        c.pageY - b.win.pageYOffset
                    );
                if (
                    j &&
                    ("HTML" == j.tagName || "BODY" == j.tagName || b.node.isElement(j))
                )
                    for (f = 1; f <= b.opts.lineBreakerOffset; f++) {
                        if (
                            ((g = b.doc.elementFromPoint(
                                    c.pageX - b.win.pageXOffset,
                                    c.pageY - b.win.pageYOffset - f
                                )),
                                g &&
                                !b.node.isElement(g) &&
                                g != b.$wp.get(0) &&
                                a(g).parents(b.$wp).length)
                        ) {
                            i = e(g);
                            break;
                        }
                        if (
                            ((h = b.doc.elementFromPoint(
                                    c.pageX - b.win.pageXOffset,
                                    c.pageY - b.win.pageYOffset + f
                                )),
                                h &&
                                !b.node.isElement(h) &&
                                h != b.$wp.get(0) &&
                                a(h).parents(b.$wp).length)
                        ) {
                            i = e(h);
                            break;
                        }
                    }
                else i = e(j);
                i
                    ?
                    d(i, c.pageY) :
                    b.core.sameInstance(n) &&
                    n.removeClass("fr-visible").removeData("instance");
            }

            function g(a) {
                return n.hasClass("fr-visible") && !b.core.sameInstance(n) ?
                    !1 :
                    b.popups.areVisible() ||
                    b.$el.get(0).querySelectorAll(".fr-selected-cell").length ?
                    (n.removeClass("fr-visible"), !0) :
                    void(
                        o === !1 && (p && clearTimeout(p), (p = setTimeout(f, 30, a)))
                    );
            }

            function h() {
                p && clearTimeout(p),
                    n.hasClass("fr-visible") &&
                    n.removeClass("fr-visible").removeData("instance");
            }

            function i() {
                (o = !0), h();
            }

            function j() {
                o = !1;
            }

            function k(c) {
                if (!b.core.sameInstance(n)) return !0;
                c.preventDefault(),
                    n.removeClass("fr-visible").removeData("instance");
                var d = n.data("tag1"),
                    e = n.data("tag2"),
                    f = b.html.defaultTag();
                null == d ?
                    f && "TD" != e.parent().get(0).tagName ?
                    e.before("<" + f + ">" + a.FE.MARKERS + "<br></" + f + ">") :
                    e.before(a.FE.MARKERS + "<br>") :
                    f &&
                    "TD" != d.parent().get(0).tagName &&
                    0 === d.parents(f).length ?
                    d.after("<" + f + ">" + a.FE.MARKERS + "<br></" + f + ">") :
                    d.after(a.FE.MARKERS + "<br>"),
                    b.selection.restore();
            }

            function l() {
                b.shared.$line_breaker ||
                    (b.shared.$line_breaker = a(
                        '<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabindex="-1" title="' +
                        b.language.translate("Break") +
                        '"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>'
                    )),
                    (n = b.shared.$line_breaker),
                    b.events.on(
                        "shared.destroy",
                        function() {
                            n
                                .html("")
                                .removeData()
                                .remove(),
                                (n = null);
                        }, !0
                    ),
                    b.events.on(
                        "destroy",
                        function() {
                            n
                                .removeData("instance")
                                .removeClass("fr-visible")
                                .appendTo("body"),
                                clearTimeout(p);
                        }, !0
                    ),
                    b.events.$on(n, "mouseleave", h, !0),
                    b.events.$on(
                        n,
                        "mousemove",
                        function(a) {
                            a.stopPropagation();
                        }, !0
                    ),
                    b.events.$on(
                        n,
                        "mousedown",
                        "a",
                        function(a) {
                            a.stopPropagation();
                        }, !0
                    ),
                    b.events.$on(n, "click", "a", k, !0);
            }

            function m() {
                return b.$wp ?
                    (l(),
                        (o = !1),
                        b.events.$on(b.$win, "mousemove", g),
                        b.events.$on(a(b.win), "scroll", h),
                        b.events.on("popups.show.table.edit", h),
                        b.events.$on(a(b.win), "mousedown", i),
                        void b.events.$on(a(b.win), "mouseup", j)) :
                    !1;
            }
            var n, o, p;
            return { _init: m };
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.POPUP_TEMPLATES, {
            "link.edit": "[_BUTTONS_]",
            "link.insert": "[_BUTTONS_][_INPUT_LAYER_]"
        }),
        a.extend(a.FE.DEFAULTS, {
            linkEditButtons: ["linkOpen", "linkStyle", "linkEdit", "linkRemove"],
            linkInsertButtons: ["linkBack", "|", "linkList"],
            linkAttributes: {},
            linkAutoPrefix: "http://",
            linkStyles: { "fr-green": "Green", "fr-strong": "Thick" },
            linkMultipleStyles: !0,
            linkConvertEmailAddress: !0,
            linkAlwaysBlank: !1,
            linkAlwaysNoFollow: !1,
            linkList: [
                { text: "Froala", href: "https://froala.com", target: "_blank" },
                { text: "Google", href: "https://google.com", target: "_blank" },
                { displayText: "Facebook", href: "https://facebook.com" }
            ],
            linkText: !0
        }),
        (a.FE.PLUGINS.link = function(b) {
            function c() {
                var c = b.image ? b.image.get() : null;
                if (!c && b.$wp) {
                    var d = b.selection.element(),
                        e = b.selection.endElement();
                    return (
                        "A" == d.tagName ||
                        b.node.isElement(d) ||
                        (d = a(d)
                            .parentsUntil(b.$el, "a:first")
                            .get(0)),
                        "A" == e.tagName ||
                        b.node.isElement(e) ||
                        (e = a(e)
                            .parentsUntil(b.$el, "a:first")
                            .get(0)),
                        e && e == d && "A" == e.tagName ? d : null
                    );
                }
                return "A" == b.$el.get(0).tagName && b.core.hasFocus() ?
                    b.$el.get(0) :
                    c && c.get(0).parentNode && "A" == c.get(0).parentNode.tagName ?
                    c.get(0).parentNode :
                    void 0;
            }

            function d() {
                var a = b.image ? b.image.get() : null,
                    c = [];
                if (a)
                    "A" == a.get(0).parentNode.tagName && c.push(a.get(0).parentNode);
                else {
                    var d, e, f, g;
                    if (b.win.getSelection) {
                        var h = b.win.getSelection();
                        if (h.getRangeAt && h.rangeCount) {
                            g = b.doc.createRange();
                            for (var i = 0; i < h.rangeCount; ++i)
                                if (
                                    ((d = h.getRangeAt(i)),
                                        (e = d.commonAncestorContainer),
                                        e && 1 != e.nodeType && (e = e.parentNode),
                                        e && "a" == e.nodeName.toLowerCase())
                                )
                                    c.push(e);
                                else {
                                    f = e.getElementsByTagName("a");
                                    for (var j = 0; j < f.length; ++j)
                                        g.selectNodeContents(f[j]),
                                        g.compareBoundaryPoints(d.END_TO_START, d) < 1 &&
                                        g.compareBoundaryPoints(d.START_TO_END, d) > -1 &&
                                        c.push(f[j]);
                                }
                        }
                    } else if (b.doc.selection && "Control" != b.doc.selection.type)
                        if (
                            ((d = b.doc.selection.createRange()),
                                (e = d.parentElement()),
                                "a" == e.nodeName.toLowerCase())
                        )
                            c.push(e);
                        else {
                            (f = e.getElementsByTagName("a")),
                            (g = b.doc.body.createTextRange());
                            for (var k = 0; k < f.length; ++k)
                                g.moveToElementText(f[k]),
                                g.compareEndPoints("StartToEnd", d) > -1 &&
                                g.compareEndPoints("EndToStart", d) < 1 &&
                                c.push(f[k]);
                        }
                }
                return c;
            }

            function e(d) {
                g(),
                    setTimeout(
                        function() {
                            if (!d || (d && (1 == d.which || "mouseup" != d.type))) {
                                var e = c(),
                                    g = b.image ? b.image.get() : null;
                                if (e && !g) {
                                    if (b.image) {
                                        var h = b.node.contents(e);
                                        if (1 == h.length && "IMG" == h[0].tagName) {
                                            var i = b.selection.ranges(0);
                                            return (
                                                0 === i.startOffset && 0 === i.endOffset ?
                                                a(e).before(a.FE.MARKERS) :
                                                a(e).after(a.FE.MARKERS),
                                                b.selection.restore(), !1
                                            );
                                        }
                                    }
                                    d && d.stopPropagation(), f(e);
                                }
                            }
                        },
                        b.helpers.isIOS() ? 100 : 0
                    );
            }

            function f(c) {
                var d = b.popups.get("link.edit");
                d || (d = h());
                var e = a(c);
                b.popups.isVisible("link.edit") || b.popups.refresh("link.edit"),
                    b.popups.setContainer("link.edit", a(b.opts.scrollableContainer));
                var f = e.offset().left + a(c).outerWidth() / 2,
                    g = e.offset().top + e.outerHeight();
                b.popups.show("link.edit", f, g, e.outerHeight());
            }

            function g() {
                b.popups.hide("link.edit");
            }

            function h() {
                var a = "";
                b.opts.linkEditButtons.length > 1 &&
                    ("A" == b.$el.get(0).tagName &&
                        b.opts.linkEditButtons.indexOf("linkRemove") >= 0 &&
                        b.opts.linkEditButtons.splice(
                            b.opts.linkEditButtons.indexOf("linkRemove"),
                            1
                        ),
                        (a =
                            '<div class="fr-buttons">' +
                            b.button.buildList(b.opts.linkEditButtons) +
                            "</div>"));
                var d = { buttons: a },
                    e = b.popups.create("link.edit", d);
                return (
                    b.$wp &&
                    b.events.$on(b.$wp, "scroll.link-edit", function() {
                        c() && b.popups.isVisible("link.edit") && f(c());
                    }),
                    e
                );
            }

            function i() {}

            function j() {
                var d = b.popups.get("link.insert"),
                    e = c();
                if (e) {
                    var f,
                        g,
                        h = a(e),
                        i = d.find('input.fr-link-attr[type="text"]'),
                        j = d.find('input.fr-link-attr[type="checkbox"]');
                    for (f = 0; f < i.length; f++)
                        (g = a(i[f])), g.val(h.attr(g.attr("name") || ""));
                    for (j.prop("checked", !1), f = 0; f < j.length; f++)
                        (g = a(j[f])),
                        h.attr(g.attr("name")) == g.data("checked") &&
                        g.prop("checked", !0);
                    d.find('input.fr-link-attr[type="text"][name="text"]').val(
                        h.text()
                    );
                } else
                    d.find('input.fr-link-attr[type="text"]').val(""),
                    d.find('input.fr-link-attr[type="checkbox"]').prop("checked", !1),
                    d
                    .find('input.fr-link-attr[type="text"][name="text"]')
                    .val(b.selection.text());
                d.find("input.fr-link-attr").trigger("change");
                var k = b.image ? b.image.get() : null;
                k
                    ?
                    d
                    .find('.fr-link-attr[name="text"]')
                    .parent()
                    .hide() :
                    d
                    .find('.fr-link-attr[name="text"]')
                    .parent()
                    .show();
            }

            function k() {
                var c = b.$tb.find('.fr-command[data-cmd="insertLink"]'),
                    d = b.popups.get("link.insert");
                if ((d || (d = l()), !d.hasClass("fr-active")))
                    if (
                        (b.popups.refresh("link.insert"),
                            b.popups.setContainer(
                                "link.insert",
                                b.$tb || a(b.opts.scrollableContainer)
                            ),
                            c.is(":visible"))
                    ) {
                        var e = c.offset().left + c.outerWidth() / 2,
                            f =
                            c.offset().top +
                            (b.opts.toolbarBottom ? 10 : c.outerHeight() - 10);
                        b.popups.show("link.insert", e, f, c.outerHeight());
                    } else b.position.forSelection(d), b.popups.show("link.insert");
            }

            function l(a) {
                if (a)
                    return (
                        b.popups.onRefresh("link.insert", j),
                        b.popups.onHide("link.insert", i), !0
                    );
                var d = "";
                b.opts.linkInsertButtons.length >= 1 &&
                    (d =
                        '<div class="fr-buttons">' +
                        b.button.buildList(b.opts.linkInsertButtons) +
                        "</div>");
                var e =
                    '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>',
                    f = "",
                    g = 0;
                (f =
                    '<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-' +
                    b.id +
                    '">'),
                (f +=
                    '<div class="fr-input-line"><input name="href" type="text" class="fr-link-attr" placeholder="URL" tabIndex="' +
                    ++g +
                    '"></div>'),
                b.opts.linkText &&
                    (f +=
                        '<div class="fr-input-line"><input name="text" type="text" class="fr-link-attr" placeholder="' +
                        b.language.translate("Text") +
                        '" tabIndex="' +
                        ++g +
                        '"></div>');
                for (var h in b.opts.linkAttributes)
                    if (b.opts.linkAttributes.hasOwnProperty(h)) {
                        var k = b.opts.linkAttributes[h];
                        f +=
                            '<div class="fr-input-line"><input name="' +
                            h +
                            '" type="text" class="fr-link-attr" placeholder="' +
                            b.language.translate(k) +
                            '" tabIndex="' +
                            ++g +
                            '"></div>';
                    }
                b.opts.linkAlwaysBlank ||
                    (f +=
                        '<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-' +
                        b.id +
                        '" tabIndex="' +
                        ++g +
                        '"><span>' +
                        e +
                        '</span></span><label for="fr-link-target-' +
                        b.id +
                        '">' +
                        b.language.translate("Open in new tab") +
                        "</label></div>"),
                    (f +=
                        '<div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="linkInsert" href="#" tabIndex="' +
                        ++g +
                        '" type="button">' +
                        b.language.translate("Insert") +
                        "</button></div></div>");
                var l = { buttons: d, input_layer: f },
                    m = b.popups.create("link.insert", l);
                return (
                    b.$wp &&
                    b.events.$on(b.$wp, "scroll.link-insert", function() {
                        var a = b.image ? b.image.get() : null;
                        a && b.popups.isVisible("link.insert") && u(),
                            c && b.popups.isVisible("link.insert") && s();
                    }),
                    m
                );
            }

            function m() {
                var d = c(),
                    e = b.image ? b.image.get() : null;
                return b.events.trigger("link.beforeRemove", [d]) === !1 ?
                    !1 :
                    void(e && d ?
                        (e.unwrap(), b.image.edit(e)) :
                        d &&
                        (b.selection.save(),
                            a(d).replaceWith(a(d).html()),
                            b.selection.restore(),
                            g()));
            }

            function n() {
                b.events.on("keyup", function(b) {
                        b.which != a.FE.KEYCODE.ESC && e(b);
                    }),
                    b.events.on("window.mouseup", e),
                    b.helpers.isMobile() && b.events.$on(b.$doc, "selectionchange", e),
                    l(!0),
                    "A" == b.$el.get(0).tagName && b.$el.addClass("fr-view");
            }

            function o(c) {
                var d,
                    e,
                    f = b.opts.linkList[c],
                    g = b.popups.get("link.insert"),
                    h = g.find('input.fr-link-attr[type="text"]'),
                    i = g.find('input.fr-link-attr[type="checkbox"]');
                for (e = 0; e < h.length; e++)
                    (d = a(h[e])),
                    f[d.attr("name")] ?
                    d.val(f[d.attr("name")]) :
                    "text" != d.attr("name") && d.val("");
                for (e = 0; e < i.length; e++)
                    (d = a(i[e])),
                    d.prop("checked", d.data("checked") == f[d.attr("name")]);
            }

            function p() {
                var c,
                    d,
                    e = b.popups.get("link.insert"),
                    f = e.find('input.fr-link-attr[type="text"]'),
                    g = e.find('input.fr-link-attr[type="checkbox"]'),
                    h = f.filter('[name="href"]').val(),
                    i = f.filter('[name="text"]').val(),
                    j = {};
                for (d = 0; d < f.length; d++)
                    (c = a(f[d])), ["href", "text"].indexOf(c.attr("name")) < 0 &&
                    (j[c.attr("name")] = c.val());
                for (d = 0; d < g.length; d++)
                    (c = a(g[d])),
                    c.is(":checked") ?
                    (j[c.attr("name")] = c.data("checked")) :
                    (j[c.attr("name")] = c.data("unchecked"));
                var k = a(b.o_win).scrollTop();
                r(h, i, j), a(b.o_win).scrollTop(k);
            }

            function q() {
                if (!b.selection.isCollapsed()) {
                    b.selection.save();
                    for (
                        var c = b.$el
                            .find(".fr-marker")
                            .addClass("fr-unprocessed")
                            .toArray(); c.length;

                    ) {
                        var d = a(c.pop());
                        d.removeClass("fr-unprocessed");
                        var e = b.node.deepestParent(d.get(0));
                        if (e) {
                            var f = d.get(0),
                                g = "",
                                h = "";
                            do
                                (f = f.parentNode),
                                b.node.isBlock(f) ||
                                ((g += b.node.closeTagString(f)),
                                    (h = b.node.openTagString(f) + h));
                            while (f != e);
                            var i =
                                b.node.openTagString(d.get(0)) +
                                d.html() +
                                b.node.closeTagString(d.get(0));
                            d.replaceWith('<span id="fr-break"></span>');
                            var j = a(e).html();
                            (j = j.replace(/<span id="fr-break"><\/span>/g, g + i + h)),
                            a(e).html(j);
                        }
                        c = b.$el.find(".fr-marker.fr-unprocessed").toArray();
                    }
                    b.selection.restore();
                }
            }

            function r(f, g, h) {
                "undefined" == typeof h && (h = {});
                var i = b.image ? b.image.get() : null;
                i || "A" == b.$el.get(0).tagName ?
                    "A" == b.$el.get(0).tagName && b.$el.focus() :
                    (b.selection.restore(), b.popups.hide("link.insert"));
                var j = f;
                if (b.opts.linkConvertEmailAddress) {
                    var k = /^[\w._]+@[a-z\u00a1-\uffff0-9_-]+?\.[a-z\u00a1-\uffff0-9]{2,}$/i;
                    k.test(f) && !/^mailto:.*/i.test(f) && (f = "mailto:" + f);
                }
                if (
                    ("" === b.opts.linkAutoPrefix ||
                        /^(mailto|tel|sms|notes|data):.*/i.test(f) ||
                        /^data:image.*/i.test(f) ||
                        /^(https?:|ftps?:|file:|)\/\//i.test(f) ||
                        (["/", "{", "[", "#", "("].indexOf((f || "")[0]) < 0 &&
                            (f = b.opts.linkAutoPrefix + f)),
                        (f = b.helpers.sanitizeURL(f)),
                        b.opts.linkAlwaysBlank && (h.target = "_blank"),
                        b.opts.linkAlwaysNoFollow && (h.rel = "nofollow"),
                        (g = g || ""),
                        f === b.opts.linkAutoPrefix)
                ) {
                    var l = b.popups.get("link.insert");
                    return (
                        l.find('input[name="href"]').addClass("fr-error"),
                        b.events.trigger("link.bad", [j]), !1
                    );
                }
                var m,
                    n = c();
                if (n) {
                    m = a(n);
                    var o = b.node.rawAttributes(n);
                    for (var p in o)
                        o.hasOwnProperty(p) &&
                        "class" != p &&
                        "style" != p &&
                        m.removeAttr(p);
                    m.attr("href", f),
                        g.length > 0 && m.text() != g && !i && m.text(g),
                        i || m.prepend(a.FE.START_MARKER).append(a.FE.END_MARKER),
                        m.attr(h),
                        i || b.selection.restore();
                } else {
                    i
                        ?
                        i.wrap('<a href="' + f + '"></a>') :
                        (b.format.remove("a"),
                            b.selection.isCollapsed() ?
                            ((g = 0 === g.length ? j : g),
                                b.html.insert(
                                    '<a href="' +
                                    f +
                                    '">' +
                                    a.FE.START_MARKER +
                                    g +
                                    a.FE.END_MARKER +
                                    "</a>"
                                ),
                                b.selection.restore()) :
                            g.length > 0 && g != b.selection.text().replace(/\n/g, "") ?
                            (b.selection.remove(),
                                b.html.insert(
                                    '<a href="' +
                                    f +
                                    '">' +
                                    a.FE.START_MARKER +
                                    g +
                                    a.FE.END_MARKER +
                                    "</a>"
                                ),
                                b.selection.restore()) :
                            (q(), b.format.apply("a", { href: f })));
                    for (var r = d(), s = 0; s < r.length; s++)
                        (m = a(r[s])), m.attr(h), m.removeAttr("_moz_dirty");
                    1 == r.length &&
                        b.$wp &&
                        !i &&
                        (a(r[0])
                            .prepend(a.FE.START_MARKER)
                            .append(a.FE.END_MARKER),
                            b.selection.restore());
                }
                if (i) {
                    var t = b.popups.get("link.insert");
                    t.find("input:focus").blur(), b.image.edit(i);
                } else e();
            }

            function s() {
                g();
                var d = c();
                if (d) {
                    var e = b.popups.get("link.insert");
                    e || (e = l()),
                        b.popups.isVisible("link.insert") ||
                        (b.popups.refresh("link.insert"),
                            b.selection.save(),
                            b.helpers.isMobile() &&
                            (b.events.disableBlur(),
                                b.$el.blur(),
                                b.events.enableBlur())),
                        b.popups.setContainer(
                            "link.insert",
                            a(b.opts.scrollableContainer)
                        );
                    var f = (b.image ? b.image.get() : null) || a(d),
                        h = f.offset().left + f.outerWidth() / 2,
                        i = f.offset().top + f.outerHeight();
                    b.popups.show("link.insert", h, i, f.outerHeight());
                }
            }

            function t() {
                var a = b.image ? b.image.get() : null;
                if (a) b.image.back();
                else {
                    b.events.disableBlur(),
                        b.selection.restore(),
                        b.events.enableBlur();
                    var d = c();
                    d && b.$wp ?
                        (b.selection.restore(), g(), e()) :
                        "A" == b.$el.get(0).tagName ?
                        (b.$el.focus(), e()) :
                        (b.popups.hide("link.insert"), b.toolbar.showInline());
                }
            }

            function u() {
                var c = b.image ? b.image.get() : null;
                if (c) {
                    var d = b.popups.get("link.insert");
                    d || (d = l()),
                        j(!0),
                        b.popups.setContainer(
                            "link.insert",
                            a(b.opts.scrollableContainer)
                        );
                    var e = c.offset().left + c.outerWidth() / 2,
                        f = c.offset().top + c.outerHeight();
                    b.popups.show("link.insert", e, f, c.outerHeight());
                }
            }

            function v(d, f, g) {
                "undefined" == typeof g && (g = b.opts.linkMultipleStyles),
                    "undefined" == typeof f && (f = b.opts.linkStyles);
                var h = c();
                if (!h) return !1;
                if (!g) {
                    var i = Object.keys(f);
                    i.splice(i.indexOf(d), 1), a(h).removeClass(i.join(" "));
                }
                a(h).toggleClass(d), e();
            }
            return {
                _init: n,
                remove: m,
                showInsertPopup: k,
                usePredefined: o,
                insertCallback: p,
                insert: r,
                update: s,
                get: c,
                allSelected: d,
                back: t,
                imageLink: u,
                applyStyle: v
            };
        }),
        a.FE.DefineIcon("insertLink", { NAME: "link" }),
        a.FE.RegisterShortcut(a.FE.KEYCODE.K, "insertLink", null, "K"),
        a.FE.RegisterCommand("insertLink", {
            title: "Insert Link",
            undo: !1,
            focus: !0,
            refreshOnCallback: !1,
            popup: !0,
            callback: function() {
                this.popups.isVisible("link.insert") ?
                    (this.$el.find(".fr-marker") &&
                        (this.events.disableBlur(), this.selection.restore()),
                        this.popups.hide("link.insert")) :
                    this.link.showInsertPopup();
            },
            plugin: "link"
        }),
        a.FE.DefineIcon("linkOpen", { NAME: "external-link" }),
        a.FE.RegisterCommand("linkOpen", {
            title: "Open Link",
            undo: !1,
            refresh: function(a) {
                var b = this.link.get();
                b ? a.removeClass("fr-hidden") : a.addClass("fr-hidden");
            },
            callback: function() {
                var a = this.link.get();
                a && this.o_win.open(a.href);
            }
        }),
        a.FE.DefineIcon("linkEdit", { NAME: "edit" }),
        a.FE.RegisterCommand("linkEdit", {
            title: "Edit Link",
            undo: !1,
            refreshAfterCallback: !1,
            callback: function() {
                this.link.update();
            },
            refresh: function(a) {
                var b = this.link.get();
                b ? a.removeClass("fr-hidden") : a.addClass("fr-hidden");
            }
        }),
        a.FE.DefineIcon("linkRemove", { NAME: "unlink" }),
        a.FE.RegisterCommand("linkRemove", {
            title: "Unlink",
            callback: function() {
                this.link.remove();
            },
            refresh: function(a) {
                var b = this.link.get();
                b ? a.removeClass("fr-hidden") : a.addClass("fr-hidden");
            }
        }),
        a.FE.DefineIcon("linkBack", { NAME: "arrow-left" }),
        a.FE.RegisterCommand("linkBack", {
            title: "Back",
            undo: !1,
            focus: !1,
            back: !0,
            refreshAfterCallback: !1,
            callback: function() {
                this.link.back();
            },
            refresh: function(a) {
                var b = this.link.get(),
                    c = this.image ? this.image.get() : null;
                c || b || this.opts.toolbarInline ?
                    (a.removeClass("fr-hidden"),
                        a.next(".fr-separator").removeClass("fr-hidden")) :
                    (a.addClass("fr-hidden"),
                        a.next(".fr-separator").addClass("fr-hidden"));
            }
        }),
        a.FE.DefineIcon("linkList", { NAME: "search" }),
        a.FE.RegisterCommand("linkList", {
            title: "Choose Link",
            type: "dropdown",
            focus: !1,
            undo: !1,
            refreshAfterCallback: !1,
            html: function() {
                for (
                    var a = '<ul class="fr-dropdown-list">',
                        b = this.opts.linkList,
                        c = 0; c < b.length; c++
                )
                    a +=
                    '<li><a class="fr-command" data-cmd="linkList" data-param1="' +
                    c +
                    '">' +
                    (b[c].displayText || b[c].text) +
                    "</a></li>";
                return (a += "</ul>");
            },
            callback: function(a, b) {
                this.link.usePredefined(b);
            }
        }),
        a.FE.RegisterCommand("linkInsert", {
            focus: !1,
            refreshAfterCallback: !1,
            callback: function() {
                this.link.insertCallback();
            },
            refresh: function(a) {
                var b = this.link.get();
                b
                    ?
                    a.text(this.language.translate("Update")) :
                    a.text(this.language.translate("Insert"));
            }
        }),
        a.FE.DefineIcon("imageLink", { NAME: "link" }),
        a.FE.RegisterCommand("imageLink", {
            title: "Insert Link",
            undo: !1,
            focus: !1,
            callback: function() {
                this.link.imageLink();
            },
            refresh: function(a) {
                var b,
                    c = this.link.get();
                c
                    ?
                    ((b = a.prev()),
                        b.hasClass("fr-separator") && b.removeClass("fr-hidden"),
                        a.addClass("fr-hidden")) :
                    ((b = a.prev()),
                        b.hasClass("fr-separator") && b.addClass("fr-hidden"),
                        a.removeClass("fr-hidden"));
            }
        }),
        a.FE.DefineIcon("linkStyle", { NAME: "magic" }),
        a.FE.RegisterCommand("linkStyle", {
            title: "Style",
            type: "dropdown",
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.linkStyles;
                for (var c in b)
                    b.hasOwnProperty(c) &&
                    (a +=
                        '<li><a class="fr-command" data-cmd="linkStyle" data-param1="' +
                        c +
                        '">' +
                        this.language.translate(b[c]) +
                        "</a></li>");
                return (a += "</ul>");
            },
            callback: function(a, b) {
                this.link.applyStyle(b);
            },
            refreshOnShow: function(b, c) {
                var d = this.link.get();
                if (d) {
                    var e = a(d);
                    c.find(".fr-command").each(function() {
                        var b = a(this).data("param1");
                        a(this).toggleClass("fr-active", e.hasClass(b));
                    });
                }
            }
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    (a.FE.PLUGINS.lists = function(b) {
        function c(a) {
            return '<span class="fr-open-' + a.toLowerCase() + '"></span>';
        }

        function d(a) {
            return '<span class="fr-close-' + a.toLowerCase() + '"></span>';
        }

        function e(b, c) {
            for (var d = [], e = 0; e < b.length; e++) {
                var f = b[e].parentNode;
                "LI" == b[e].tagName &&
                    f.tagName != c &&
                    d.indexOf(f) < 0 &&
                    d.push(f);
            }
            for (e = d.length - 1; e >= 0; e--) {
                var g = a(d[e]);
                g.replaceWith(
                    "<" +
                    c.toLowerCase() +
                    ">" +
                    g.html() +
                    "</" +
                    c.toLowerCase() +
                    ">"
                );
            }
        }

        function f(c, d) {
            e(c, d);
            for (var f = b.html.defaultTag(), g = 0; g < c.length; g++)
                "LI" != c[g].tagName &&
                (f && c[g].tagName.toLowerCase() == f ?
                    a(c[g]).replaceWith(
                        "<" +
                        d +
                        "><li" +
                        b.node.attributes(c[g]) +
                        ">" +
                        a(c[g]).html() +
                        "</li></" +
                        d +
                        ">"
                    ) :
                    a(c[g]).wrap("<" + d + "><li></li></" + d + ">"));
            b.clean.lists();
        }

        function g(e) {
            var f, g;
            for (f = e.length - 1; f >= 0; f--)
                for (g = f - 1; g >= 0; g--)
                    if (a(e[g]).find(e[f]).length || e[g] == e[f]) {
                        e.splice(f, 1);
                        break;
                    }
            var h = [];
            for (f = 0; f < e.length; f++) {
                var i = a(e[f]),
                    j = e[f].parentNode;
                i.before(d(j.tagName)),
                    "LI" == j.parentNode.tagName ?
                    (i.before(d("LI")), i.after(c("LI"))) :
                    (b.node.isEmpty(i.get(0), !0) ||
                        0 !== i.find(b.html.blockTagsQuery()).length ||
                        i.append("<br>"),
                        i.append(c("LI")),
                        i.prepend(d("LI"))),
                    i.after(c(j.tagName)),
                    "LI" == j.parentNode.tagName && (j = j.parentNode.parentNode),
                    h.indexOf(j) < 0 && h.push(j);
            }
            for (f = 0; f < h.length; f++) {
                var k = a(h[f]),
                    l = k.html();
                (l = l.replace(/<span class="fr-close-([a-z]*)"><\/span>/g, "</$1>")),
                (l = l.replace(/<span class="fr-open-([a-z]*)"><\/span>/g, "<$1>")),
                k.replaceWith(
                    b.node.openTagString(k.get(0)) +
                    l +
                    b.node.closeTagString(k.get(0))
                );
            }
            b.$el.find("li:empty").remove(),
                b.$el.find("ul:empty, ol:empty").remove(),
                b.clean.lists(),
                b.html.wrap();
        }

        function h(a, b) {
            for (var c = !0, d = 0; d < a.length; d++) {
                if ("LI" != a[d].tagName) return !1;
                a[d].parentNode.tagName != b && (c = !1);
            }
            return c;
        }

        function i(a) {
            b.selection.save(), b.html.wrap(!0, !0, !0, !0), b.selection.restore();
            for (var c = b.selection.blocks(), d = 0; d < c.length; d++)
                "LI" != c[d].tagName &&
                "LI" == c[d].parentNode.tagName &&
                (c[d] = c[d].parentNode);
            b.selection.save(),
                h(c, a) ? g(c) : f(c, a),
                b.html.unwrap(),
                b.selection.restore();
        }

        function j(c, d) {
            var e = a(b.selection.element());
            if (e.get(0) != b.$el.get(0)) {
                var f = e.get(0);
                "LI" != f.tagName && (f = e.parents("li").get(0)),
                    f &&
                    f.parentNode.tagName == d &&
                    b.$el.get(0).contains(f.parentNode) &&
                    c.addClass("fr-active");
            }
        }

        function k(c) {
            b.selection.save();
            for (var d = 0; d < c.length; d++) {
                var e = c[d].previousSibling;
                if (e) {
                    var f = a(c[d])
                        .find("> ul, > ol")
                        .get(0);
                    if (f) {
                        for (
                            var g = a("<li>").prependTo(a(f)), h = b.node.contents(c[d])[0]; h && !b.node.isList(h);

                        ) {
                            var i = h.nextSibling;
                            g.append(h), (h = i);
                        }
                        a(e).append(a(f)), a(c[d]).remove();
                    } else {
                        var j = a(e)
                            .find("> ul, > ol")
                            .get(0);
                        if (j) a(j).append(a(c[d]));
                        else {
                            var k = a("<" + c[d].parentNode.tagName + ">");
                            a(e).append(k), k.append(a(c[d]));
                        }
                    }
                }
            }
            b.clean.lists(), b.selection.restore();
        }

        function l(a) {
            b.selection.save(), g(a), b.selection.restore();
        }

        function m(a) {
            if ("indent" == a || "outdent" == a) {
                for (
                    var c = !1, d = b.selection.blocks(), e = [], f = 0; f < d.length; f++
                )
                    "LI" == d[f].tagName ?
                    ((c = !0), e.push(d[f])) :
                    "LI" == d[f].parentNode.tagName &&
                    ((c = !0), e.push(d[f].parentNode));
                c && ("indent" == a ? k(e) : l(e));
            }
        }

        function n() {
            b.events.on("commands.after", m),
                b.events.on(
                    "keydown",
                    function(c) {
                        if (c.which == a.FE.KEYCODE.TAB) {
                            for (
                                var d, e = b.selection.blocks(), f = [], g = 0; g < e.length; g++
                            )
                                "LI" == e[g].tagName ?
                                ((d = !0), f.push(e[g])) :
                                "LI" == e[g].parentNode.tagName &&
                                ((d = !0), f.push(e[g].parentNode));
                            if (d)
                                return (
                                    c.preventDefault(),
                                    c.stopPropagation(),
                                    c.shiftKey ? l(f) : k(f), !1
                                );
                        }
                    }, !0
                );
        }
        return { _init: n, format: i, refresh: j };
    }),
    a.FE.RegisterCommand("formatUL", {
            title: "Unordered List",
            refresh: function(a) {
                this.lists.refresh(a, "UL");
            },
            callback: function() {
                this.lists.format("UL");
            },
            plugin: "lists"
        }),
        a.FE.RegisterCommand("formatOL", {
            title: "Ordered List",
            refresh: function(a) {
                this.lists.refresh(a, "OL");
            },
            callback: function() {
                this.lists.format("OL");
            },
            plugin: "lists"
        }),
        a.FE.DefineIcon("formatUL", { NAME: "list-ul" }),
        a.FE.DefineIcon("formatOL", { NAME: "list-ol" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            paragraphFormat: {
                N: "Normal",
                H1: "Heading 1",
                H2: "Heading 2",
                H3: "Heading 3",
                H4: "Heading 4",
                PRE: "Code"
            },
            paragraphFormatSelection: !1
        }),
        (a.FE.PLUGINS.paragraphFormat = function(b) {
            function c(c, d) {
                var e = b.html.defaultTag();
                if (d && d.toLowerCase() != e)
                    if (c.find("ul, ol").length > 0) {
                        var f = a("<" + d + ">");
                        c.prepend(f);
                        for (
                            var g = b.node.contents(c.get(0))[0]; g && ["UL", "OL"].indexOf(g.tagName) < 0;

                        ) {
                            var h = g.nextSibling;
                            f.append(g), (g = h);
                        }
                    } else c.html("<" + d + ">" + c.html() + "</" + d + ">");
            }

            function d(c, d) {
                var e = b.html.defaultTag();
                d || (d = 'div class="fr-temp-div" data-empty="true"'),
                    d.toLowerCase() == e ?
                    c.replaceWith(c.html()) :
                    c.replaceWith(a("<" + d + ">").html(c.html()));
            }

            function e(c, d) {
                var e = b.html.defaultTag();
                d ||
                    (d =
                        'div class="fr-temp-div"' +
                        (b.node.isEmpty(c.get(0), !0) ? ' data-empty="true"' : "")),
                    d.toLowerCase() == e ?
                    (b.node.isEmpty(c.get(0), !0) || c.append("<br/>"),
                        c.replaceWith(c.html())) :
                    c.replaceWith(a("<" + d + ">").html(c.html()));
            }

            function f(c, d) {
                d ||
                    (d =
                        'div class="fr-temp-div"' +
                        (b.node.isEmpty(c.get(0), !0) ? ' data-empty="true"' : "")),
                    c.replaceWith(
                        a("<" + d + " " + b.node.attributes(c.get(0)) + ">").html(
                            c.html()
                        )
                    );
            }

            function g(g) {
                "N" == g && (g = b.html.defaultTag()),
                    b.selection.save(),
                    b.html.wrap(!0, !0, !0, !0),
                    b.selection.restore();
                var h = b.selection.blocks();
                b.selection.save(), b.$el.find("pre").attr("skip", !0);
                for (var i = 0; i < h.length; i++)
                    if (h[i].tagName != g && !b.node.isList(h[i])) {
                        var j = a(h[i]);
                        "LI" == h[i].tagName ?
                            c(j, g) :
                            "LI" == h[i].parentNode.tagName && h[i] ?
                            d(j, g) : ["TD", "TH"].indexOf(h[i].parentNode.tagName) >= 0 ?
                            e(j, g) :
                            f(j, g);
                    }
                b.$el
                    .find('pre:not([skip="true"]) + pre:not([skip="true"])')
                    .each(function() {
                        a(this)
                            .prev()
                            .append("<br>" + a(this).html()),
                            a(this).remove();
                    }),
                    b.$el.find("pre").removeAttr("skip"),
                    b.html.unwrap(),
                    b.selection.restore();
            }

            function h(a, c) {
                var d = b.selection.blocks();
                if (d.length) {
                    var e = d[0],
                        f = "N",
                        g = b.html.defaultTag();
                    e.tagName.toLowerCase() != g &&
                        e != b.$el.get(0) &&
                        (f = e.tagName),
                        c
                        .find('.fr-command[data-param1="' + f + '"]')
                        .addClass("fr-active");
                } else c.find('.fr-command[data-param1="N"]').addClass("fr-active");
            }

            function i(a) {
                if (b.opts.paragraphFormatSelection) {
                    var c = b.selection.blocks();
                    if (c.length) {
                        var d = c[0],
                            e = "N",
                            f = b.html.defaultTag();
                        d.tagName.toLowerCase() != f &&
                            d != b.$el.get(0) &&
                            (e = d.tagName), ["LI", "TD", "TH"].indexOf(e) >= 0 && (e = "N"),
                            a.find("> span").text(b.opts.paragraphFormat[e]);
                    } else a.find("> span").text(b.opts.paragraphFormat.N);
                }
            }
            return { apply: g, refreshOnShow: h, refresh: i };
        }),
        a.FE.RegisterShortcut(
            a.FE.KEYCODE.ZERO,
            "paragraphFormat",
            "N",
            "0", !1, !0
        ),
        a.FE.RegisterShortcut(
            a.FE.KEYCODE.ONE,
            "paragraphFormat",
            "H1",
            "1", !1, !0
        ),
        a.FE.RegisterShortcut(
            a.FE.KEYCODE.TWO,
            "paragraphFormat",
            "H2",
            "2", !1, !0
        ),
        a.FE.RegisterShortcut(
            a.FE.KEYCODE.THREE,
            "paragraphFormat",
            "H3",
            "3", !1, !0
        ),
        a.FE.RegisterShortcut(
            a.FE.KEYCODE.FOUR,
            "paragraphFormat",
            "H4",
            "4", !1, !0
        ),
        a.FE.RegisterCommand("paragraphFormat", {
            type: "dropdown",
            displaySelection: function(a) {
                return a.opts.paragraphFormatSelection;
            },
            defaultSelection: "Normal",
            displaySelectionWidth: 100,
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.paragraphFormat;
                for (var c in b)
                    if (b.hasOwnProperty(c)) {
                        var d = this.shortcuts.get("paragraphFormat." + c);
                        (d = d ? '<span class="fr-shortcut">' + d + "</span>" : ""),
                        (a +=
                            "<li><" +
                            ("N" == c ? this.html.defaultTag() || "DIV" : c) +
                            ' style="padding: 0 !important; margin: 0 !important;"><a class="fr-command" data-cmd="paragraphFormat" data-param1="' +
                            c +
                            '" title="' +
                            this.language.translate(b[c]) +
                            '">' +
                            this.language.translate(b[c]) +
                            "</a></" +
                            ("N" == c ? this.html.defaultTag() || "DIV" : c) +
                            "></li>");
                    }
                return (a += "</ul>");
            },
            title: "Paragraph Format",
            callback: function(a, b) {
                this.paragraphFormat.apply(b);
            },
            refresh: function(a) {
                this.paragraphFormat.refresh(a);
            },
            refreshOnShow: function(a, b) {
                this.paragraphFormat.refreshOnShow(a, b);
            },
            plugin: "paragraphFormat"
        }),
        a.FE.DefineIcon("paragraphFormat", { NAME: "paragraph" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            paragraphStyles: {
                "fr-text-gray": "Gray",
                "fr-text-bordered": "Bordered",
                "fr-text-spaced": "Spaced",
                "fr-text-uppercase": "Uppercase"
            },
            paragraphMultipleStyles: !0
        }),
        (a.FE.PLUGINS.paragraphStyle = function(b) {
            function c(c, d, e) {
                "undefined" == typeof d && (d = b.opts.paragraphStyles),
                    "undefined" == typeof e && (e = b.opts.paragraphMultipleStyles);
                var f = "";
                e ||
                    ((f = Object.keys(d)),
                        f.splice(f.indexOf(c), 1),
                        (f = f.join(" "))),
                    b.selection.save(),
                    b.html.wrap(!0, !0, !0, !0),
                    b.selection.restore();
                var g = b.selection.blocks();
                b.selection.save();
                for (var h = a(g[0]).hasClass(c), i = 0; i < g.length; i++)
                    a(g[i])
                    .removeClass(f)
                    .toggleClass(c, !h),
                    a(g[i]).hasClass("fr-temp-div") &&
                    a(g[i]).removeClass("fr-temp-div"),
                    "" === a(g[i]).attr("class") && a(g[i]).removeAttr("class");
                b.html.unwrap(), b.selection.restore();
            }

            function d(c, d) {
                var e = b.selection.blocks();
                if (e.length) {
                    var f = a(e[0]);
                    d.find(".fr-command").each(function() {
                        var b = a(this).data("param1");
                        a(this).toggleClass("fr-active", f.hasClass(b));
                    });
                }
            }

            function e() {}
            return { _init: e, apply: c, refreshOnShow: d };
        }),
        a.FE.RegisterCommand("paragraphStyle", {
            type: "dropdown",
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.paragraphStyles;
                for (var c in b)
                    b.hasOwnProperty(c) &&
                    (a +=
                        '<li><a class="fr-command ' +
                        c +
                        '" data-cmd="paragraphStyle" data-param1="' +
                        c +
                        '" title="' +
                        this.language.translate(b[c]) +
                        '">' +
                        this.language.translate(b[c]) +
                        "</a></li>");
                return (a += "</ul>");
            },
            title: "Paragraph Style",
            callback: function(a, b) {
                this.paragraphStyle.apply(b);
            },
            refreshOnShow: function(a, b) {
                this.paragraphStyle.refreshOnShow(a, b);
            },
            plugin: "paragraphStyle"
        }),
        a.FE.DefineIcon("paragraphStyle", { NAME: "magic" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            quickInsertButtons: ["image", "table", "ul", "ol", "hr"],
            quickInsertTags: [
                "p",
                "div",
                "h1",
                "h2",
                "h3",
                "h4",
                "h5",
                "h6",
                "pre",
                "blockquote"
            ]
        }),
        (a.FE.QUICK_INSERT_BUTTONS = {
            image: {
                icon: "insertImage",
                callback: function() {
                    var b = this;
                    b.shared.$qi_image_input ||
                        ((b.shared.$qi_image_input = a(
                                '<input accept="image/*" name="quickInsertImage' +
                                this.id +
                                '" style="display: none;" type="file">'
                            )),
                            a("body").append(b.shared.$qi_image_input),
                            b.events.$on(
                                b.shared.$qi_image_input,
                                "change",
                                function() {
                                    var b = a(this).data("inst");
                                    this.files &&
                                        (b.quickInsert.hide(), b.image.upload(this.files)),
                                        a(this).val("");
                                }, !0
                            )),
                        (b.$qi_image_input = b.shared.$qi_image_input),
                        b.helpers.isMobile() && b.selection.save(),
                        b.$qi_image_input.data("inst", b).trigger("click");
                },
                requiredPlugin: "image",
                title: "Insert Image"
            },
            table: {
                icon: "insertTable",
                callback: function() {
                    this.quickInsert.hide(),
                        this.table.insert(2, 2),
                        this.undo.saveStep();
                },
                requiredPlugin: "table",
                title: "Insert Table"
            },
            ol: {
                icon: "formatOL",
                callback: function() {
                    this.quickInsert.hide(),
                        this.lists.format("OL"),
                        this.undo.saveStep();
                },
                requiredPlugin: "lists",
                title: "Ordered List"
            },
            ul: {
                icon: "formatUL",
                callback: function() {
                    this.quickInsert.hide(),
                        this.lists.format("UL"),
                        this.undo.saveStep();
                },
                requiredPlugin: "lists",
                title: "Unordered List"
            },
            hr: {
                icon: "insertHR",
                callback: function() {
                    this.quickInsert.hide(),
                        this.commands.insertHR(),
                        this.undo.saveStep();
                },
                title: "Insert Horizontal Line"
            }
        }),
        (a.FE.RegisterQuickInsertCommand = function(b, c) {
            a.FE.QUICK_INSERT_BUTTONS[b] = c;
        }),
        (a.FE.PLUGINS.quickInsert = function(b) {
            function c(c) {
                j || h(), b.$box.append(j);
                var d, e;
                (d =
                    c.offset().top -
                    b.$box.offset().top -
                    (j.outerHeight() - c.outerHeight()) / 2),
                (e = 0 - j.outerWidth()),
                b.opts.iframe &&
                    (d += b.$iframe.offset().top - a(b.o_win).scrollTop()),
                    j.css("top", d),
                    j.css("left", e),
                    j.data("tag", c),
                    j.addClass("fr-visible");
            }

            function d() {
                var d = b.selection.element();
                b.node.isBlock(d) || (d = b.node.blockParent(d)),
                    d && b.node.isEmpty(d) && b.node.isElement(d.parentNode) ?
                    d && b.selection.isCollapsed() && c(a(d)) :
                    e();
            }

            function e() {
                j &&
                    (b.html.checkIfEmpty(),
                        j.hasClass("fr-on") && g(),
                        j.removeClass("fr-visible fr-on"),
                        j.css("left", -9999).css("top", -9999));
            }

            function f(c) {
                if ((c.preventDefault(), j.hasClass("fr-on"))) g();
                else {
                    if (!b.shared.$qi_helper) {
                        for (
                            var d = b.opts.quickInsertButtons,
                                e = '<div class="fr-qi-helper">',
                                f = 0,
                                h = 0; h < d.length; h++
                        ) {
                            var i = a.FE.QUICK_INSERT_BUTTONS[d[h]];
                            i &&
                                (!i.requiredPlugin ||
                                    (a.FE.PLUGINS[i.requiredPlugin] &&
                                        b.opts.pluginsEnabled.indexOf(i.requiredPlugin) >= 0)) &&
                                (e +=
                                    '<a class="fr-btn fr-floating-btn" role="button" title="' +
                                    b.language.translate(i.title) +
                                    '" tabindex="-1" data-cmd="' +
                                    d[h] +
                                    '" style="transition-delay: ' +
                                    0.025 * f++ +
                                    's;">' +
                                    b.icon.create(i.icon) +
                                    "</a>");
                        }
                        (e += "</div>"),
                        (b.shared.$qi_helper = a(e)),
                        b.tooltip.bind(b.shared.$qi_helper, ".fr-qi-helper > a.fr-btn");
                    }
                    (k = b.shared.$qi_helper),
                    k.appendTo(b.$box),
                        setTimeout(function() {
                            k.css("top", parseFloat(j.css("top"))),
                                k.css("left", parseFloat(j.css("left")) + j.outerWidth()),
                                k.find("a").addClass("fr-size-1"),
                                j.addClass("fr-on");
                        }, 10);
                }
            }

            function g() {
                var a = b.$box.find(".fr-qi-helper");
                a.length &&
                    (a.find("a").removeClass("fr-size-1"),
                        a.css("left", -9999),
                        j.removeClass("fr-on"));
            }

            function h() {
                b.shared.$quick_insert ||
                    (b.shared.$quick_insert = a(
                        '<div class="fr-quick-insert"><a class="fr-floating-btn" role="button" tabindex="-1" title="' +
                        b.language.translate("Quick Insert") +
                        '"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'
                    )),
                    (j = b.shared.$quick_insert),
                    b.tooltip.bind(b.$box, ".fr-quick-insert > a.fr-floating-btn"),
                    b.events.on(
                        "destroy",
                        function() {
                            j
                                .removeClass("fr-on")
                                .appendTo(a("body"))
                                .css("left", -9999)
                                .css("top", -9999),
                                k && (g(), k.appendTo(a("body")));
                        }, !0
                    ),
                    b.events.on(
                        "shared.destroy",
                        function() {
                            j
                                .html("")
                                .removeData()
                                .remove(),
                                (j = null),
                                k &&
                                (k
                                    .html("")
                                    .removeData()
                                    .remove(),
                                    (k = null));
                        }, !0
                    ),
                    b.events.on("commands.before", e),
                    b.events.on("commands.after", function() {
                        b.popups.areVisible() || d();
                    }),
                    b.events.bindClick(b.$box, ".fr-quick-insert > a", f),
                    b.events.bindClick(b.$box, ".fr-qi-helper > a.fr-btn", function(c) {
                        var d = a(c.currentTarget).data("cmd");
                        a.FE.QUICK_INSERT_BUTTONS[d].callback.apply(b, [c.currentTarget]);
                    });
            }

            function i() {
                return b.$wp ?
                    (b.opts.iframe &&
                        b.$el
                        .parent("html")
                        .find("head")
                        .append(
                            '<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">'
                        ),
                        b.popups.onShow("image.edit", e),
                        b.events.on("mouseup", d),
                        b.helpers.isMobile() &&
                        b.events.$on(a(b.o_doc), "selectionchange", d),
                        b.events.on("blur", e),
                        void b.events.on("keyup", d)) :
                    !1;
            }
            var j, k;
            return { _init: i, hide: e };
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    (a.FE.PLUGINS.quote = function(b) {
        function c(a) {
            for (; a.parentNode && a.parentNode != b.$el.get(0);) a = a.parentNode;
            return a;
        }

        function d() {
            var d,
                e = b.selection.blocks();
            for (d = 0; d < e.length; d++) e[d] = c(e[d]);
            b.selection.save();
            var f = a("<blockquote>");
            for (f.insertBefore(e[0]), d = 0; d < e.length; d++) f.append(e[d]);
            b.html.unwrap(), b.selection.restore();
        }

        function e() {
            var c,
                d = b.selection.blocks();
            for (c = 0; c < d.length; c++)
                "BLOCKQUOTE" != d[c].tagName &&
                (d[c] = a(d[c])
                    .parentsUntil(b.$el, "BLOCKQUOTE")
                    .get(0));
            for (b.selection.save(), c = 0; c < d.length; c++)
                d[c] && a(d[c]).replaceWith(d[c].innerHTML);
            b.html.unwrap(), b.selection.restore();
        }

        function f(a) {
            b.selection.save(),
                b.html.wrap(!0, !0, !0, !0),
                b.selection.restore(),
                "increase" == a ? d() : "decrease" == a && e();
        }
        return { apply: f };
    }),
    a.FE.RegisterShortcut(
            a.FE.KEYCODE.SINGLE_QUOTE,
            "quote",
            "increase",
            "'"
        ),
        a.FE.RegisterShortcut(
            a.FE.KEYCODE.SINGLE_QUOTE,
            "quote",
            "decrease",
            "'", !0
        ),
        a.FE.RegisterCommand("quote", {
            title: "Quote",
            type: "dropdown",
            options: { increase: "Increase", decrease: "Decrease" },
            callback: function(a, b) {
                this.quote.apply(b);
            },
            plugin: "quote"
        }),
        a.FE.DefineIcon("quote", { NAME: "quote-left" });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {
            saveInterval: 1e4,
            saveURL: null,
            saveParams: {},
            saveParam: "body",
            saveMethod: "POST"
        }),
        (a.FE.PLUGINS.save = function(b) {
            function c(a, c) {
                b.events.trigger("save.error", [{ code: a, message: n[a] }, c]);
            }

            function d(d) {
                if (
                    ("undefined" == typeof d && (d = b.html.get()),
                        b.events.trigger("save.before") === !1)
                )
                    return !1;
                if (b.opts.saveURL) {
                    var e = {};
                    for (var f in b.opts.saveParams)
                        if (b.opts.saveParams.hasOwnProperty(f)) {
                            var g = b.opts.saveParams[f];
                            "function" == typeof g ? (e[f] = g.call(this)) : (e[f] = g);
                        }
                    var h = {};
                    (h[b.opts.saveParam] = d),
                    a
                        .ajax({
                            type: b.opts.saveMethod,
                            url: b.opts.saveURL,
                            data: a.extend(h, e),
                            crossDomain: b.opts.requestWithCORS,
                            xhrFields: { withCredentials: b.opts.requestWithCORS },
                            headers: b.opts.requestHeaders
                        })
                        .done(function(a) {
                            b.events.trigger("save.after", [a]);
                        })
                        .fail(function(a) {
                            c(m, a.response || a.responseText);
                        });
                } else c(l);
            }

            function e() {
                clearTimeout(i),
                    (i = setTimeout(function() {
                        var a = b.html.get();
                        (j != a || k) && ((j = a), (k = !1), d(a));
                    }, b.opts.saveInterval));
            }

            function f() {
                e(), (k = !1);
            }

            function g() {
                k = !0;
            }

            function h() {
                b.opts.saveInterval &&
                    ((j = b.html.get()),
                        b.events.on("contentChanged", e),
                        b.events.on("keydown", function() {
                            clearTimeout(i);
                        }));
            }
            var i = null,
                j = null,
                k = !1,
                l = 1,
                m = 2,
                n = {};
            return (
                (n[l] = "Missing saveURL option."),
                (n[m] = "Something went wrong during save."), { _init: h, save: d, reset: f, force: g }
            );
        }),
        a.FE.DefineIcon("save", { NAME: "floppy-o" }),
        a.FE.RegisterCommand("save", {
            title: "Save",
            undo: !1,
            focus: !1,
            refreshAfterCallback: !1,
            callback: function() {
                this.save.save();
            },
            plugin: "save"
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.POPUP_TEMPLATES, {
            "table.insert": "[_BUTTONS_][_ROWS_COLUMNS_]",
            "table.edit": "[_BUTTONS_]",
            "table.colors": "[_BUTTONS_][_COLORS_]"
        }),
        a.extend(a.FE.DEFAULTS, {
            tableInsertMaxSize: 10,
            tableEditButtons: [
                "tableHeader",
                "tableRemove",
                "|",
                "tableRows",
                "tableColumns",
                "tableStyle",
                "-",
                "tableCells",
                "tableCellBackground",
                "tableCellVerticalAlign",
                "tableCellHorizontalAlign",
                "tableCellStyle"
            ],
            tableInsertButtons: ["tableBack", "|"],
            tableResizer: !0,
            tableResizerOffset: 5,
            tableResizingLimit: 30,
            tableColorsButtons: ["tableBack", "|"],
            tableColors: [
                "#61BD6D",
                "#1ABC9C",
                "#54ACD2",
                "#2C82C9",
                "#9365B8",
                "#475577",
                "#CCCCCC",
                "#41A85F",
                "#00A885",
                "#3D8EB9",
                "#2969B0",
                "#553982",
                "#28324E",
                "#000000",
                "#F7DA64",
                "#FBA026",
                "#EB6B56",
                "#E25041",
                "#A38F84",
                "#EFEFEF",
                "#FFFFFF",
                "#FAC51C",
                "#F37934",
                "#D14841",
                "#B8312F",
                "#7C706B",
                "#D1D5D8",
                "REMOVE"
            ],
            tableColorsStep: 7,
            tableCellStyles: {
                "fr-highlighted": "Highlighted",
                "fr-thick": "Thick"
            },
            tableStyles: {
                "fr-dashed-borders": "Dashed Borders",
                "fr-alternate-rows": "Alternate Rows"
            },
            tableCellMultipleStyles: !0,
            tableMultipleStyles: !0,
            tableInsertHelper: !0,
            tableInsertHelperOffset: 15
        }),
        (a.FE.PLUGINS.table = function(b) {
            function c() {
                var a = b.$tb.find('.fr-command[data-cmd="insertTable"]'),
                    c = b.popups.get("table.insert");
                if ((c || (c = g()), !c.hasClass("fr-active"))) {
                    b.popups.refresh("table.insert"),
                        b.popups.setContainer("table.insert", b.$tb);
                    var d = a.offset().left + a.outerWidth() / 2,
                        e =
                        a.offset().top +
                        (b.opts.toolbarBottom ? 10 : a.outerHeight() - 10);
                    b.popups.show("table.insert", d, e, a.outerHeight());
                }
            }

            function d() {
                var c = B();
                if (c) {
                    var d = b.popups.get("table.edit");
                    d || (d = i()),
                        b.popups.setContainer(
                            "table.edit",
                            a(b.opts.scrollableContainer)
                        );
                    var e = I(c),
                        f = (e.left + e.right) / 2,
                        g = e.bottom;
                    b.popups.show("table.edit", f, g, e.bottom - e.top),
                        b.edit.isDisabled() &&
                        (b.toolbar.disable(),
                            b.$el.removeClass("fr-no-selection"),
                            b.edit.on(),
                            b.selection.setAtEnd(
                                b.$el.find(".fr-selected-cell:last").get(0)
                            ),
                            b.selection.restore(),
                            b.button.bulkRefresh());
                }
            }

            function e() {
                var c = B();
                if (c) {
                    var d = b.popups.get("table.colors");
                    d || (d = j()),
                        b.popups.setContainer(
                            "table.colors",
                            a(b.opts.scrollableContainer)
                        );
                    var e = I(c),
                        f = (e.left + e.right) / 2,
                        g = e.bottom;
                    l(), b.popups.show("table.colors", f, g, e.bottom - e.top);
                }
            }

            function f() {
                0 === ga().length && b.toolbar.enable();
            }

            function g(c) {
                if (c)
                    return (
                        b.popups.onHide("table.insert", function() {
                            b.popups
                                .get("table.insert")
                                .find(
                                    '.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]'
                                )
                                .trigger("mouseenter");
                        }), !0
                    );
                var d = "";
                b.opts.tableInsertButtons.length > 0 &&
                    (d =
                        '<div class="fr-buttons">' +
                        b.button.buildList(b.opts.tableInsertButtons) +
                        "</div>");
                var e = { buttons: d, rows_columns: h() },
                    f = b.popups.create("table.insert", e);
                return (
                    b.events.$on(
                        f,
                        "mouseenter",
                        ".fr-table-size .fr-select-table-size .fr-table-cell",
                        function(c) {
                            var d = a(c.currentTarget),
                                e = d.data("row"),
                                f = d.data("col"),
                                g = d.parent();
                            g.siblings(".fr-table-size-info").html(e + " &times; " + f),
                                g.find("> span").removeClass("hover");
                            for (var h = 1; h <= b.opts.tableInsertMaxSize; h++)
                                for (var i = 0; i <= b.opts.tableInsertMaxSize; i++) {
                                    var j = g.find(
                                        '> span[data-row="' + h + '"][data-col="' + i + '"]'
                                    );
                                    e >= h && f >= i ?
                                        j.addClass("hover") :
                                        e + 1 >= h || (2 >= h && !b.helpers.isMobile()) ?
                                        j.css("display", "inline-block") :
                                        h > 2 &&
                                        !b.helpers.isMobile() &&
                                        j.css("display", "none");
                                }
                        }, !0
                    ),
                    f
                );
            }

            function h() {
                for (
                    var a =
                        '<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',
                        c = 1; c <= b.opts.tableInsertMaxSize; c++
                ) {
                    for (var d = 1; d <= b.opts.tableInsertMaxSize; d++) {
                        var e = "inline-block";
                        c > 2 && !b.helpers.isMobile() && (e = "none");
                        var f = "fr-table-cell ";
                        1 == c && 1 == d && (f += " hover"),
                            (a +=
                                '<span class="fr-command ' +
                                f +
                                '" data-cmd="tableInsert" data-row="' +
                                c +
                                '" data-col="' +
                                d +
                                '" data-param1="' +
                                c +
                                '" data-param2="' +
                                d +
                                '" style="display: ' +
                                e +
                                ';"><span></span></span>');
                    }
                    a += '<div class="new-line"></div>';
                }
                return (a += "</div></div>");
            }

            function i(a) {
                if (a) return b.popups.onHide("table.edit", f), !0;
                var c = "";
                b.opts.tableEditButtons.length > 0 &&
                    (c =
                        '<div class="fr-buttons">' +
                        b.button.buildList(b.opts.tableEditButtons) +
                        "</div>");
                var e = { buttons: c },
                    g = b.popups.create("table.edit", e);
                return (
                    b.events.$on(b.$wp, "scroll.table-edit", function() {
                        b.popups.isVisible("table.edit") && d();
                    }),
                    g
                );
            }

            function j() {
                var a = "";
                b.opts.tableColorsButtons.length > 0 &&
                    (a =
                        '<div class="fr-buttons fr-table-colors-buttons">' +
                        b.button.buildList(b.opts.tableColorsButtons) +
                        "</div>");
                var c = { buttons: a, colors: k() },
                    d = b.popups.create("table.colors", c);
                return (
                    b.events.$on(b.$wp, "scroll.table-colors", function() {
                        b.popups.isVisible("table.colors") && e();
                    }),
                    d
                );
            }

            function k() {
                for (
                    var a = '<div class="fr-table-colors">', c = 0; c < b.opts.tableColors.length; c++
                )
                    0 !== c && c % b.opts.tableColorsStep === 0 && (a += "<br>"),
                    (a +=
                        "REMOVE" != b.opts.tableColors[c] ?
                        '<span class="fr-command" style="background: ' +
                        b.opts.tableColors[c] +
                        ';" data-cmd="tableCellBackgroundColor" data-param1="' +
                        b.opts.tableColors[c] +
                        '"></span>' :
                        '<span class="fr-command" data-cmd="tableCellBackgroundColor" data-param1="REMOVE" title="' +
                        b.language.translate("Clear Formatting") +
                        '"><i class="fa fa-eraser"></i></span>');
                return (a += "</div>");
            }

            function l() {
                var a = b.popups.get("table.colors"),
                    c = b.$el.find(".fr-selected-cell:first");
                a.find(".fr-selected-color").removeClass("fr-selected-color"),
                    a
                    .find(
                        'span[data-param1="' +
                        b.helpers.RGBToHex(c.css("background-color")) +
                        '"]'
                    )
                    .addClass("fr-selected-color");
            }

            function m(c, d) {
                var e,
                    f,
                    g = '<table style="width: 100%;"><tbody>',
                    h = 100 / d;
                for (e = 0; c > e; e++) {
                    for (g += "<tr>", f = 0; d > f; f++)
                        (g += '<td style="width: ' + h.toFixed(4) + '%;">'),
                        0 === e && 0 === f && (g += a.FE.MARKERS),
                        (g += "<br></td>");
                    g += "</tr>";
                }
                (g += "</tbody></table>"), b.html.insert(g), b.selection.restore();
            }

            function n() {
                if (ga().length > 0) {
                    var a = ha();
                    b.selection.setBefore(a.get(0)) || b.selection.setAfter(a.get(0)),
                        b.selection.restore(),
                        b.popups.hide("table.edit"),
                        a.remove(),
                        b.toolbar.enable();
                }
            }

            function o() {
                var b = ha();
                if (b.length > 0 && 0 === b.find("th").length) {
                    var c,
                        e = "<thead><tr>",
                        f = 0;
                    for (
                        b.find("tr:first > td").each(function() {
                            var b = a(this);
                            f += parseInt(b.attr("colspan"), 10) || 1;
                        }),
                        c = 0; f > c; c++
                    )
                        e += "<th><br></th>";
                    (e += "</tr></thead>"), b.prepend(e), d();
                }
            }

            function p() {
                var a = ha(),
                    c = a.find("thead");
                if (c.length > 0)
                    if (0 === a.find("tbody tr").length) n();
                    else if ((c.remove(), ga().length > 0)) d();
                else {
                    b.popups.hide("table.edit");
                    var e = a.find("tbody tr:first td:first").get(0);
                    e && (b.selection.setAtEnd(e), b.selection.restore());
                }
            }

            function q(c) {
                var e = ha();
                if (e.length > 0) {
                    if (b.$el.find("th.fr-selected-cell").length > 0 && "above" == c)
                        return;
                    var f,
                        g,
                        h = B(),
                        i = G(h);
                    g = "above" == c ? i.min_i : i.max_i;
                    var j = "<tr>";
                    for (f = 0; f < h[g].length; f++)
                        if (
                            ("below" == c && g < h.length - 1 && h[g][f] == h[g + 1][f]) ||
                            ("above" == c && g > 0 && h[g][f] == h[g - 1][f])
                        ) {
                            if (0 === f || (f > 0 && h[g][f] != h[g][f - 1])) {
                                var k = a(h[g][f]);
                                k.attr("rowspan", parseInt(k.attr("rowspan"), 10) + 1);
                            }
                        } else j += "<td><br></td>";
                    j += "</tr>";
                    var l = a(
                        e
                        .find("tr")
                        .not(e.find("table tr"))
                        .get(g)
                    );
                    "below" == c
                        ?
                        l.after(j) :
                        "above" == c &&
                        (l.before(j), b.popups.isVisible("table.edit") && d());
                }
            }

            function r() {
                var c = ha();
                if (c.length > 0) {
                    var d,
                        e,
                        f,
                        g = B(),
                        h = G(g);
                    if (0 === h.min_i && h.max_i == g.length - 1) n();
                    else {
                        for (d = h.max_i; d >= h.min_i; d--) {
                            for (
                                f = a(
                                    c
                                    .find("tr")
                                    .not(c.find("table tr"))
                                    .get(d)
                                ),
                                e = 0; e < g[d].length; e++
                            )
                                if (0 === e || g[d][e] != g[d][e - 1]) {
                                    var i = a(g[d][e]);
                                    if (parseInt(i.attr("rowspan"), 10) > 1) {
                                        var j = parseInt(i.attr("rowspan"), 10) - 1;
                                        1 == j ? i.removeAttr("rowspan") : i.attr("rowspan", j);
                                    }
                                    if (
                                        d < g.length - 1 &&
                                        g[d][e] == g[d + 1][e] &&
                                        (0 === d || g[d][e] != g[d - 1][e])
                                    ) {
                                        for (
                                            var k = g[d][e], l = e; l > 0 && g[d][l] == g[d][l - 1];

                                        )
                                            l--;
                                        0 === l ?
                                            a(
                                                c
                                                .find("tr")
                                                .not(c.find("table tr"))
                                                .get(d + 1)
                                            ).prepend(k) :
                                            a(g[d + 1][l - 1]).after(k);
                                    }
                                }
                            var m = f.parent();
                            f.remove(), 0 === m.find("tr").length && m.remove(), (g = B(c));
                        }
                        h.min_i > 0 ?
                            b.selection.setAtEnd(g[h.min_i - 1][0]) :
                            b.selection.setAtEnd(g[0][0]),
                            b.selection.restore(),
                            b.popups.hide("table.edit");
                    }
                }
            }

            function s(c) {
                var e = ha();
                if (e.length > 0) {
                    var f,
                        g = B(),
                        h = G(g);
                    f = "before" == c ? h.min_j : h.max_j;
                    var i,
                        j = 100 / g[0].length,
                        k = 100 / (g[0].length + 1);
                    e.find("th, td").each(function() {
                            (i = a(this)),
                            i.data("old-width", (i.outerWidth() / e.outerWidth()) * 100);
                        }),
                        e
                        .find("tr")
                        .not(e.find("table tr"))
                        .each(function(b) {
                            for (var d, e = a(this), h = 0, i = 0; f > h - 1;) {
                                if (((d = e.find("> th, > td").get(i)), !d)) {
                                    d = null;
                                    break;
                                }
                                d == g[b][h] ?
                                    ((h += parseInt(a(d).attr("colspan"), 10) || 1), i++) :
                                    ((h += parseInt(a(g[b][h]).attr("colspan"), 10) || 1),
                                        "after" == c &&
                                        (d = 0 === i ? -1 : e.find("> th, > td").get(i - 1)));
                            }
                            var l = a(d);
                            if (
                                ("after" == c && h - 1 > f) ||
                                ("before" == c && f > 0 && g[b][f] == g[b][f - 1])
                            ) {
                                if (0 === b || (b > 0 && g[b][f] != g[b - 1][f])) {
                                    var m = parseInt(l.attr("colspan"), 10) + 1;
                                    l.attr("colspan", m),
                                        l.css(
                                            "width",
                                            ((l.data("old-width") * k) / j + k).toFixed(4) + "%"
                                        ),
                                        l.removeData("old-width");
                                }
                            } else {
                                var n;
                                (n =
                                    e.find("th").length > 0 ?
                                    '<th style="width: ' + k.toFixed(4) + '%;"><br></th>' :
                                    '<td style="width: ' +
                                    k.toFixed(4) +
                                    '%;"><br></td>'), -1 == d ?
                                    e.prepend(n) :
                                    null == d ?
                                    e.append(n) :
                                    "before" == c ?
                                    l.before(n) :
                                    "after" == c && l.after(n);
                            }
                        }),
                        e.find("th, td").each(function() {
                            (i = a(this)),
                            i.data("old-width") &&
                                (i.css(
                                        "width",
                                        ((i.data("old-width") * k) / j).toFixed(4) + "%"
                                    ),
                                    i.removeData("old-width"));
                        }),
                        b.popups.isVisible("table.edit") && d();
                }
            }

            function t() {
                var c = ha();
                if (c.length > 0) {
                    var d,
                        e,
                        f,
                        g = B(),
                        h = G(g);
                    if (0 === h.min_j && h.max_j == g[0].length - 1) n();
                    else {
                        var i = 100 / g[0].length,
                            j = 100 / (g[0].length - h.max_j + h.min_j - 1);
                        for (
                            c.find("th, td").each(function() {
                                (f = a(this)),
                                f.hasClass("fr-selected-cell") ||
                                    f.data(
                                        "old-width",
                                        (f.outerWidth() / c.outerWidth()) * 100
                                    );
                            }),
                            e = h.max_j; e >= h.min_j; e--
                        )
                            for (d = 0; d < g.length; d++)
                                if (0 === d || g[d][e] != g[d - 1][e])
                                    if (
                                        ((f = a(g[d][e])), parseInt(f.attr("colspan"), 10) > 1)
                                    ) {
                                        var k = parseInt(f.attr("colspan"), 10) - 1;
                                        1 == k ? f.removeAttr("colspan") : f.attr("colspan", k),
                                            f.css(
                                                "width",
                                                (((f.data("old-width") - $(e, g)) * j) / i).toFixed(
                                                    4
                                                ) + "%"
                                            ),
                                            f.removeData("old-width");
                                    } else {
                                        var l = a(f.parent().get(0));
                                        f.remove(),
                                            0 === l.find("> th, > td").length &&
                                            (0 === l.prev().length ||
                                                0 === l.next().length ||
                                                l.prev().find("> th[rowspan], > td[rowspan]")
                                                .length < l.prev().find("> th, > td").length) &&
                                            l.remove();
                                    }
                        h.min_j > 0 ?
                            b.selection.setAtEnd(g[h.min_i][h.min_j - 1]) :
                            b.selection.setAtEnd(g[h.min_i][0]),
                            b.selection.restore(),
                            b.popups.hide("table.edit"),
                            c.find("th, td").each(function() {
                                (f = a(this)),
                                f.data("old-width") &&
                                    (f.css(
                                            "width",
                                            ((f.data("old-width") * j) / i).toFixed(4) + "%"
                                        ),
                                        f.removeData("old-width"));
                            });
                    }
                }
            }

            function u() {
                if (
                    ga().length > 1 &&
                    (0 === b.$el.find("th.fr-selected-cell").length ||
                        0 === b.$el.find("td.fr-selected-cell").length)
                ) {
                    var c,
                        e,
                        f,
                        g = B(),
                        h = G(g),
                        i = b.$el.find(".fr-selected-cell"),
                        j = a(i[0]),
                        k = j.parent(),
                        l = k.find(".fr-selected-cell"),
                        m = j.closest("table"),
                        n = j.html(),
                        o = 0;
                    for (c = 0; c < l.length; c++) o += a(l[c]).outerWidth();
                    for (
                        j.css("width", ((o / k.outerWidth()) * 100).toFixed(4) + "%"),
                        h.min_j < h.max_j && j.attr("colspan", h.max_j - h.min_j + 1),
                        h.min_i < h.max_i && j.attr("rowspan", h.max_i - h.min_i + 1),
                        c = 1; c < i.length; c++
                    )
                        (e = a(i[c])),
                        "<br>" != e.html() &&
                        "" !== e.html() &&
                        (n += "<br>" + e.html()),
                        e.remove();
                    j.html(n),
                        b.selection.setAtEnd(j.get(0)),
                        b.selection.restore(),
                        b.toolbar.enable();
                    var p = m.find("tr:empty");
                    for (c = p.length - 1; c >= 0; c--)
                        (f = a(p[c])),
                        (0 === f.prev().length ||
                            0 === f.next().length ||
                            f.prev().find("> th[rowspan], > td[rowspan]").length <
                            f.prev().find("> th, > td").length) &&
                        f.remove();
                    d();
                }
            }

            function v() {
                if (1 == ga().length) {
                    var c = b.$el.find(".fr-selected-cell"),
                        d = c.parent(),
                        e = c.closest("table"),
                        f = parseInt(c.attr("rowspan"), 10),
                        g = B(),
                        h = C(c.get(0), g),
                        i = c.clone().html("<br>");
                    if (f > 1) {
                        var j = Math.ceil(f / 2);
                        j > 1 ? c.attr("rowspan", j) : c.removeAttr("rowspan"),
                            f - j > 1 ? i.attr("rowspan", f - j) : i.removeAttr("rowspan");
                        for (
                            var k = h.row + j, l = 0 === h.col ? h.col : h.col - 1; l >= 0 &&
                            (g[k][l] == g[k][l - 1] || (k > 0 && g[k][l] == g[k - 1][l]));

                        )
                            l--; -
                        1 == l ?
                            a(
                                e
                                .find("tr")
                                .not(e.find("table tr"))
                                .get(k)
                            ).prepend(i) :
                            a(g[k][l]).after(i);
                    } else {
                        var m,
                            n = a("<tr>").append(i);
                        for (m = 0; m < g[0].length; m++)
                            if (0 === m || g[h.row][m] != g[h.row][m - 1]) {
                                var o = a(g[h.row][m]);
                                o.is(c) ||
                                    o.attr(
                                        "rowspan",
                                        (parseInt(o.attr("rowspan"), 10) || 1) + 1
                                    );
                            }
                        d.after(n);
                    }
                    E(), b.popups.hide("table.edit");
                }
            }

            function w() {
                if (1 == ga().length) {
                    var c = b.$el.find(".fr-selected-cell"),
                        d = parseInt(c.attr("colspan"), 10) || 1,
                        e = c.parent().outerWidth(),
                        f = c.outerWidth(),
                        g = c.clone().html("<br>"),
                        h = B(),
                        i = C(c.get(0), h);
                    if (d > 1) {
                        var j = Math.ceil(d / 2);
                        f = (_(i.col, i.col + j - 1, h) / e) * 100;
                        var k = (_(i.col + j, i.col + d - 1, h) / e) * 100;
                        j > 1 ? c.attr("colspan", j) : c.removeAttr("colspan"),
                            d - j > 1 ? g.attr("colspan", d - j) : g.removeAttr("colspan"),
                            c.css("width", f.toFixed(4) + "%"),
                            g.css("width", k.toFixed(4) + "%");
                    } else {
                        var l;
                        for (l = 0; l < h.length; l++)
                            if (0 === l || h[l][i.col] != h[l - 1][i.col]) {
                                var m = a(h[l][i.col]);
                                if (!m.is(c)) {
                                    var n = (parseInt(m.attr("colspan"), 10) || 1) + 1;
                                    m.attr("colspan", n);
                                }
                            }
                            (f = ((f / e) * 100) / 2),
                        c.css("width", f.toFixed(4) + "%"),
                            g.css("width", f.toFixed(4) + "%");
                    }
                    c.after(g), E(), b.popups.hide("table.edit");
                }
            }

            function x(a) {
                "REMOVE" != a
                    ?
                    b.$el
                    .find(".fr-selected-cell")
                    .css("background-color", b.helpers.HEXtoRGB(a)) :
                    b.$el.find(".fr-selected-cell").css("background-color", "");
            }

            function y(a) {
                b.$el.find(".fr-selected-cell").css("vertical-align", a);
            }

            function z(a) {
                b.$el.find(".fr-selected-cell").css("text-align", a);
            }

            function A(a, b, c, d) {
                if (b.length > 0) {
                    if (!c) {
                        var e = Object.keys(d);
                        e.splice(e.indexOf(a), 1), b.removeClass(e.join(" "));
                    }
                    b.toggleClass(a);
                }
            }

            function B(b) {
                b = b || null;
                var c = [];
                if ((null == b && ga().length > 0 && (b = ha()), b)) {
                    var d = a(b);
                    return (
                        d
                        .find("tr")
                        .not(d.find("table tr"))
                        .each(function(b, d) {
                            var e = a(d),
                                f = 0;
                            e.find("> th, > td").each(function(d, e) {
                                for (
                                    var g = a(e),
                                        h = parseInt(g.attr("colspan"), 10) || 1,
                                        i = parseInt(g.attr("rowspan"), 10) || 1,
                                        j = b; b + i > j; j++
                                )
                                    for (var k = f; f + h > k; k++)
                                        c[j] || (c[j] = []), c[j][k] ? f++ : (c[j][k] = e);
                                f += h;
                            });
                        }),
                        c
                    );
                }
            }

            function C(a, b) {
                for (var c = 0; c < b.length; c++)
                    for (var d = 0; d < b[c].length; d++)
                        if (b[c][d] == a) return { row: c, col: d };
            }

            function D(a, b, c) {
                for (var d = a + 1, e = b + 1; d < c.length;) {
                    if (c[d][b] != c[a][b]) {
                        d--;
                        break;
                    }
                    d++;
                }
                for (d == c.length && d--; e < c[a].length;) {
                    if (c[a][e] != c[a][b]) {
                        e--;
                        break;
                    }
                    e++;
                }
                return e == c[a].length && e--, { row: d, col: e };
            }

            function E() {
                var c = b.$el.find(".fr-selected-cell");
                c.length > 0 &&
                    c.each(function() {
                        var b = a(this);
                        b.removeClass("fr-selected-cell"),
                            "" === b.attr("class") && b.removeAttr("class");
                    });
            }

            function F() {
                setTimeout(function() {
                    b.selection.clear(),
                        b.$el.addClass("fr-no-selection"),
                        b.$el.blur();
                }, 0);
            }

            function G(a) {
                var c,
                    d = a.length,
                    e = 0,
                    f = a[0].length,
                    g = 0,
                    h = b.$el.find(".fr-selected-cell");
                for (c = 0; c < h.length; c++) {
                    var i = C(h[c], a),
                        j = D(i.row, i.col, a);
                    (d = Math.min(i.row, d)),
                    (e = Math.max(j.row, e)),
                    (f = Math.min(i.col, f)),
                    (g = Math.max(j.col, g));
                }
                return { min_i: d, max_i: e, min_j: f, max_j: g };
            }

            function H(b, c, d, e, f) {
                var g,
                    h,
                    i,
                    j,
                    k = b,
                    l = c,
                    m = d,
                    n = e;
                for (g = k; l >= g; g++)
                    ((parseInt(a(f[g][m]).attr("rowspan"), 10) || 1) > 1 ||
                        (parseInt(a(f[g][m]).attr("colspan"), 10) || 1) > 1) &&
                    ((i = C(f[g][m], f)),
                        (j = D(i.row, i.col, f)),
                        (k = Math.min(i.row, k)),
                        (l = Math.max(j.row, l)),
                        (m = Math.min(i.col, m)),
                        (n = Math.max(j.col, n))),
                    ((parseInt(a(f[g][n]).attr("rowspan"), 10) || 1) > 1 ||
                        (parseInt(a(f[g][n]).attr("colspan"), 10) || 1) > 1) &&
                    ((i = C(f[g][n], f)),
                        (j = D(i.row, i.col, f)),
                        (k = Math.min(i.row, k)),
                        (l = Math.max(j.row, l)),
                        (m = Math.min(i.col, m)),
                        (n = Math.max(j.col, n)));
                for (h = m; n >= h; h++)
                    ((parseInt(a(f[k][h]).attr("rowspan"), 10) || 1) > 1 ||
                        (parseInt(a(f[k][h]).attr("colspan"), 10) || 1) > 1) &&
                    ((i = C(f[k][h], f)),
                        (j = D(i.row, i.col, f)),
                        (k = Math.min(i.row, k)),
                        (l = Math.max(j.row, l)),
                        (m = Math.min(i.col, m)),
                        (n = Math.max(j.col, n))),
                    ((parseInt(a(f[l][h]).attr("rowspan"), 10) || 1) > 1 ||
                        (parseInt(a(f[l][h]).attr("colspan"), 10) || 1) > 1) &&
                    ((i = C(f[l][h], f)),
                        (j = D(i.row, i.col, f)),
                        (k = Math.min(i.row, k)),
                        (l = Math.max(j.row, l)),
                        (m = Math.min(i.col, m)),
                        (n = Math.max(j.col, n)));
                return k == b && l == c && m == d && n == e ? { min_i: b, max_i: c, min_j: d, max_j: e } :
                    H(k, l, m, n, f);
            }

            function I(b) {
                var c = G(b),
                    d = a(b[c.min_i][c.min_j]),
                    e = a(b[c.min_i][c.max_j]),
                    f = a(b[c.max_i][c.min_j]),
                    g = d.offset().left,
                    h = e.offset().left + e.outerWidth(),
                    i = d.offset().top,
                    j = f.offset().top + f.outerHeight();
                return { left: g, right: h, top: i, bottom: j };
            }

            function J(c, d) {
                if (a(c).is(d)) E(), b.edit.on(), a(c).addClass("fr-selected-cell");
                else {
                    F(), b.edit.off();
                    var e = B(),
                        f = C(c, e),
                        g = C(d, e),
                        h = H(
                            Math.min(f.row, g.row),
                            Math.max(f.row, g.row),
                            Math.min(f.col, g.col),
                            Math.max(f.col, g.col),
                            e
                        );
                    E();
                    for (var i = h.min_i; i <= h.max_i; i++)
                        for (var j = h.min_j; j <= h.max_j; j++)
                            a(e[i][j]).addClass("fr-selected-cell");
                }
            }

            function K(c) {
                var d = null,
                    e = a(c.target);
                return (
                    "TD" == c.target.tagName || "TH" == c.target.tagName ?
                    (d = c.target) :
                    e.closest("td").length > 0 ?
                    (d = e.closest("td").get(0)) :
                    e.closest("th").length > 0 && (d = e.closest("th").get(0)),
                    0 === b.$el.find(d).length ? null : d
                );
            }

            function L() {
                E(), b.popups.hide("table.edit");
            }

            function M(c) {
                var d = K(c);
                if (
                    (ga().length > 0 && !d && L(), !b.edit.isDisabled() || b.popups.isVisible("table.edit"))
                )
                    if (
                        1 != c.which ||
                        (1 == c.which && b.helpers.isMac() && c.ctrlKey)
                    )
                        (3 == c.which ||
                            (1 == c.which && b.helpers.isMac() && c.ctrlKey)) &&
                        d &&
                        L();
                    else if (((ma = !0), d)) {
                    ga().length > 0 && !c.shiftKey && L(),
                        c.stopPropagation(),
                        b.events.trigger("image.hideResizer"),
                        b.events.trigger("video.hideResizer"),
                        (la = !0);
                    var e = d.tagName.toLowerCase();
                    c.shiftKey && b.$el.find(e + ".fr-selected-cell").length > 0 ?
                        a(b.$el.find(e + ".fr-selected-cell").closest("table")).is(
                            a(d).closest("table")
                        ) ?
                        J(na, d) :
                        F() :
                        ((b.keys.ctrlKey(c) || c.shiftKey) &&
                            (ga().length > 1 ||
                                (0 === a(d).find(b.selection.element()).length &&
                                    !a(d).is(b.selection.element()))) &&
                            F(),
                            (na = d),
                            J(na, na));
                }
            }

            function N(c) {
                if (
                    (la ||
                        b.$tb.is(c.target) ||
                        b.$tb.is(a(c.target).closest(b.$tb.get(0))) ||
                        (ga().length > 0 && b.toolbar.enable(), E()), !(1 != c.which || (1 == c.which && b.helpers.isMac() && c.ctrlKey)))
                ) {
                    if (((ma = !1), la)) {
                        la = !1;
                        var e = K(c);
                        e || 1 != ga().length ?
                            ga().length > 0 && (b.selection.isCollapsed() ? d() : E()) :
                            E();
                    }
                    if (pa) {
                        (pa = !1),
                        ja.removeClass("fr-moving"),
                            b.$el.removeClass("fr-no-selection"),
                            b.edit.on();
                        var f = parseFloat(ja.css("left")) + b.opts.tableResizerOffset;
                        b.opts.iframe && (f -= b.$iframe.offset().left),
                            ja.data("release-position", f),
                            ja.removeData("max-left"),
                            ja.removeData("max-right"),
                            Z(c),
                            R();
                    }
                }
            }

            function O(c) {
                if (la === !0) {
                    var d = a(c.currentTarget);
                    if (d.closest("table").is(ha())) {
                        if (
                            "TD" == c.currentTarget.tagName &&
                            0 === b.$el.find("th.fr-selected-cell").length
                        )
                            return void J(na, c.currentTarget);
                        if (
                            "TH" == c.currentTarget.tagName &&
                            0 === b.$el.find("td.fr-selected-cell").length
                        )
                            return void J(na, c.currentTarget);
                    }
                    F();
                }
            }

            function P(a) {
                (37 == a.which || 38 == a.which || 39 == a.which || 40 == a.which) &&
                ga().length > 0 &&
                    L();
            }

            function Q() {
                b.shared.$table_resizer ||
                    (b.shared.$table_resizer = a(
                        '<div class="fr-table-resizer"><div></div></div>'
                    )),
                    (ja = b.shared.$table_resizer),
                    b.events.$on(ja, "mousedown", function(a) {
                        return b.core.sameInstance(ja) ?
                            (ga().length > 0 && L(),
                                1 == a.which ?
                                ((pa = !0),
                                    ja.addClass("fr-moving"),
                                    F(),
                                    b.edit.off(),
                                    ja.find("div").css("opacity", 1), !1) :
                                void 0) :
                            !0;
                    }),
                    b.events.$on(ja, "mousemove", function(a) {
                        return b.core.sameInstance(ja) ?
                            void(
                                pa &&
                                (b.opts.iframe && (a.pageX -= b.$iframe.offset().left),
                                    aa(a))
                            ) :
                            !0;
                    }),
                    b.events.on(
                        "shared.destroy",
                        function() {
                            ja
                                .html("")
                                .removeData()
                                .remove(),
                                (ja = null);
                        }, !0
                    ),
                    b.events.on(
                        "destroy",
                        function() {
                            b.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),
                                ja.hide().appendTo(a("body"));
                        }, !0
                    );
            }

            function R() {
                ja &&
                    (ja.find("div").css("opacity", 0),
                        ja.css("top", 0),
                        ja.css("left", 0),
                        ja.css("height", 0),
                        ja.find("div").css("height", 0),
                        ja.hide());
            }

            function S() {
                ka && ka.removeClass("fr-visible").css("left", "-9999px");
            }

            function T(c, d) {
                var e = a(d),
                    f = e.closest("table"),
                    g = f.parent();
                if (
                    (d &&
                        "TD" != d.tagName &&
                        "TH" != d.tagName &&
                        (e.closest("td").length > 0 ?
                            (d = e.closest("td")) :
                            e.closest("th").length > 0 && (d = e.closest("th"))), !d || ("TD" != d.tagName && "TH" != d.tagName))
                )
                    ja &&
                    e.get(0) != ja.get(0) &&
                    e.parent().get(0) != ja.get(0) &&
                    b.core.sameInstance(ja) &&
                    R();
                else {
                    if (((e = a(d)), 0 === b.$el.find(e).length)) return !1;
                    var h = e.offset().left - 1,
                        i = h + e.outerWidth();
                    if (
                        Math.abs(c.pageX - h) <= b.opts.tableResizerOffset ||
                        Math.abs(i - c.pageX) <= b.opts.tableResizerOffset
                    ) {
                        var j,
                            k,
                            l,
                            m,
                            n,
                            o = B(f),
                            p = C(d, o),
                            q = D(p.row, p.col, o),
                            r = f.offset().top,
                            s = f.outerHeight() - 1;
                        "rtl" != b.opts.direction ?
                            p.col > 0 && c.pageX - h <= b.opts.tableResizerOffset ?
                            ((l = h),
                                (m = h - $(p.col - 1, o) + b.opts.tableResizingLimit),
                                (n = h + $(p.col, o) - b.opts.tableResizingLimit),
                                (j = p.col - 1),
                                (k = p.col)) :
                            i - c.pageX <= b.opts.tableResizerOffset &&
                            ((l = i),
                                q.col < o[q.row].length && o[q.row][q.col + 1] ?
                                ((m = i - $(q.col, o) + b.opts.tableResizingLimit),
                                    (n = i + $(q.col + 1, o) - b.opts.tableResizingLimit),
                                    (j = q.col),
                                    (k = q.col + 1)) :
                                ((j = q.col),
                                    (k = null),
                                    (m =
                                        f.offset().left -
                                        1 +
                                        o[0].length * b.opts.tableResizingLimit),
                                    (n =
                                        g.offset().left -
                                        1 +
                                        g.width() +
                                        parseFloat(g.css("padding-left"))))) :
                            p.col > 0 && i - c.pageX <= b.opts.tableResizerOffset ?
                            ((l = i),
                                (m = i - $(p.col, o) + b.opts.tableResizingLimit),
                                (n = i + $(p.col - 1, o) - b.opts.tableResizingLimit),
                                (j = p.col),
                                (k = p.col - 1)) :
                            c.pageX - h <= b.opts.tableResizerOffset &&
                            ((l = h),
                                q.col < o[q.row].length && o[q.row][q.col + 1] ?
                                ((m = h - $(q.col + 1, o) + b.opts.tableResizingLimit),
                                    (n = h + $(q.col, o) - b.opts.tableResizingLimit),
                                    (j = q.col + 1),
                                    (k = q.col)) :
                                ((j = null),
                                    (k = q.col),
                                    (m = g.offset().left + parseFloat(g.css("padding-left"))),
                                    (n =
                                        g.offset().left -
                                        1 +
                                        g.width() +
                                        parseFloat(g.css("padding-left")) -
                                        o[0].length * b.opts.tableResizingLimit))),
                            ja || Q(),
                            ja.data("table", f),
                            ja.data("first", j),
                            ja.data("second", k),
                            ja.data("instance", b),
                            b.$wp.append(ja);
                        var t = l - b.win.pageXOffset - b.opts.tableResizerOffset,
                            u = r - b.win.pageYOffset;
                        b.opts.iframe &&
                            ((t += b.$iframe.offset().left - a(b.o_win).scrollLeft()),
                                (u += b.$iframe.offset().top - a(b.o_win).scrollTop()),
                                (m += b.$iframe.offset().left),
                                (n += b.$iframe.offset().left)),
                            ja.data("max-left", m),
                            ja.data("max-right", n),
                            ja.data("origin", l - b.win.pageXOffset),
                            ja.css("top", u),
                            ja.css("left", t),
                            ja.css("height", s),
                            ja.find("div").css("height", s),
                            ja.css("padding-left", b.opts.tableResizerOffset),
                            ja.css("padding-right", b.opts.tableResizerOffset),
                            ja.show();
                    } else b.core.sameInstance(ja) && R();
                }
            }

            function U(c, d) {
                if (b.$box.find(".fr-line-breaker").is(":visible")) return !1;
                ka || da(), b.$box.append(ka), ka.data("instance", b);
                var e = a(d),
                    f = e.find("tr:first"),
                    g = c.pageX,
                    h = 0,
                    i = 0;
                b.opts.iframe &&
                    ((h += b.$iframe.offset().left - a(b.o_win).scrollLeft()),
                        (i += b.$iframe.offset().top - a(b.o_win).scrollTop()));
                var j;
                f.find("th, td").each(function() {
                    var c = a(this);
                    return c.offset().left <= g &&
                        g < c.offset().left + c.outerWidth() / 2 ?
                        ((j = parseInt(ka.find("a").css("width"), 10)),
                            ka.css("top", i + c.offset().top - b.win.pageYOffset - j - 5),
                            ka.css("left", h + c.offset().left - b.win.pageXOffset - j / 2),
                            ka.data("selected-cell", c),
                            ka.data("position", "before"),
                            ka.addClass("fr-visible"), !1) :
                        c.offset().left + c.outerWidth() / 2 <= g &&
                        g < c.offset().left + c.outerWidth() ?
                        ((j = parseInt(ka.find("a").css("width"), 10)),
                            ka.css("top", i + c.offset().top - b.win.pageYOffset - j - 5),
                            ka.css(
                                "left",
                                h +
                                c.offset().left +
                                c.outerWidth() -
                                b.win.pageXOffset -
                                j / 2
                            ),
                            ka.data("selected-cell", c),
                            ka.data("position", "after"),
                            ka.addClass("fr-visible"), !1) :
                        void 0;
                });
            }

            function V(c, d) {
                if (b.$box.find(".fr-line-breaker").is(":visible")) return !1;
                ka || da(), b.$box.append(ka), ka.data("instance", b);
                var e = a(d),
                    f = c.pageY,
                    g = 0,
                    h = 0;
                b.opts.iframe &&
                    ((g += b.$iframe.offset().left - a(b.o_win).scrollLeft()),
                        (h += b.$iframe.offset().top - a(b.o_win).scrollTop()));
                var i;
                e.find("tr").each(function() {
                    var c = a(this);
                    return c.offset().top <= f &&
                        f < c.offset().top + c.outerHeight() / 2 ?
                        ((i = parseInt(ka.find("a").css("width"), 10)),
                            ka.css("top", h + c.offset().top - b.win.pageYOffset - i / 2),
                            ka.css("left", g + c.offset().left - b.win.pageXOffset - i - 5),
                            ka.data("selected-cell", c.find("td:first")),
                            ka.data("position", "above"),
                            ka.addClass("fr-visible"), !1) :
                        c.offset().top + c.outerHeight() / 2 <= f &&
                        f < c.offset().top + c.outerHeight() ?
                        ((i = parseInt(ka.find("a").css("width"), 10)),
                            ka.css(
                                "top",
                                h +
                                c.offset().top +
                                c.outerHeight() -
                                b.win.pageYOffset -
                                i / 2
                            ),
                            ka.css("left", g + c.offset().left - b.win.pageXOffset - i - 5),
                            ka.data("selected-cell", c.find("td:first")),
                            ka.data("position", "below"),
                            ka.addClass("fr-visible"), !1) :
                        void 0;
                });
            }

            function W(c, d) {
                if (0 === ga().length) {
                    var e, f, g;
                    if (
                        d &&
                        ("HTML" == d.tagName ||
                            "BODY" == d.tagName ||
                            b.node.isElement(d))
                    )
                        for (e = 1; e <= b.opts.tableInsertHelperOffset; e++) {
                            if (
                                ((f = b.doc.elementFromPoint(
                                        c.pageX - b.win.pageXOffset,
                                        c.pageY - b.win.pageYOffset + e
                                    )),
                                    a(f).hasClass("fr-tooltip"))
                            )
                                return !0;
                            if (
                                f &&
                                ("TH" == f.tagName ||
                                    "TD" == f.tagName ||
                                    "TABLE" == f.tagName) &&
                                (a(f).parents(".fr-wrapper").length || b.opts.iframe)
                            )
                                return U(c, f.closest("table")), !0;
                            if (
                                ((g = b.doc.elementFromPoint(
                                        c.pageX - b.win.pageXOffset + e,
                                        c.pageY - b.win.pageYOffset
                                    )),
                                    a(g).hasClass("fr-tooltip"))
                            )
                                return !0;
                            if (
                                g &&
                                ("TH" == g.tagName ||
                                    "TD" == g.tagName ||
                                    "TABLE" == g.tagName) &&
                                (a(g).parents(".fr-wrapper").length || b.opts.iframe)
                            )
                                return V(c, g.closest("table")), !0;
                        }
                    b.core.sameInstance(ka) && S();
                }
            }

            function X(a) {
                oa = null;
                var c = b.doc.elementFromPoint(
                    a.pageX - b.win.pageXOffset,
                    a.pageY - b.win.pageYOffset
                );
                b.opts.tableResizer &&
                    (!b.popups.areVisible() ||
                        (b.popups.areVisible() && b.popups.isVisible("table.edit"))) &&
                    T(a, c), !b.opts.tableInsertHelper ||
                    b.popups.areVisible() ||
                    (b.$tb.hasClass("fr-inline") && b.$tb.is(":visible")) ||
                    W(a, c);
            }

            function Y() {
                if (pa) {
                    var c = ja.data("table"),
                        d = c.offset().top - b.win.pageYOffset;
                    b.opts.iframe &&
                        (d += b.$iframe.offset().top - a(b.o_win).scrollTop()),
                        ja.css("top", d);
                }
            }

            function Z() {
                var c = ja.data("origin"),
                    d = ja.data("release-position");
                if (c !== d) {
                    var e = ja.data("first"),
                        f = ja.data("second"),
                        g = ja.data("table"),
                        h = g.outerWidth();
                    if (null !== e && null !== f) {
                        var i,
                            j,
                            k,
                            l = B(g),
                            m = [],
                            n = [],
                            o = [],
                            p = [];
                        for (i = 0; i < l.length; i++)
                            (j = a(l[i][e])),
                            (k = a(l[i][f])),
                            (m[i] = j.outerWidth()),
                            (o[i] = k.outerWidth()),
                            (n[i] = (m[i] / h) * 100),
                            (p[i] = (o[i] / h) * 100);
                        for (i = 0; i < l.length; i++) {
                            (j = a(l[i][e])), (k = a(l[i][f]));
                            var q = ((n[i] * (m[i] + d - c)) / m[i]).toFixed(4);
                            j.css("width", q + "%"),
                                k.css("width", (n[i] + p[i] - q).toFixed(4) + "%");
                        }
                    } else {
                        var r,
                            s = g.parent(),
                            t = (h / s.width()) * 100;
                        (r = null == e ? ((h - d + c) / h) * t : ((h + d - c) / h) * t),
                        g.css("width", Math.round(r).toFixed(4) + "%");
                    }
                }
                ja.removeData("origin"),
                    ja.removeData("release-position"),
                    ja.removeData("first"),
                    ja.removeData("second"),
                    ja.removeData("table"),
                    b.undo.saveStep();
            }

            function $(b, c) {
                var d,
                    e = a(c[0][b]).outerWidth();
                for (d = 1; d < c.length; d++)
                    e = Math.min(e, a(c[d][b]).outerWidth());
                return e;
            }

            function _(a, b, c) {
                var d,
                    e = 0;
                for (d = a; b >= d; d++) e += $(d, c);
                return e;
            }

            function aa(a) {
                if (
                    (ga().length > 1 && ma && F(), ma === !1 && la === !1 && pa === !1)
                )
                    oa && clearTimeout(oa),
                    (!b.edit.isDisabled() || b.popups.isVisible("table.edit")) &&
                    (oa = setTimeout(X, 30, a));
                else if (pa) {
                    var c = a.pageX - b.win.pageXOffset;
                    b.opts.iframe && (c += b.$iframe.offset().left);
                    var d = ja.data("max-left"),
                        e = ja.data("max-right");
                    c >= d && e >= c ?
                        ja.css("left", c - b.opts.tableResizerOffset) :
                        d > c &&
                        parseFloat(ja.css("left"), 10) > d - b.opts.tableResizerOffset ?
                        ja.css("left", d - b.opts.tableResizerOffset) :
                        c > e &&
                        parseFloat(ja.css("left"), 10) <
                        e - b.opts.tableResizerOffset &&
                        ja.css("left", e - b.opts.tableResizerOffset);
                } else ma && S();
            }

            function ba(c) {
                b.node.isEmpty(c.get(0)) ?
                    c.prepend(a.FE.MARKERS) :
                    c.prepend(a.FE.START_MARKER).append(a.FE.END_MARKER);
            }

            function ca(c) {
                var d = c.which;
                if (d == a.FE.KEYCODE.TAB && 0 === b.opts.tabSpaces) {
                    var e;
                    if (ga().length > 0) e = b.$el.find(".fr-selected-cell:last");
                    else {
                        var f = b.selection.element();
                        "TD" == f.tagName || "TH" == f.tagName ?
                            (e = a(f)) :
                            a(f).closest("td").length > 0 ?
                            (e = a(f).closest("td")) :
                            a(f).closest("th").length > 0 && (e = a(f).closest("th"));
                    }
                    e &&
                        (c.preventDefault(),
                            L(),
                            c.shiftKey ?
                            e.prev().length > 0 ?
                            ba(e.prev()) :
                            e.closest("tr").length > 0 &&
                            e.closest("tr").prev().length > 0 ?
                            ba(
                                e
                                .closest("tr")
                                .prev()
                                .find("td:last")
                            ) :
                            e.closest("tbody").length > 0 &&
                            e.closest("table").find("thead tr").length > 0 &&
                            ba(e.closest("table").find("thead tr th:last")) :
                            e.next().length > 0 ?
                            ba(e.next()) :
                            e.closest("tr").length > 0 &&
                            e.closest("tr").next().length > 0 ?
                            ba(
                                e
                                .closest("tr")
                                .next()
                                .find("td:first")
                            ) :
                            e.closest("thead").length > 0 &&
                            e.closest("table").find("tbody tr").length > 0 ?
                            ba(e.closest("table").find("tbody tr td:first")) :
                            (e.addClass("fr-selected-cell"),
                                q("below"),
                                E(),
                                ba(
                                    e
                                    .closest("tr")
                                    .next()
                                    .find("td:first")
                                )),
                            b.selection.restore());
                }
            }

            function da() {
                b.shared.$ti_helper ||
                    ((b.shared.$ti_helper = a(
                            '<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabindex="-1" title="' +
                            b.language.translate("Insert") +
                            '"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'
                        )),
                        b.events.bindClick(b.shared.$ti_helper, "a", function() {
                            var a = ka.data("selected-cell"),
                                c = ka.data("position"),
                                d = ka.data("instance") || b;
                            "before" == c
                                ?
                                (a.addClass("fr-selected-cell"),
                                    d.table.insertColumn(c),
                                    a.removeClass("fr-selected-cell")) :
                                "after" == c ?
                                (a.addClass("fr-selected-cell"),
                                    d.table.insertColumn(c),
                                    a.removeClass("fr-selected-cell")) :
                                "above" == c ?
                                (a.addClass("fr-selected-cell"),
                                    d.table.insertRow(c),
                                    a.removeClass("fr-selected-cell")) :
                                "below" == c &&
                                (a.addClass("fr-selected-cell"),
                                    d.table.insertRow(c),
                                    a.removeClass("fr-selected-cell")),
                                S();
                        }),
                        b.events.on(
                            "shared.destroy",
                            function() {
                                b.shared.$ti_helper
                                    .html("")
                                    .removeData()
                                    .remove(),
                                    (b.shared.$ti_helper = null);
                            }, !0
                        ),
                        b.events.$on(
                            b.shared.$ti_helper,
                            "mousemove",
                            function(a) {
                                a.stopPropagation();
                            }, !0
                        ),
                        b.events.$on(
                            a(b.o_win),
                            "scroll",
                            function() {
                                S();
                            }, !0
                        ),
                        b.events.$on(
                            b.$wp,
                            "scroll",
                            function() {
                                S();
                            }, !0
                        )),
                    (ka = b.shared.$ti_helper),
                    b.events.on("destroy", function() {
                        ka = null;
                    }),
                    b.tooltip.bind(b.$box, ".fr-insert-helper > a.fr-floating-btn");
            }

            function ea() {
                (na = null), clearTimeout(oa);
            }

            function fa() {
                ga().length > 0 ?
                    d() :
                    (b.popups.hide("table.insert"), b.toolbar.showInline());
            }

            function ga() {
                return b.$el.get(0).querySelectorAll(".fr-selected-cell");
            }

            function ha() {
                var c = ga();
                if (c.length) {
                    for (
                        var d = c[0]; d && "TABLE" != d.tagName && d.parentNode != b.$el.get(0);

                    )
                        d = d.parentNode;
                    return a(d && "TABLE" == d.tagName ? d : []);
                }
                return a([]);
            }

            function ia() {
                if (!b.$wp) return !1;
                if (!b.helpers.isMobile()) {
                    (ma = !1),
                    (la = !1),
                    (pa = !1),
                    b.events.$on(b.$el, "mousedown", M),
                        b.popups.onShow("image.edit", function() {
                            E(), (ma = !1), (la = !1);
                        }),
                        b.popups.onShow("link.edit", function() {
                            E(), (ma = !1), (la = !1);
                        }),
                        b.events.on("commands.mousedown", function(a) {
                            a.parents(".fr-toolbar").length > 0 && E();
                        }),
                        b.events.$on(b.$el, "mouseenter", "th, td", O),
                        b.events.$on(b.$win, "mouseup", N),
                        b.opts.iframe && b.events.$on(a(b.o_win), "mouseup", N),
                        b.events.$on(b.$el, "keydown", P),
                        b.events.$on(b.$win, "mousemove", aa),
                        b.events.$on(a(b.o_win), "scroll", Y),
                        b.events.on("contentChanged", function() {
                            ga().length > 0 &&
                                (d(),
                                    b.$el.find("img").on("load.selected-cells", function() {
                                        a(this).off("load.selected-cells"), ga().length > 0 && d();
                                    }));
                        }),
                        b.events.$on(a(b.o_win), "resize", function() {
                            E();
                        }),
                        b.events.on(
                            "keydown",
                            function(c) {
                                var d = ga();
                                if (d.length > 0) {
                                    if (
                                        c.which == a.FE.KEYCODE.ESC &&
                                        b.popups.isVisible("table.edit")
                                    )
                                        return (
                                            E(),
                                            b.popups.hide("table.edit"),
                                            c.preventDefault(),
                                            c.stopPropagation(),
                                            c.stopImmediatePropagation(),
                                            (d = []), !1
                                        );
                                    if (d.length > 1 && c.which == a.FE.KEYCODE.BACKSPACE) {
                                        b.undo.saveStep();
                                        for (var e = 0; e < d.length; e++)
                                            a(d[e]).html("<br>"),
                                            e == d.length - 1 && a(d[e]).prepend(a.FE.MARKERS);
                                        return (
                                            b.selection.restore(), b.undo.saveStep(), (d = []), !1
                                        );
                                    }
                                    if (d.length > 1 && !b.keys.ctrlKey(c))
                                        return c.preventDefault(), (d = []), !1;
                                }
                                d = [];
                            }, !0
                        );
                    var c = [];
                    b.events.on("html.beforeGet", function() {
                            c = ga();
                            for (var a = 0; a < c.length; a++)
                                c[a].className = (c[a].className || "").replace(
                                    /fr-selected-cell/g,
                                    ""
                                );
                        }),
                        b.events.on("html.get", function(a) {
                            return (a = a.replace(
                                /<(td|th)((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/(td|th)>/g,
                                "<$1$2$3>$4</$5>"
                            ));
                        }),
                        b.events.on("html.afterGet", function() {
                            for (var a = 0; a < c.length; a++)
                                c[a].className =
                                (c[a].className ? c[a].className + " " : "") +
                                "fr-selected-cell";
                            c = [];
                        }),
                        g(!0),
                        i(!0);
                }
                b.events.on("keydown", ca, !0), b.events.on("destroy", ea);
            }
            var ja, ka, la, ma, na, oa, pa;
            return {
                _init: ia,
                insert: m,
                remove: n,
                insertRow: q,
                deleteRow: r,
                insertColumn: s,
                deleteColumn: t,
                mergeCells: u,
                splitCellVertically: w,
                splitCellHorizontally: v,
                addHeader: o,
                removeHeader: p,
                setBackground: x,
                showInsertPopup: c,
                showEditPopup: d,
                showColorsPopup: e,
                back: fa,
                verticalAlign: y,
                horizontalAlign: z,
                applyStyle: A,
                selectedTable: ha,
                selectedCells: ga
            };
        }),
        a.FE.DefineIcon("insertTable", { NAME: "table" }),
        a.FE.RegisterCommand("insertTable", {
            title: "Insert Table",
            undo: !1,
            focus: !0,
            refreshOnCallback: !1,
            popup: !0,
            callback: function() {
                this.popups.isVisible("table.insert") ?
                    (this.$el.find(".fr-marker") &&
                        (this.events.disableBlur(), this.selection.restore()),
                        this.popups.hide("table.insert")) :
                    this.table.showInsertPopup();
            },
            plugin: "table"
        }),
        a.FE.RegisterCommand("tableInsert", {
            callback: function(a, b, c) {
                this.table.insert(b, c), this.popups.hide("table.insert");
            }
        }),
        a.FE.DefineIcon("tableHeader", { NAME: "header" }),
        a.FE.RegisterCommand("tableHeader", {
            title: "Table Header",
            focus: !1,
            callback: function() {
                var a = this.popups
                    .get("table.edit")
                    .find('.fr-command[data-cmd="tableHeader"]');
                a.hasClass("fr-active") ?
                    this.table.removeHeader() :
                    this.table.addHeader();
            },
            refresh: function(a) {
                var b = this.table.selectedTable();
                b.length > 0 &&
                    (0 === b.find("th").length ?
                        a.removeClass("fr-active") :
                        a.addClass("fr-active"));
            }
        }),
        a.FE.DefineIcon("tableRows", { NAME: "bars" }),
        a.FE.RegisterCommand("tableRows", {
            type: "dropdown",
            focus: !1,
            title: "Row",
            options: {
                above: "Insert row above",
                below: "Insert row below",
                delete: "Delete row"
            },
            html: function() {
                var b = '<ul class="fr-dropdown-list">',
                    c = a.FE.COMMANDS.tableRows.options;
                for (var d in c)
                    c.hasOwnProperty(d) &&
                    (b +=
                        '<li><a class="fr-command" data-cmd="tableRows" data-param1="' +
                        d +
                        '" title="' +
                        this.language.translate(c[d]) +
                        '">' +
                        this.language.translate(c[d]) +
                        "</a></li>");
                return (b += "</ul>");
            },
            callback: function(a, b) {
                "above" == b || "below" == b ?
                    this.table.insertRow(b) :
                    this.table.deleteRow();
            }
        }),
        a.FE.DefineIcon("tableColumns", { NAME: "bars fa-rotate-90" }),
        a.FE.RegisterCommand("tableColumns", {
            type: "dropdown",
            focus: !1,
            title: "Column",
            options: {
                before: "Insert column before",
                after: "Insert column after",
                delete: "Delete column"
            },
            html: function() {
                var b = '<ul class="fr-dropdown-list">',
                    c = a.FE.COMMANDS.tableColumns.options;
                for (var d in c)
                    c.hasOwnProperty(d) &&
                    (b +=
                        '<li><a class="fr-command" data-cmd="tableColumns" data-param1="' +
                        d +
                        '" title="' +
                        this.language.translate(c[d]) +
                        '">' +
                        this.language.translate(c[d]) +
                        "</a></li>");
                return (b += "</ul>");
            },
            callback: function(a, b) {
                "before" == b || "after" == b ?
                    this.table.insertColumn(b) :
                    this.table.deleteColumn();
            }
        }),
        a.FE.DefineIcon("tableCells", { NAME: "square-o" }),
        a.FE.RegisterCommand("tableCells", {
            type: "dropdown",
            focus: !1,
            title: "Cell",
            options: {
                merge: "Merge cells",
                "vertical-split": "Vertical split",
                "horizontal-split": "Horizontal split"
            },
            html: function() {
                var b = '<ul class="fr-dropdown-list">',
                    c = a.FE.COMMANDS.tableCells.options;
                for (var d in c)
                    c.hasOwnProperty(d) &&
                    (b +=
                        '<li><a class="fr-command" data-cmd="tableCells" data-param1="' +
                        d +
                        '" title="' +
                        this.language.translate(c[d]) +
                        '">' +
                        this.language.translate(c[d]) +
                        "</a></li>");
                return (b += "</ul>");
            },
            callback: function(a, b) {
                "merge" == b
                    ?
                    this.table.mergeCells() :
                    "vertical-split" == b ?
                    this.table.splitCellVertically() :
                    this.table.splitCellHorizontally();
            },
            refreshOnShow: function(a, b) {
                this.$el.find(".fr-selected-cell").length > 1 ?
                    (b
                        .find('a[data-param1="vertical-split"]')
                        .addClass("fr-disabled"),
                        b
                        .find('a[data-param1="horizontal-split"]')
                        .addClass("fr-disabled"),
                        b.find('a[data-param1="merge"]').removeClass("fr-disabled")) :
                    (b.find('a[data-param1="merge"]').addClass("fr-disabled"),
                        b
                        .find('a[data-param1="vertical-split"]')
                        .removeClass("fr-disabled"),
                        b
                        .find('a[data-param1="horizontal-split"]')
                        .removeClass("fr-disabled"));
            }
        }),
        a.FE.DefineIcon("tableRemove", { NAME: "trash" }),
        a.FE.RegisterCommand("tableRemove", {
            title: "Remove Table",
            focus: !1,
            callback: function() {
                this.table.remove();
            }
        }),
        a.FE.DefineIcon("tableStyle", { NAME: "paint-brush" }),
        a.FE.RegisterCommand("tableStyle", {
            title: "Table Style",
            type: "dropdown",
            focus: !1,
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.tableStyles;
                for (var c in b)
                    b.hasOwnProperty(c) &&
                    (a +=
                        '<li><a class="fr-command" data-cmd="tableStyle" data-param1="' +
                        c +
                        '" title="' +
                        this.language.translate(b[c]) +
                        '">' +
                        this.language.translate(b[c]) +
                        "</a></li>");
                return (a += "</ul>");
            },
            callback: function(a, b) {
                this.table.applyStyle(
                    b,
                    this.$el.find(".fr-selected-cell").closest("table"),
                    this.opts.tableMultipleStyles,
                    this.opts.tableStyles
                );
            },
            refreshOnShow: function(b, c) {
                var d = this.$el.find(".fr-selected-cell").closest("table");
                d &&
                    c.find(".fr-command").each(function() {
                        var b = a(this).data("param1");
                        a(this).toggleClass("fr-active", d.hasClass(b));
                    });
            }
        }),
        a.FE.DefineIcon("tableCellBackground", { NAME: "tint" }),
        a.FE.RegisterCommand("tableCellBackground", {
            title: "Cell Background",
            focus: !1,
            callback: function() {
                this.table.showColorsPopup();
            }
        }),
        a.FE.RegisterCommand("tableCellBackgroundColor", {
            undo: !0,
            focus: !1,
            callback: function(a, b) {
                this.table.setBackground(b);
            }
        }),
        a.FE.DefineIcon("tableBack", { NAME: "arrow-left" }),
        a.FE.RegisterCommand("tableBack", {
            title: "Back",
            undo: !1,
            focus: !1,
            back: !0,
            callback: function() {
                this.table.back();
            },
            refresh: function(a) {
                0 !== this.table.selectedCells().length || this.opts.toolbarInline ?
                    (a.removeClass("fr-hidden"),
                        a.next(".fr-separator").removeClass("fr-hidden")) :
                    (a.addClass("fr-hidden"),
                        a.next(".fr-separator").addClass("fr-hidden"));
            }
        }),
        a.FE.DefineIcon("tableCellVerticalAlign", { NAME: "arrows-v" }),
        a.FE.RegisterCommand("tableCellVerticalAlign", {
            type: "dropdown",
            focus: !1,
            title: "Vertical Align",
            options: {
                Top: "Align Top",
                Middle: "Align Middle",
                Bottom: "Align Bottom"
            },
            html: function() {
                var b = '<ul class="fr-dropdown-list">',
                    c = a.FE.COMMANDS.tableCellVerticalAlign.options;
                for (var d in c)
                    c.hasOwnProperty(d) &&
                    (b +=
                        '<li><a class="fr-command" data-cmd="tableCellVerticalAlign" data-param1="' +
                        d.toLowerCase() +
                        '" title="' +
                        this.language.translate(c[d]) +
                        '">' +
                        this.language.translate(d) +
                        "</a></li>");
                return (b += "</ul>");
            },
            callback: function(a, b) {
                this.table.verticalAlign(b);
            },
            refreshOnShow: function(a, b) {
                b.find(
                    '.fr-command[data-param1="' +
                    this.$el.find(".fr-selected-cell").css("vertical-align") +
                    '"]'
                ).addClass("fr-active");
            }
        }),
        a.FE.DefineIcon("tableCellHorizontalAlign", { NAME: "align-left" }),
        a.FE.DefineIcon("align-left", { NAME: "align-left" }),
        a.FE.DefineIcon("align-right", { NAME: "align-right" }),
        a.FE.DefineIcon("align-center", { NAME: "align-center" }),
        a.FE.DefineIcon("align-justify", { NAME: "align-justify" }),
        a.FE.RegisterCommand("tableCellHorizontalAlign", {
            type: "dropdown",
            focus: !1,
            title: "Horizontal Align",
            options: {
                left: "Align Left",
                center: "Align Center",
                right: "Align Right",
                justify: "Align Justify"
            },
            html: function() {
                var b = '<ul class="fr-dropdown-list">',
                    c = a.FE.COMMANDS.tableCellHorizontalAlign.options;
                for (var d in c)
                    c.hasOwnProperty(d) &&
                    (b +=
                        '<li><a class="fr-command fr-title" data-cmd="tableCellHorizontalAlign" data-param1="' +
                        d +
                        '" title="' +
                        this.language.translate(c[d]) +
                        '">' +
                        this.icon.create("align-" + d) +
                        "</a></li>");
                return (b += "</ul>");
            },
            callback: function(a, b) {
                this.table.horizontalAlign(b);
            },
            refresh: function(b) {
                var c = this.table.selectedCells();
                c.length &&
                    b
                    .find("> *:first")
                    .replaceWith(
                        this.icon.create("align-" + this.helpers.getAlignment(a(c[0])))
                    );
            },
            refreshOnShow: function(a, b) {
                b.find(
                    '.fr-command[data-param1="' +
                    this.helpers.getAlignment(
                        this.$el.find(".fr-selected-cell:first")
                    ) +
                    '"]'
                ).addClass("fr-active");
            }
        }),
        a.FE.DefineIcon("tableCellStyle", { NAME: "magic" }),
        a.FE.RegisterCommand("tableCellStyle", {
            title: "Cell Style",
            type: "dropdown",
            focus: !1,
            html: function() {
                var a = '<ul class="fr-dropdown-list">',
                    b = this.opts.tableCellStyles;
                for (var c in b)
                    b.hasOwnProperty(c) &&
                    (a +=
                        '<li><a class="fr-command" data-cmd="tableCellStyle" data-param1="' +
                        c +
                        '" title="' +
                        this.language.translate(b[c]) +
                        '">' +
                        this.language.translate(b[c]) +
                        "</a></li>");
                return (a += "</ul>");
            },
            callback: function(a, b) {
                this.table.applyStyle(
                    b,
                    this.$el.find(".fr-selected-cell"),
                    this.opts.tableCellMultipleStyles,
                    this.opts.tableCellStyles
                );
            },
            refreshOnShow: function(b, c) {
                var d = this.$el.find(".fr-selected-cell:first");
                d &&
                    c.find(".fr-command").each(function() {
                        var b = a(this).data("param1");
                        a(this).toggleClass("fr-active", d.hasClass(b));
                    });
            }
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.DEFAULTS, {}),
        (a.FE.URLRegEx = /(\s|^|>)((http|https|ftp|ftps)\:\/\/[a-zA-Z0-9\-\.]+(\.[a-zA-Z]{2,3})?(:\d*)?(\/[^\s<]*)?)(\s|$|<)/gi),
        (a.FE.PLUGINS.url = function(b) {
            function c(d) {
                d.each(function() {
                    if ("IFRAME" != this.tagName)
                        if (3 == this.nodeType) {
                            var d = this.textContent.replace(/&nbsp;/gi, "");
                            a.FE.URLRegEx.test(d) &&
                                (a(this).before(
                                        d.replace(a.FE.URLRegEx, '$1<a href="$2">$2</a>$7')
                                    ),
                                    a(this).remove());
                        } else
                            1 == this.nodeType && ["A", "BUTTON", "TEXTAREA"].indexOf(this.tagName) < 0 &&
                            c(b.node.contents(this));
                });
            }

            function d() {
                b.events.on("paste.afterCleanup", function(b) {
                        return a.FE.URLRegEx.test(b) ?
                            b.replace(a.FE.URLRegEx, '$1<a href="$2">$2</a>$7') :
                            void 0;
                    }),
                    b.events.on("keyup", function(d) {
                        var e = d.which;
                        (e == a.FE.KEYCODE.ENTER || e == a.FE.KEYCODE.SPACE) &&
                        c(b.node.contents(b.$el.get(0)));
                    }),
                    b.events.on("keydown", function(c) {
                        var d = c.which;
                        if (d == a.FE.KEYCODE.ENTER) {
                            var e = b.selection.element();
                            if (
                                ("A" == e.tagName || a(e).parents("a").length) &&
                                b.selection.info(e).atEnd
                            )
                                return (
                                    c.stopImmediatePropagation(),
                                    "A" !== e.tagName && (e = a(e).parents("a")[0]),
                                    a(e).after("&nbsp;" + a.FE.MARKERS),
                                    b.selection.restore(), !1
                                );
                        }
                    });
            }
            return { _init: d };
        });
}), !(function(a) {
    "function" == typeof define && define.amd ?
        define(["jquery"], a) :
        "object" == typeof module && module.exports ?
        (module.exports = function(b, c) {
            return (
                void 0 === c &&
                (c =
                    "undefined" != typeof window ?
                    require("jquery") :
                    require("jquery")(b)),
                a(c),
                c
            );
        }) :
        a(jQuery);
})(function(a) {
    "use strict";
    a.extend(a.FE.POPUP_TEMPLATES, {
            "video.insert": "[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_]",
            "video.edit": "[_BUTTONS_]",
            "video.size": "[_BUTTONS_][_SIZE_LAYER_]"
        }),
        a.extend(a.FE.DEFAULTS, {
            videoInsertButtons: ["videoBack", "|", "videoByURL", "videoEmbed"],
            videoEditButtons: [
                "videoDisplay",
                "videoAlign",
                "videoSize",
                "videoRemove"
            ],
            videoResize: !0,
            videoSizeButtons: ["videoBack", "|"],
            videoSplitHTML: !1,
            videoTextNear: !0,
            videoDefaultAlign: "center",
            videoDefaultDisplay: "block",
            videoMove: !0
        }),
        (a.FE.VIDEO_PROVIDERS = [{
                test_regex: /^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/,
                url_regex: /(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g,
                url_text: "//www.youtube.com/embed/$1",
                html: '<iframe width="640" height="360" src="{url}?wmode=opaque" frameborder="0" allowfullscreen></iframe>'
            },
            {
                test_regex: /^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/,
                url_regex: /(?:https?:\/\/)?(?:www\.)?(?:vimeo\.com)\/(?:channels\/[A-z]+\/|groups\/[A-z]+\/videos\/)?(.+)/g,
                url_text: "//player.vimeo.com/video/$1",
                html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'
            },
            {
                test_regex: /^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,
                url_regex: /(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,
                url_text: "//www.dailymotion.com/embed/video/$1",
                html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'
            },
            {
                test_regex: /^.+(screen.yahoo.com)\/[^_&]+/,
                url_regex: "",
                url_text: "",
                html: '<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'
            },
            {
                test_regex: /^.+(rutube.ru)\/[^_&]+/,
                url_regex: /(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,
                url_text: "//rutube.ru/play/embed/$1",
                html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'
            }
        ]),
        (a.FE.VIDEO_EMBED_REGEX = /^\W*((<iframe.*><\/iframe>)|(<embed.*>))\W*$/i),
        (a.FE.PLUGINS.video = function(b) {
            function c() {
                var a = b.popups.get("video.insert"),
                    c = a.find(".fr-video-by-url-layer input");
                c.val("").trigger("change");
                var d = a.find(".fr-video-embed-layer textarea");
                d.val("").trigger("change");
            }

            function d() {
                var a = b.$tb.find('.fr-command[data-cmd="insertVideo"]'),
                    c = b.popups.get("video.insert");
                if ((c || (c = f()), !c.hasClass("fr-active"))) {
                    b.popups.refresh("video.insert"),
                        b.popups.setContainer("video.insert", b.$tb);
                    var d = a.offset().left + a.outerWidth() / 2,
                        e =
                        a.offset().top +
                        (b.opts.toolbarBottom ? 10 : a.outerHeight() - 10);
                    b.popups.show("video.insert", d, e, a.outerHeight());
                }
            }

            function e() {
                var c = b.popups.get("video.edit");
                c || (c = y()),
                    b.popups.setContainer("video.edit", a(b.opts.scrollableContainer)),
                    b.popups.refresh("video.edit");
                var d = R.find("iframe, embed, video"),
                    e = d.offset().left + d.outerWidth() / 2,
                    f = d.offset().top + d.outerHeight();
                b.popups.show("video.edit", e, f, d.outerHeight());
            }

            function f(a) {
                if (a) return b.popups.onRefresh("video.insert", c), !0;
                var d = "";
                b.opts.videoInsertButtons.length > 1 &&
                    (d =
                        '<div class="fr-buttons">' +
                        b.button.buildList(b.opts.videoInsertButtons) +
                        "</div>");
                var e = "";
                b.opts.videoInsertButtons.indexOf("videoByURL") >= 0 &&
                    (e =
                        '<div class="fr-video-by-url-layer fr-layer fr-active" id="fr-video-by-url-layer-' +
                        b.id +
                        '"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2">' +
                        b.language.translate("Insert") +
                        "</button></div></div>");
                var f = "";
                b.opts.videoInsertButtons.indexOf("videoEmbed") >= 0 &&
                    (f =
                        '<div class="fr-video-embed-layer fr-layer" id="fr-video-embed-layer-' +
                        b.id +
                        '"><div class="fr-input-line"><textarea type="text" placeholder="' +
                        b.language.translate("Embedded Code") +
                        '" tabIndex="1" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2">' +
                        b.language.translate("Insert") +
                        "</button></div></div>");
                var g = { buttons: d, by_url_layer: e, embed_layer: f },
                    h = b.popups.create("video.insert", g);
                return h;
            }

            function g(a) {
                var c,
                    d,
                    e = b.popups.get("video.insert");
                if (!R && !b.opts.toolbarInline) {
                    var f = b.$tb.find('.fr-command[data-cmd="insertVideo"]');
                    (c = f.offset().left + f.outerWidth() / 2),
                    (d =
                        f.offset().top +
                        (b.opts.toolbarBottom ? 10 : f.outerHeight() - 10));
                }
                b.opts.toolbarInline &&
                    ((d = e.offset().top - b.helpers.getPX(e.css("margin-top"))),
                        e.hasClass("fr-above") && (d += e.outerHeight())),
                    e.find(".fr-layer").removeClass("fr-active"),
                    e.find(".fr-" + a + "-layer").addClass("fr-active"),
                    b.popups.show("video.insert", c, d, 0);
            }

            function h(a) {
                var c = b.popups.get("video.insert");
                c.find(".fr-video-by-url-layer").hasClass("fr-active") &&
                    a.addClass("fr-active");
            }

            function i(a) {
                var c = b.popups.get("video.insert");
                c.find(".fr-video-embed-layer").hasClass("fr-active") &&
                    a.addClass("fr-active");
            }

            function j(a) {
                b.events.focus(!0),
                    b.selection.restore(),
                    b.html.insert(
                        '<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-dv' +
                        b.opts.videoDefaultDisplay[0] +
                        ("center" != b.opts.videoDefaultAlign ?
                            " fr-fv" + b.opts.videoDefaultAlign[0] :
                            "") +
                        '">' +
                        a +
                        "</span>", !1,
                        b.opts.videoSplitHTML
                    ),
                    b.popups.hide("video.insert");
                var c = b.$el.find(".fr-jiv");
                c.removeClass("fr-jiv"),
                    c.toggleClass("fr-draggable", b.opts.videoMove),
                    b.events.trigger("video.inserted", [c]);
            }

            function k(c) {
                if ("undefined" == typeof c) {
                    var d = b.popups.get("video.insert");
                    c = d.find('.fr-video-by-url-layer input[type="text"]').val() || "";
                }
                var e = null;
                if (b.helpers.isURL(c))
                    for (var f = 0; f < a.FE.VIDEO_PROVIDERS.length; f++) {
                        var g = a.FE.VIDEO_PROVIDERS[f];
                        if (g.test_regex.test(c)) {
                            (e = c.replace(g.url_regex, g.url_text)),
                            (e = g.html.replace(/\{url\}/, e));
                            break;
                        }
                    }
                e ? j(e) : b.events.trigger("video.linkError", [c]);
            }

            function l(c) {
                if ("undefined" == typeof c) {
                    var d = b.popups.get("video.insert");
                    c = d.find(".fr-video-embed-layer textarea").val() || "";
                }
                0 !== c.length && a.FE.VIDEO_EMBED_REGEX.test(c) ?
                    j(c) :
                    b.events.trigger("video.codeError", [c]);
            }

            function m(c) {
                if (!b.core.sameInstance(Q)) return !0;
                c.preventDefault(), c.stopPropagation();
                var d =
                    c.pageX ||
                    (c.originalEvent.touches ?
                        c.originalEvent.touches[0].pageX :
                        null),
                    e =
                    c.pageY ||
                    (c.originalEvent.touches ?
                        c.originalEvent.touches[0].pageY :
                        null);
                return d && e ?
                    (b.undo.canDo() || b.undo.saveStep(),
                        (P = a(this)),
                        P.data("start-x", d),
                        P.data("start-y", e),
                        O.show(),
                        b.popups.hideAll(),
                        void v()) :
                    !1;
            }

            function n(a) {
                if (!b.core.sameInstance(Q)) return !0;
                if (P) {
                    a.preventDefault();
                    var c =
                        a.pageX ||
                        (a.originalEvent.touches ?
                            a.originalEvent.touches[0].pageX :
                            null),
                        d =
                        a.pageY ||
                        (a.originalEvent.touches ?
                            a.originalEvent.touches[0].pageY :
                            null);
                    if (!c || !d) return !1;
                    var e = P.data("start-x"),
                        f = P.data("start-y");
                    P.data("start-x", c), P.data("start-y", d);
                    var g = c - e,
                        h = d - f,
                        i = R.find("iframe, embed, video"),
                        j = i.width(),
                        k = i.height();
                    (P.hasClass("fr-hnw") || P.hasClass("fr-hsw")) && (g = 0 - g),
                    (P.hasClass("fr-hnw") || P.hasClass("fr-hne")) && (h = 0 - h),
                    i.css("width", j + g),
                        i.css("height", k + h),
                        i.removeAttr("width"),
                        i.removeAttr("height"),
                        r();
                }
            }

            function o(a) {
                return b.core.sameInstance(Q) ?
                    void(
                        P &&
                        R &&
                        (a && a.stopPropagation(),
                            (P = null),
                            O.hide(),
                            r(),
                            e(),
                            b.undo.saveStep())
                    ) :
                    !0;
            }

            function p(a) {
                return '<div class="fr-handler fr-h' + a + '"></div>';
            }

            function q() {
                var c;
                b.shared.$video_resizer ?
                    ((Q = b.shared.$video_resizer),
                        (O = b.shared.$vid_overlay),
                        b.events.on(
                            "destroy",
                            function() {
                                Q.removeClass("fr-active").appendTo(a("body"));
                            }, !0
                        )) :
                    ((b.shared.$video_resizer = a(
                            '<div class="fr-video-resizer"></div>'
                        )),
                        (Q = b.shared.$video_resizer),
                        b.events.$on(
                            Q,
                            "mousedown",
                            function(a) {
                                a.stopPropagation();
                            }, !0
                        ),
                        b.opts.videoResize &&
                        (Q.append(p("nw") + p("ne") + p("sw") + p("se")),
                            (b.shared.$vid_overlay = a(
                                '<div class="fr-video-overlay"></div>'
                            )),
                            (O = b.shared.$vid_overlay),
                            (c = Q.get(0).ownerDocument),
                            a(c)
                            .find("body")
                            .append(O))),
                    b.events.on(
                        "shared.destroy",
                        function() {
                            Q.html("")
                                .removeData()
                                .remove(),
                                (Q = null),
                                b.opts.videoResize && (O.remove(), (O = null));
                        }, !0
                    ),
                    b.helpers.isMobile() ||
                    b.events.$on(a(b.o_win), "resize.video", function() {
                        t(!0);
                    }),
                    b.opts.videoResize &&
                    ((c = Q.get(0).ownerDocument),
                        b.events.$on(Q, b._mousedown, ".fr-handler", m),
                        b.events.$on(a(c), b._mousemove, n),
                        b.events.$on(a(c.defaultView || c.parentWindow), b._mouseup, o),
                        b.events.$on(O, "mouseleave", o));
            }

            function r() {
                Q || q(),
                    (b.$wp || a(b.opts.scrollableContainer)).append(Q),
                    Q.data("instance", b);
                var c = R.find("iframe, embed, video");
                Q.css(
                        "top",
                        (b.opts.iframe ?
                            c.offset().top - 1 :
                            c.offset().top - b.$wp.offset().top - 1) + b.$wp.scrollTop()
                    )
                    .css(
                        "left",
                        (b.opts.iframe ?
                            c.offset().left - 1 :
                            c.offset().left - b.$wp.offset().left - 1) +
                        b.$wp.scrollLeft()
                    )
                    .css("width", c.outerWidth())
                    .css("height", c.height())
                    .addClass("fr-active");
            }

            function s(c) {
                if (c && "touchend" == c.type && S) return !0;
                if ((c.preventDefault(), c.stopPropagation(), b.edit.isDisabled()))
                    return !1;
                for (var d = 0; d < a.FE.INSTANCES.length; d++)
                    a.FE.INSTANCES[d] != b &&
                    a.FE.INSTANCES[d].events.trigger("video.hideResizer");
                b.toolbar.disable(),
                    b.helpers.isMobile() &&
                    (b.events.disableBlur(), b.$el.blur(), b.events.enableBlur()),
                    (R = a(this)),
                    a(this).addClass("fr-active"),
                    b.opts.iframe && b.size.syncIframe(),
                    r(),
                    e(),
                    b.selection.clear(),
                    b.button.bulkRefresh(),
                    b.events.trigger("image.hideResizer");
            }

            function t(a) {
                R &&
                    (w() || a === !0) &&
                    (Q.removeClass("fr-active"),
                        b.toolbar.enable(),
                        R.removeClass("fr-active"),
                        (R = null),
                        v());
            }

            function u() {
                b.shared.vid_exit_flag = !0;
            }

            function v() {
                b.shared.vid_exit_flag = !1;
            }

            function w() {
                return b.shared.vid_exit_flag;
            }

            function x() {
                b.events.on("mousedown window.mousedown", u),
                    b.events.on("window.touchmove", v),
                    b.events.on("mouseup window.mouseup", t),
                    b.events.on("commands.mousedown", function(a) {
                        a.parents(".fr-toolbar").length > 0 && t();
                    }),
                    b.events.on(
                        "blur video.hideResizer commands.undo commands.redo element.dropped",
                        function() {
                            t(!0);
                        }
                    );
            }

            function y() {
                var a = "";
                b.opts.videoEditButtons.length >= 1 &&
                    ((a += '<div class="fr-buttons">'),
                        (a += b.button.buildList(b.opts.videoEditButtons)),
                        (a += "</div>"));
                var c = { buttons: a },
                    d = b.popups.create("video.edit", c);
                return (
                    b.events.$on(b.$wp, "scroll.video-edit", function() {
                        R && b.popups.isVisible("video.edit") && e();
                    }),
                    d
                );
            }

            function z() {
                if (R) {
                    var a = b.popups.get("video.size"),
                        c = R.find("iframe, embed, video");
                    a
                        .find('input[name="width"]')
                        .val(c.get(0).style.width || c.attr("width"))
                        .trigger("change"),
                        a
                        .find('input[name="height"]')
                        .val(c.get(0).style.height || c.attr("height"))
                        .trigger("change");
                }
            }

            function A() {
                var c = b.popups.get("video.size");
                c || (c = B()),
                    b.popups.refresh("video.size"),
                    b.popups.setContainer("video.size", a(b.opts.scrollableContainer));
                var d = R.find("iframe, embed, video"),
                    e = d.offset().left + d.width() / 2,
                    f = d.offset().top + d.height();
                b.popups.show("video.size", e, f, d.height());
            }

            function B(a) {
                if (a) return b.popups.onRefresh("video.size", z), !0;
                var c = "";
                c =
                    '<div class="fr-buttons">' +
                    b.button.buildList(b.opts.videoSizeButtons) +
                    "</div>";
                var d = "";
                d =
                    '<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-' +
                    b.id +
                    '"><div class="fr-video-group"><div class="fr-input-line"><input type="text" name="width" placeholder="' +
                    b.language.translate("Width") +
                    '" tabIndex="1"></div><div class="fr-input-line"><input type="text" name="height" placeholder="' +
                    b.language.translate("Height") +
                    '" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2">' +
                    b.language.translate("Update") +
                    "</button></div></div>";
                var e = { buttons: c, size_layer: d },
                    f = b.popups.create("video.size", e);
                return (
                    b.events.$on(b.$wp, "scroll", function() {
                        R && b.popups.isVisible("video.size") && A();
                    }),
                    f
                );
            }

            function C(a) {
                R.removeClass("fr-fvr fr-fvl"),
                    "left" == a ?
                    R.addClass("fr-fvl") :
                    "right" == a && R.addClass("fr-fvr"),
                    r(),
                    e();
            }

            function D(a) {
                return R ?
                    void(R.hasClass("fr-fvl") ?
                        a.find("> *:first").replaceWith(b.icon.create("align-left")) :
                        R.hasClass("fr-fvr") ?
                        a.find("> *:first").replaceWith(b.icon.create("align-right")) :
                        a
                        .find("> *:first")
                        .replaceWith(b.icon.create("align-justify"))) :
                    !1;
            }

            function E(a, b) {
                var c = "justify";
                R.hasClass("fr-fvl") ?
                    (c = "left") :
                    R.hasClass("fr-fvr") && (c = "right"),
                    b
                    .find('.fr-command[data-param1="' + c + '"]')
                    .addClass("fr-active");
            }

            function F(a) {
                R.removeClass("fr-dvi fr-dvb"),
                    "inline" == a ?
                    R.addClass("fr-dvi") :
                    "block" == a && R.addClass("fr-dvb"),
                    r(),
                    e();
            }

            function G(a, b) {
                var c = "block";
                R.hasClass("fr-dvi") && (c = "inline"),
                    b
                    .find('.fr-command[data-param1="' + c + '"]')
                    .addClass("fr-active");
            }

            function H() {
                if (R && b.events.trigger("video.beforeRemove", [R]) !== !1) {
                    var a = R;
                    b.popups.hideAll(),
                        t(!0),
                        b.selection.setBefore(a.get(0)) || b.selection.setAfter(a.get(0)),
                        a.remove(),
                        b.selection.restore(),
                        b.html.fillEmptyBlocks(),
                        b.events.trigger("video.removed", [a]);
                }
            }

            function I(a) {
                if (!a.hasClass("fr-dvi") && !a.hasClass("fr-dvb")) {
                    var c = a.css("float");
                    a.css("float", "none"),
                        "block" == a.css("display") ?
                        (a.css("float", c),
                            0 === parseInt(a.css("margin-left"), 10) &&
                            (a.attr("style") || "").indexOf("margin-right: auto") >= 0 ?
                            a.addClass("fr-fvl") :
                            0 === parseInt(a.css("margin-right"), 10) &&
                            (a.attr("style") || "").indexOf("margin-left: auto") >=
                            0 &&
                            a.addClass("fr-fvr"),
                            a.addClass("fr-dvb")) :
                        (a.css("float", c),
                            "left" == a.css("float") ?
                            a.addClass("fr-fvl") :
                            "right" == a.css("float") && a.addClass("fr-fvr"),
                            a.addClass("fr-dvi")),
                        a.css("margin", ""),
                        a.css("float", ""),
                        a.css("display", ""),
                        a.css("z-index", ""),
                        a.css("position", ""),
                        a.css("overflow", ""),
                        a.css("vertical-align", "");
                }
                b.opts.videoTextNear || a.removeClass("fr-dvi").addClass("fr-dvb");
            }

            function J() {
                b.$el
                    .find("video")
                    .filter(function() {
                        return 0 === a(this).parents("span.fr-video").length;
                    })
                    .wrap('<span class="fr-video" contenteditable="false"></span>'),
                    b.$el
                    .find("embed, iframe")
                    .filter(function() {
                        if (
                            (b.browser.safari &&
                                this.getAttribute("src") &&
                                this.setAttribute("src", this.src),
                                a(this).parents("span.fr-video").length > 0)
                        )
                            return !1;
                        for (
                            var c = a(this).attr("src"), d = 0; d < a.FE.VIDEO_PROVIDERS.length; d++
                        ) {
                            var e = a.FE.VIDEO_PROVIDERS[d];
                            if (e.test_regex.test(c)) return !0;
                        }
                        return !1;
                    })
                    .map(function() {
                        return 0 === a(this).parents("object").length ?
                            this :
                            a(this)
                            .parents("object")
                            .get(0);
                    })
                    .wrap('<span class="fr-video" contenteditable="false"></span>');
                for (var c = b.$el.find("span.fr-video"), d = 0; d < c.length; d++)
                    I(a(c[d]));
                c.toggleClass("fr-draggable", b.opts.videoMove);
            }

            function K() {
                x(),
                    b.helpers.isMobile() &&
                    (b.events.$on(b.$el, "touchstart", "span.fr-video", function() {
                            S = !1;
                        }),
                        b.events.$on(b.$el, "touchmove", function() {
                            S = !0;
                        })),
                    b.events.on("html.set", J),
                    J(),
                    b.events.$on(b.$el, "mousedown", "span.fr-video", function(a) {
                        a.stopPropagation();
                    }),
                    b.events.$on(b.$el, "click touchend", "span.fr-video", s),
                    b.events.on(
                        "keydown",
                        function(c) {
                            var d = c.which;
                            return !R ||
                                (d != a.FE.KEYCODE.BACKSPACE && d != a.FE.KEYCODE.DELETE) ?
                                R && d == a.FE.KEYCODE.ESC ?
                                (t(!0), c.preventDefault(), !1) :
                                R && !b.keys.ctrlKey(c) ?
                                (c.preventDefault(), !1) :
                                void 0 :
                                (c.preventDefault(), H(), !1);
                        }, !0
                    ),
                    b.events.on("keydown", function() {
                        b.$el.find("span.fr-video:empty").remove();
                    }),
                    f(!0),
                    B(!0);
            }

            function L() {
                R
                    ?
                    R.trigger("click") :
                    (b.events.disableBlur(),
                        b.selection.restore(),
                        b.events.enableBlur(),
                        b.popups.hide("video.insert"),
                        b.toolbar.showInline());
            }

            function M(a, c) {
                if (R) {
                    var d = b.popups.get("video.size"),
                        e = R.find("iframe, embed, video");
                    e.css("width", a || d.find('input[name="width"]').val()),
                        e.css("height", c || d.find('input[name="height"]').val()),
                        e.get(0).style.width && e.removeAttr("width"),
                        e.get(0).style.height && e.removeAttr("height"),
                        d.find("input").blur(),
                        setTimeout(
                            function() {
                                R.trigger("click");
                            },
                            b.helpers.isAndroid() ? 50 : 0
                        );
                }
            }

            function N() {
                return R;
            }
            var O, P, Q, R, S;
            return (
                (b.shared.vid_exit_flag = !1), {
                    _init: K,
                    showInsertPopup: d,
                    showLayer: g,
                    refreshByURLButton: h,
                    refreshEmbedButton: i,
                    insertByURL: k,
                    insertEmbed: l,
                    insert: j,
                    align: C,
                    refreshAlign: D,
                    refreshAlignOnShow: E,
                    display: F,
                    refreshDisplayOnShow: G,
                    remove: H,
                    showSizePopup: A,
                    back: L,
                    setSize: M,
                    get: N
                }
            );
        }),
        a.FE.RegisterCommand("insertVideo", {
            title: "Insert Video",
            undo: !1,
            focus: !0,
            refreshAfterCallback: !1,
            popup: !0,
            callback: function() {
                this.popups.isVisible("video.insert") ?
                    (this.$el.find(".fr-marker") &&
                        (this.events.disableBlur(), this.selection.restore()),
                        this.popups.hide("video.insert")) :
                    this.video.showInsertPopup();
            },
            plugin: "video"
        }),
        a.FE.DefineIcon("insertVideo", { NAME: "video-camera" }),
        a.FE.DefineIcon("videoByURL", { NAME: "link" }),
        a.FE.RegisterCommand("videoByURL", {
            title: "By URL",
            undo: !1,
            focus: !1,
            callback: function() {
                this.video.showLayer("video-by-url");
            },
            refresh: function(a) {
                this.video.refreshByURLButton(a);
            }
        }),
        a.FE.DefineIcon("videoEmbed", { NAME: "code" }),
        a.FE.RegisterCommand("videoEmbed", {
            title: "Embedded Code",
            undo: !1,
            focus: !1,
            callback: function() {
                this.video.showLayer("video-embed");
            },
            refresh: function(a) {
                this.video.refreshEmbedButton(a);
            }
        }),
        a.FE.RegisterCommand("videoInsertByURL", {
            undo: !0,
            focus: !0,
            callback: function() {
                this.video.insertByURL();
            }
        }),
        a.FE.RegisterCommand("videoInsertEmbed", {
            undo: !0,
            focus: !0,
            callback: function() {
                this.video.insertEmbed();
            }
        }),
        a.FE.DefineIcon("videoDisplay", { NAME: "star" }),
        a.FE.RegisterCommand("videoDisplay", {
            title: "Display",
            type: "dropdown",
            options: { inline: "Inline", block: "Break Text" },
            callback: function(a, b) {
                this.video.display(b);
            },
            refresh: function(a) {
                this.opts.videoTextNear || a.addClass("fr-hidden");
            },
            refreshOnShow: function(a, b) {
                this.video.refreshDisplayOnShow(a, b);
            }
        }),
        a.FE.DefineIcon("videoAlign", { NAME: "align-center" }),
        a.FE.RegisterCommand("videoAlign", {
            type: "dropdown",
            title: "Align",
            options: { left: "Align Left", justify: "None", right: "Align Right" },
            html: function() {
                var b = '<ul class="fr-dropdown-list">',
                    c = a.FE.COMMANDS.videoAlign.options;
                for (var d in c)
                    c.hasOwnProperty(d) &&
                    (b +=
                        '<li><a class="fr-command fr-title" data-cmd="videoAlign" data-param1="' +
                        d +
                        '" title="' +
                        this.language.translate(c[d]) +
                        '">' +
                        this.icon.create("align-" + d) +
                        "</a></li>");
                return (b += "</ul>");
            },
            callback: function(a, b) {
                this.video.align(b);
            },
            refresh: function(a) {
                this.video.refreshAlign(a);
            },
            refreshOnShow: function(a, b) {
                this.video.refreshAlignOnShow(a, b);
            }
        }),
        a.FE.DefineIcon("videoRemove", { NAME: "trash" }),
        a.FE.RegisterCommand("videoRemove", {
            title: "Remove",
            callback: function() {
                this.video.remove();
            }
        }),
        a.FE.DefineIcon("videoSize", { NAME: "arrows-alt" }),
        a.FE.RegisterCommand("videoSize", {
            undo: !1,
            focus: !1,
            title: "Change Size",
            callback: function() {
                this.video.showSizePopup();
            }
        }),
        a.FE.DefineIcon("videoBack", { NAME: "arrow-left" }),
        a.FE.RegisterCommand("videoBack", {
            title: "Back",
            undo: !1,
            focus: !1,
            back: !0,
            callback: function() {
                this.video.back();
            },
            refresh: function(a) {
                var b = this.video.get();
                b || this.opts.toolbarInline ?
                    (a.removeClass("fr-hidden"),
                        a.next(".fr-separator").removeClass("fr-hidden")) :
                    (a.addClass("fr-hidden"),
                        a.next(".fr-separator").addClass("fr-hidden"));
            }
        }),
        a.FE.RegisterCommand("videoSetSize", {
            undo: !0,
            focus: !1,
            callback: function() {
                this.video.setSize();
            }
        });
}),
(function(a, b) {
    "function" == typeof define && define.amd ?
        define("ev-emitter/ev-emitter", b) :
        "object" == typeof module && module.exports ?
        (module.exports = b()) :
        (a.EvEmitter = b());
})("undefined" != typeof window ? window : this, function() {
    function a() {}
    var b = a.prototype;
    return (
        (b.on = function(a, b) {
            if (a && b) {
                var c = (this._events = this._events || {}),
                    d = (c[a] = c[a] || []);
                return -1 == d.indexOf(b) && d.push(b), this;
            }
        }),
        (b.once = function(a, b) {
            if (a && b) {
                this.on(a, b);
                var c = (this._onceEvents = this._onceEvents || {}),
                    d = (c[a] = c[a] || {});
                return (d[b] = !0), this;
            }
        }),
        (b.off = function(a, b) {
            var c = this._events && this._events[a];
            if (c && c.length) {
                var d = c.indexOf(b);
                return -1 != d && c.splice(d, 1), this;
            }
        }),
        (b.emitEvent = function(a, b) {
            var c = this._events && this._events[a];
            if (c && c.length) {
                var d = 0,
                    e = c[d];
                b = b || [];
                for (var f = this._onceEvents && this._onceEvents[a]; e;) {
                    var g = f && f[e];
                    g && (this.off(a, e), delete f[e]),
                        e.apply(this, b),
                        (d += g ? 0 : 1),
                        (e = c[d]);
                }
                return this;
            }
        }),
        a
    );
}),
(function(a, b) {
    "use strict";
    "function" == typeof define && define.amd ?
        define(["ev-emitter/ev-emitter"], function(c) {
            return b(a, c);
        }) :
        "object" == typeof module && module.exports ?
        (module.exports = b(a, require("ev-emitter"))) :
        (a.imagesLoaded = b(a, a.EvEmitter));
})(window, function(a, b) {
    function c(a, b) {
        for (var c in b) a[c] = b[c];
        return a;
    }

    function d(a) {
        var b = [];
        if (Array.isArray(a)) b = a;
        else if ("number" == typeof a.length)
            for (var c = 0; c < a.length; c++) b.push(a[c]);
        else b.push(a);
        return b;
    }

    function e(a, b, f) {
        return this instanceof e ?
            ("string" == typeof a && (a = document.querySelectorAll(a)),
                (this.elements = d(a)),
                (this.options = c({}, this.options)),
                "function" == typeof b ? (f = b) : c(this.options, b),
                f && this.on("always", f),
                this.getImages(),
                h && (this.jqDeferred = new h.Deferred()),
                void setTimeout(
                    function() {
                        this.check();
                    }.bind(this)
                )) :
            new e(a, b, f);
    }

    function f(a) {
        this.img = a;
    }

    function g(a, b) {
        (this.url = a), (this.element = b), (this.img = new Image());
    }
    var h = a.jQuery,
        i = a.console;
    (e.prototype = Object.create(b.prototype)),
    (e.prototype.options = {}),
    (e.prototype.getImages = function() {
        (this.images = []), this.elements.forEach(this.addElementImages, this);
    }),
    (e.prototype.addElementImages = function(a) {
        "IMG" == a.nodeName && this.addImage(a),
            this.options.background === !0 && this.addElementBackgroundImages(a);
        var b = a.nodeType;
        if (b && j[b]) {
            for (var c = a.querySelectorAll("img"), d = 0; d < c.length; d++) {
                var e = c[d];
                this.addImage(e);
            }
            if ("string" == typeof this.options.background) {
                var f = a.querySelectorAll(this.options.background);
                for (d = 0; d < f.length; d++) {
                    var g = f[d];
                    this.addElementBackgroundImages(g);
                }
            }
        }
    });
    var j = { 1: !0, 9: !0, 11: !0 };
    return (
        (e.prototype.addElementBackgroundImages = function(a) {
            var b = getComputedStyle(a);
            if (b)
                for (
                    var c = /url\((['"])?(.*?)\1\)/gi, d = c.exec(b.backgroundImage); null !== d;

                ) {
                    var e = d && d[2];
                    e && this.addBackground(e, a), (d = c.exec(b.backgroundImage));
                }
        }),
        (e.prototype.addImage = function(a) {
            var b = new f(a);
            this.images.push(b);
        }),
        (e.prototype.addBackground = function(a, b) {
            var c = new g(a, b);
            this.images.push(c);
        }),
        (e.prototype.check = function() {
            function a(a, c, d) {
                setTimeout(function() {
                    b.progress(a, c, d);
                });
            }
            var b = this;
            return (
                (this.progressedCount = 0),
                (this.hasAnyBroken = !1),
                this.images.length ?
                void this.images.forEach(function(b) {
                    b.once("progress", a), b.check();
                }) :
                void this.complete()
            );
        }),
        (e.prototype.progress = function(a, b, c) {
            this.progressedCount++,
                (this.hasAnyBroken = this.hasAnyBroken || !a.isLoaded),
                this.emitEvent("progress", [this, a, b]),
                this.jqDeferred &&
                this.jqDeferred.notify &&
                this.jqDeferred.notify(this, a),
                this.progressedCount == this.images.length && this.complete(),
                this.options.debug && i && i.log("progress: " + c, a, b);
        }),
        (e.prototype.complete = function() {
            var a = this.hasAnyBroken ? "fail" : "done";
            if (
                ((this.isComplete = !0),
                    this.emitEvent(a, [this]),
                    this.emitEvent("always", [this]),
                    this.jqDeferred)
            ) {
                var b = this.hasAnyBroken ? "reject" : "resolve";
                this.jqDeferred[b](this);
            }
        }),
        (f.prototype = Object.create(b.prototype)),
        (f.prototype.check = function() {
            var a = this.getIsImageComplete();
            return a ?
                void this.confirm(0 !== this.img.naturalWidth, "naturalWidth") :
                ((this.proxyImage = new Image()),
                    this.proxyImage.addEventListener("load", this),
                    this.proxyImage.addEventListener("error", this),
                    this.img.addEventListener("load", this),
                    this.img.addEventListener("error", this),
                    void(this.proxyImage.src = this.img.src));
        }),
        (f.prototype.getIsImageComplete = function() {
            return this.img.complete && void 0 !== this.img.naturalWidth;
        }),
        (f.prototype.confirm = function(a, b) {
            (this.isLoaded = a), this.emitEvent("progress", [this, this.img, b]);
        }),
        (f.prototype.handleEvent = function(a) {
            var b = "on" + a.type;
            this[b] && this[b](a);
        }),
        (f.prototype.onload = function() {
            this.confirm(!0, "onload"), this.unbindEvents();
        }),
        (f.prototype.onerror = function() {
            this.confirm(!1, "onerror"), this.unbindEvents();
        }),
        (f.prototype.unbindEvents = function() {
            this.proxyImage.removeEventListener("load", this),
                this.proxyImage.removeEventListener("error", this),
                this.img.removeEventListener("load", this),
                this.img.removeEventListener("error", this);
        }),
        (g.prototype = Object.create(f.prototype)),
        (g.prototype.check = function() {
            this.img.addEventListener("load", this),
                this.img.addEventListener("error", this),
                (this.img.src = this.url);
            var a = this.getIsImageComplete();
            a &&
                (this.confirm(0 !== this.img.naturalWidth, "naturalWidth"),
                    this.unbindEvents());
        }),
        (g.prototype.unbindEvents = function() {
            this.img.removeEventListener("load", this),
                this.img.removeEventListener("error", this);
        }),
        (g.prototype.confirm = function(a, b) {
            (this.isLoaded = a),
            this.emitEvent("progress", [this, this.element, b]);
        }),
        (e.makeJQueryPlugin = function(b) {
            (b = b || a.jQuery),
            b &&
                ((h = b),
                    (h.fn.imagesLoaded = function(a, b) {
                        var c = new e(this, a, b);
                        return c.jqDeferred.promise(h(this));
                    }));
        }),
        e.makeJQueryPlugin(),
        e
    );
}),
(function(a, b, c, d) {
    "use strict";
    var e = c("html"),
        f = c(a),
        g = c(b),
        h = (c.fancybox = function() {
            h.open.apply(this, arguments);
        }),
        i = navigator.userAgent.match(/msie/i),
        j = null,
        k = b.createTouch !== d,
        l = function(a) {
            return a && a.hasOwnProperty && a instanceof c;
        },
        m = function(a) {
            return a && "string" === c.type(a);
        },
        n = function(a) {
            return m(a) && a.indexOf("%") > 0;
        },
        o = function(a) {
            return (
                a &&
                !(a.style.overflow && "hidden" === a.style.overflow) &&
                ((a.clientWidth && a.scrollWidth > a.clientWidth) ||
                    (a.clientHeight && a.scrollHeight > a.clientHeight))
            );
        },
        p = function(a, b) {
            var c = parseInt(a, 10) || 0;
            return b && n(a) && (c = (h.getViewport()[b] / 100) * c), Math.ceil(c);
        },
        q = function(a, b) {
            return p(a, b) + "px";
        };
    c.extend(h, {
            version: "2.1.5",
            defaults: {
                padding: 15,
                margin: 20,
                width: 800,
                height: 600,
                minWidth: 100,
                minHeight: 100,
                maxWidth: 9999,
                maxHeight: 9999,
                pixelRatio: 1,
                autoSize: !0,
                autoHeight: !1,
                autoWidth: !1,
                autoResize: !0,
                autoCenter: !k,
                fitToView: !0,
                aspectRatio: !1,
                topRatio: 0.5,
                leftRatio: 0.5,
                scrolling: "auto",
                wrapCSS: "",
                arrows: !0,
                closeBtn: !0,
                closeClick: !1,
                nextClick: !1,
                mouseWheel: !0,
                autoPlay: !1,
                playSpeed: 3e3,
                preload: 3,
                modal: !1,
                loop: !0,
                ajax: { dataType: "html", headers: { "X-fancyBox": !0 } },
                iframe: { scrolling: "auto", preload: !0 },
                swf: {
                    wmode: "transparent",
                    allowfullscreen: "true",
                    allowscriptaccess: "always"
                },
                keys: {
                    next: { 13: "left", 34: "up", 39: "left", 40: "up" },
                    prev: { 8: "right", 33: "down", 37: "right", 38: "down" },
                    close: [27],
                    play: [32],
                    toggle: [70]
                },
                direction: { next: "left", prev: "right" },
                scrollOutside: !0,
                index: 0,
                type: null,
                href: null,
                content: null,
                title: null,
                tpl: {
                    wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',
                    image: '<img class="fancybox-image" src="{href}" alt="" />',
                    iframe: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen' +
                        (i ? ' allowtransparency="true"' : "") +
                        "></iframe>",
                    error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',
                    closeBtn: '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',
                    next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                    prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>',
                    loading: '<div id="fancybox-loading"><div></div></div>'
                },
                openEffect: "fade",
                openSpeed: 250,
                openEasing: "swing",
                openOpacity: !0,
                openMethod: "zoomIn",
                closeEffect: "fade",
                closeSpeed: 250,
                closeEasing: "swing",
                closeOpacity: !0,
                closeMethod: "zoomOut",
                nextEffect: "elastic",
                nextSpeed: 250,
                nextEasing: "swing",
                nextMethod: "changeIn",
                prevEffect: "elastic",
                prevSpeed: 250,
                prevEasing: "swing",
                prevMethod: "changeOut",
                helpers: { overlay: !0, title: !0 },
                onCancel: c.noop,
                beforeLoad: c.noop,
                afterLoad: c.noop,
                beforeShow: c.noop,
                afterShow: c.noop,
                beforeChange: c.noop,
                beforeClose: c.noop,
                afterClose: c.noop
            },
            group: {},
            opts: {},
            previous: null,
            coming: null,
            current: null,
            isActive: !1,
            isOpen: !1,
            isOpened: !1,
            wrap: null,
            skin: null,
            outer: null,
            inner: null,
            player: { timer: null, isActive: !1 },
            ajaxLoad: null,
            imgPreload: null,
            transitions: {},
            helpers: {},
            open: function(a, b) {
                return a && (c.isPlainObject(b) || (b = {}), !1 !== h.close(!0)) ?
                    (c.isArray(a) || (a = l(a) ? c(a).get() : [a]),
                        c.each(a, function(e, f) {
                            var g,
                                i,
                                j,
                                k,
                                n,
                                o,
                                p,
                                q = {};
                            "object" === c.type(f) &&
                                (f.nodeType && (f = c(f)),
                                    l(f) ?
                                    ((q = {
                                            href: f.data("fancybox-href") || f.attr("href"),
                                            title: c("<div/>")
                                                .text(f.data("fancybox-title") || f.attr("title") || "")
                                                .html(),
                                            isDom: !0,
                                            element: f
                                        }),
                                        c.metadata && c.extend(!0, q, f.metadata())) :
                                    (q = f)),
                                (g = b.href || q.href || (m(f) ? f : null)),
                                (i = b.title !== d ? b.title : q.title || ""),
                                (j = b.content || q.content),
                                (k = j ? "html" : b.type || q.type), !k &&
                                q.isDom &&
                                ((k = f.data("fancybox-type")),
                                    k ||
                                    ((n = f.prop("class").match(/fancybox\.(\w+)/)),
                                        (k = n ? n[1] : null))),
                                m(g) &&
                                (k ||
                                    (h.isImage(g) ?
                                        (k = "image") :
                                        h.isSWF(g) ?
                                        (k = "swf") :
                                        "#" === g.charAt(0) ?
                                        (k = "inline") :
                                        m(f) && ((k = "html"), (j = f))),
                                    "ajax" === k &&
                                    ((o = g.split(/\s+/, 2)),
                                        (g = o.shift()),
                                        (p = o.shift()))),
                                j ||
                                ("inline" === k ?
                                    g ?
                                    (j = c(m(g) ? g.replace(/.*(?=#[^\s]+$)/, "") : g)) :
                                    q.isDom && (j = f) :
                                    "html" === k ?
                                    (j = g) :
                                    k || g || !q.isDom || ((k = "inline"), (j = f))),
                                c.extend(q, {
                                    href: g,
                                    type: k,
                                    content: j,
                                    title: i,
                                    selector: p
                                }),
                                (a[e] = q);
                        }),
                        (h.opts = c.extend(!0, {}, h.defaults, b)),
                        b.keys !== d &&
                        (h.opts.keys = b.keys ?
                            c.extend({}, h.defaults.keys, b.keys) :
                            !1),
                        (h.group = a),
                        h._start(h.opts.index)) :
                    void 0;
            },
            cancel: function() {
                var a = h.coming;
                (a && !1 === h.trigger("onCancel")) ||
                (h.hideLoading(),
                    a &&
                    (h.ajaxLoad && h.ajaxLoad.abort(),
                        (h.ajaxLoad = null),
                        h.imgPreload && (h.imgPreload.onload = h.imgPreload.onerror = null),
                        a.wrap &&
                        a.wrap
                        .stop(!0, !0)
                        .trigger("onReset")
                        .remove(),
                        (h.coming = null),
                        h.current || h._afterZoomOut(a)));
            },
            close: function(a) {
                h.cancel(), !1 !== h.trigger("beforeClose") &&
                    (h.unbindEvents(),
                        h.isActive &&
                        (h.isOpen && a !== !0 ?
                            ((h.isOpen = h.isOpened = !1),
                                (h.isClosing = !0),
                                c(".fancybox-item, .fancybox-nav").remove(),
                                h.wrap.stop(!0, !0).removeClass("fancybox-opened"),
                                h.transitions[h.current.closeMethod]()) :
                            (c(".fancybox-wrap")
                                .stop(!0)
                                .trigger("onReset")
                                .remove(),
                                h._afterZoomOut())));
            },
            play: function(a) {
                var b = function() {
                        clearTimeout(h.player.timer);
                    },
                    c = function() {
                        b(),
                            h.current &&
                            h.player.isActive &&
                            (h.player.timer = setTimeout(h.next, h.current.playSpeed));
                    },
                    d = function() {
                        b(),
                            g.unbind(".player"),
                            (h.player.isActive = !1),
                            h.trigger("onPlayEnd");
                    },
                    e = function() {
                        h.current &&
                            (h.current.loop || h.current.index < h.group.length - 1) &&
                            ((h.player.isActive = !0),
                                g.bind({
                                    "onCancel.player beforeClose.player": d,
                                    "onUpdate.player": c,
                                    "beforeLoad.player": b
                                }),
                                c(),
                                h.trigger("onPlayStart"));
                    };
                a === !0 || (!h.player.isActive && a !== !1) ? e() : d();
            },
            next: function(a) {
                var b = h.current;
                b && (m(a) || (a = b.direction.next), h.jumpto(b.index + 1, a, "next"));
            },
            prev: function(a) {
                var b = h.current;
                b && (m(a) || (a = b.direction.prev), h.jumpto(b.index - 1, a, "prev"));
            },
            jumpto: function(a, b, c) {
                var e = h.current;
                e &&
                    ((a = p(a)),
                        (h.direction = b || e.direction[a >= e.index ? "next" : "prev"]),
                        (h.router = c || "jumpto"),
                        e.loop &&
                        (0 > a && (a = e.group.length + (a % e.group.length)),
                            (a %= e.group.length)),
                        e.group[a] !== d && (h.cancel(), h._start(a)));
            },
            reposition: function(a, b) {
                var d,
                    e = h.current,
                    f = e ? e.wrap : null;
                f &&
                    ((d = h._getPosition(b)),
                        a && "scroll" === a.type ?
                        (delete d.position, f.stop(!0, !0).animate(d, 200)) :
                        (f.css(d), (e.pos = c.extend({}, e.dim, d))));
            },
            update: function(a) {
                var b = a && a.originalEvent && a.originalEvent.type,
                    c = !b || "orientationchange" === b;
                c && (clearTimeout(j), (j = null)),
                    h.isOpen &&
                    !j &&
                    (j = setTimeout(
                        function() {
                            var d = h.current;
                            d &&
                                !h.isClosing &&
                                (h.wrap.removeClass("fancybox-tmp"),
                                    (c || "load" === b || ("resize" === b && d.autoResize)) &&
                                    h._setDimension(),
                                    ("scroll" === b && d.canShrink) || h.reposition(a),
                                    h.trigger("onUpdate"),
                                    (j = null));
                        },
                        c && !k ? 0 : 300
                    ));
            },
            toggle: function(a) {
                h.isOpen &&
                    ((h.current.fitToView =
                            "boolean" === c.type(a) ? a : !h.current.fitToView),
                        k &&
                        (h.wrap.removeAttr("style").addClass("fancybox-tmp"),
                            h.trigger("onUpdate")),
                        h.update());
            },
            hideLoading: function() {
                g.unbind(".loading"), c("#fancybox-loading").remove();
            },
            showLoading: function() {
                var a, b;
                h.hideLoading(),
                    (a = c(h.opts.tpl.loading)
                        .click(h.cancel)
                        .appendTo("body")),
                    g.bind("keydown.loading", function(a) {
                        27 === (a.which || a.keyCode) && (a.preventDefault(), h.cancel());
                    }),
                    h.defaults.fixed ||
                    ((b = h.getViewport()),
                        a.css({
                            position: "absolute",
                            top: 0.5 * b.h + b.y,
                            left: 0.5 * b.w + b.x
                        })),
                    h.trigger("onLoading");
            },
            getViewport: function() {
                var b = (h.current && h.current.locked) || !1,
                    c = { x: f.scrollLeft(), y: f.scrollTop() };
                return (
                    b && b.length ?
                    ((c.w = b[0].clientWidth), (c.h = b[0].clientHeight)) :
                    ((c.w = k && a.innerWidth ? a.innerWidth : f.width()),
                        (c.h = k && a.innerHeight ? a.innerHeight : f.height())),
                    c
                );
            },
            unbindEvents: function() {
                h.wrap && l(h.wrap) && h.wrap.unbind(".fb"),
                    g.unbind(".fb"),
                    f.unbind(".fb");
            },
            bindEvents: function() {
                var a,
                    b = h.current;
                b &&
                    (f.bind(
                            "orientationchange.fb" +
                            (k ? "" : " resize.fb") +
                            (b.autoCenter && !b.locked ? " scroll.fb" : ""),
                            h.update
                        ),
                        (a = b.keys),
                        a &&
                        g.bind("keydown.fb", function(e) {
                            var f = e.which || e.keyCode,
                                g = e.target || e.srcElement;
                            return 27 === f && h.coming ?
                                !1 :
                                void(
                                    e.ctrlKey ||
                                    e.altKey ||
                                    e.shiftKey ||
                                    e.metaKey ||
                                    (g && (g.type || c(g).is("[contenteditable]"))) ||
                                    c.each(a, function(a, g) {
                                        return b.group.length > 1 && g[f] !== d ?
                                            (h[a](g[f]), e.preventDefault(), !1) :
                                            c.inArray(f, g) > -1 ?
                                            (h[a](), e.preventDefault(), !1) :
                                            void 0;
                                    })
                                );
                        }),
                        c.fn.mousewheel &&
                        b.mouseWheel &&
                        h.wrap.bind("mousewheel.fb", function(a, d, e, f) {
                            for (
                                var g = a.target || null, i = c(g), j = !1; i.length &&
                                !(j || i.is(".fancybox-skin") || i.is(".fancybox-wrap"));

                            )
                                (j = o(i[0])), (i = c(i).parent());
                            0 === d ||
                                j ||
                                (h.group.length > 1 &&
                                    !b.canShrink &&
                                    (f > 0 || e > 0 ?
                                        h.prev(f > 0 ? "down" : "left") :
                                        (0 > f || 0 > e) && h.next(0 > f ? "up" : "right"),
                                        a.preventDefault()));
                        }));
            },
            trigger: function(a, b) {
                var d,
                    e = b || h.coming || h.current;
                if (e) {
                    if (
                        (c.isFunction(e[a]) &&
                            (d = e[a].apply(e, Array.prototype.slice.call(arguments, 1))),
                            d === !1)
                    )
                        return !1;
                    e.helpers &&
                        c.each(e.helpers, function(b, d) {
                            d &&
                                h.helpers[b] &&
                                c.isFunction(h.helpers[b][a]) &&
                                h.helpers[b][a](c.extend(!0, {}, h.helpers[b].defaults, d), e);
                        });
                }
                g.trigger(a);
            },
            isImage: function(a) {
                return (
                    m(a) &&
                    a.match(
                        /(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i
                    )
                );
            },
            isSWF: function(a) {
                return m(a) && a.match(/\.(swf)((\?|#).*)?$/i);
            },
            _start: function(a) {
                var b,
                    d,
                    e,
                    f,
                    g,
                    i = {};
                if (((a = p(a)), (b = h.group[a] || null), !b)) return !1;
                if (
                    ((i = c.extend(!0, {}, h.opts, b)),
                        (f = i.margin),
                        (g = i.padding),
                        "number" === c.type(f) && (i.margin = [f, f, f, f]),
                        "number" === c.type(g) && (i.padding = [g, g, g, g]),
                        i.modal &&
                        c.extend(!0, i, {
                            closeBtn: !1,
                            closeClick: !1,
                            nextClick: !1,
                            arrows: !1,
                            mouseWheel: !1,
                            keys: null,
                            helpers: { overlay: { closeClick: !1 } }
                        }),
                        i.autoSize && (i.autoWidth = i.autoHeight = !0),
                        "auto" === i.width && (i.autoWidth = !0),
                        "auto" === i.height && (i.autoHeight = !0),
                        (i.group = h.group),
                        (i.index = a),
                        (h.coming = i), !1 === h.trigger("beforeLoad"))
                )
                    return void(h.coming = null);
                if (((e = i.type), (d = i.href), !e))
                    return (
                        (h.coming = null),
                        h.current && h.router && "jumpto" !== h.router ?
                        ((h.current.index = a), h[h.router](h.direction)) :
                        !1
                    );
                if (
                    ((h.isActive = !0),
                        ("image" !== e && "swf" !== e) ||
                        ((i.autoHeight = i.autoWidth = !1), (i.scrolling = "visible")),
                        "image" === e && (i.aspectRatio = !0),
                        "iframe" === e && k && (i.scrolling = "scroll"),
                        (i.wrap = c(i.tpl.wrap)
                            .addClass(
                                "fancybox-" +
                                (k ? "mobile" : "desktop") +
                                " fancybox-type-" +
                                e +
                                " fancybox-tmp " +
                                i.wrapCSS
                            )
                            .appendTo(i.parent || "body")),
                        c.extend(i, {
                            skin: c(".fancybox-skin", i.wrap),
                            outer: c(".fancybox-outer", i.wrap),
                            inner: c(".fancybox-inner", i.wrap)
                        }),
                        c.each(["Top", "Right", "Bottom", "Left"], function(a, b) {
                            i.skin.css("padding" + b, q(i.padding[a]));
                        }),
                        h.trigger("onReady"),
                        "inline" === e || "html" === e)
                ) {
                    if (!i.content || !i.content.length) return h._error("content");
                } else if (!d) return h._error("href");
                "image" === e
                    ?
                    h._loadImage() :
                    "ajax" === e ?
                    h._loadAjax() :
                    "iframe" === e ?
                    h._loadIframe() :
                    h._afterLoad();
            },
            _error: function(a) {
                c.extend(h.coming, {
                        type: "html",
                        autoWidth: !0,
                        autoHeight: !0,
                        minWidth: 0,
                        minHeight: 0,
                        scrolling: "no",
                        hasError: a,
                        content: h.coming.tpl.error
                    }),
                    h._afterLoad();
            },
            _loadImage: function() {
                var a = (h.imgPreload = new Image());
                (a.onload = function() {
                    (this.onload = this.onerror = null),
                    (h.coming.width = this.width / h.opts.pixelRatio),
                    (h.coming.height = this.height / h.opts.pixelRatio),
                    h._afterLoad();
                }),
                (a.onerror = function() {
                    (this.onload = this.onerror = null), h._error("image");
                }),
                (a.src = h.coming.href),
                a.complete !== !0 && h.showLoading();
            },
            _loadAjax: function() {
                var a = h.coming;
                h.showLoading(),
                    (h.ajaxLoad = c.ajax(
                        c.extend({}, a.ajax, {
                            url: a.href,
                            error: function(a, b) {
                                h.coming && "abort" !== b ?
                                    h._error("ajax", a) :
                                    h.hideLoading();
                            },
                            success: function(b, c) {
                                "success" === c && ((a.content = b), h._afterLoad());
                            }
                        })
                    ));
            },
            _loadIframe: function() {
                var a = h.coming,
                    b = c(a.tpl.iframe.replace(/\{rnd\}/g, new Date().getTime()))
                    .attr("scrolling", k ? "auto" : a.iframe.scrolling)
                    .attr("src", a.href);
                c(a.wrap).bind("onReset", function() {
                        try {
                            c(this)
                                .find("iframe")
                                .hide()
                                .attr("src", "//about:blank")
                                .end()
                                .empty();
                        } catch (a) {}
                    }),
                    a.iframe.preload &&
                    (h.showLoading(),
                        b.one("load", function() {
                            c(this).data("ready", 1),
                                k || c(this).bind("load.fb", h.update),
                                c(this)
                                .parents(".fancybox-wrap")
                                .width("100%")
                                .removeClass("fancybox-tmp")
                                .show(),
                                h._afterLoad();
                        })),
                    (a.content = b.appendTo(a.inner)),
                    a.iframe.preload || h._afterLoad();
            },
            _preloadImages: function() {
                var a,
                    b,
                    c = h.group,
                    d = h.current,
                    e = c.length,
                    f = d.preload ? Math.min(d.preload, e - 1) : 0;
                for (b = 1; f >= b; b += 1)
                    (a = c[(d.index + b) % e]),
                    "image" === a.type && a.href && (new Image().src = a.href);
            },
            _afterLoad: function() {
                var a,
                    b,
                    d,
                    e,
                    f,
                    g,
                    i = h.coming,
                    j = h.current,
                    k = "fancybox-placeholder";
                if ((h.hideLoading(), i && h.isActive !== !1)) {
                    if (!1 === h.trigger("afterLoad", i, j))
                        return (
                            i.wrap
                            .stop(!0)
                            .trigger("onReset")
                            .remove(),
                            void(h.coming = null)
                        );
                    switch (
                        (j &&
                            (h.trigger("beforeChange", j),
                                j.wrap
                                .stop(!0)
                                .removeClass("fancybox-opened")
                                .find(".fancybox-item, .fancybox-nav")
                                .remove()),
                            h.unbindEvents(),
                            (a = i),
                            (b = i.content),
                            (d = i.type),
                            (e = i.scrolling),
                            c.extend(h, {
                                wrap: a.wrap,
                                skin: a.skin,
                                outer: a.outer,
                                inner: a.inner,
                                current: a,
                                previous: j
                            }),
                            (f = a.href),
                            d)
                    ) {
                        case "inline":
                        case "ajax":
                        case "html":
                            a.selector ?
                                (b = c("<div>")
                                    .html(b)
                                    .find(a.selector)) :
                                l(b) &&
                                (b.data(k) ||
                                    b.data(
                                        k,
                                        c('<div class="' + k + '"></div>')
                                        .insertAfter(b)
                                        .hide()
                                    ),
                                    (b = b.show().detach()),
                                    a.wrap.bind("onReset", function() {
                                        c(this).find(b).length &&
                                            b
                                            .hide()
                                            .replaceAll(b.data(k))
                                            .data(k, !1);
                                    }));
                            break;
                        case "image":
                            b = a.tpl.image.replace(/\{href\}/g, f);
                            break;
                        case "swf":
                            (b =
                                '<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="' +
                                f +
                                '"></param>'),
                            (g = ""),
                            c.each(a.swf, function(a, c) {
                                    (b += '<param name="' + a + '" value="' + c + '"></param>'),
                                    (g += " " + a + '="' + c + '"');
                                }),
                                (b +=
                                    '<embed src="' +
                                    f +
                                    '" type="application/x-shockwave-flash" width="100%" height="100%"' +
                                    g +
                                    "></embed></object>");
                    }
                    (l(b) && b.parent().is(a.inner)) || a.inner.append(b),
                        h.trigger("beforeShow"),
                        a.inner.css(
                            "overflow",
                            "yes" === e ? "scroll" : "no" === e ? "hidden" : e
                        ),
                        h._setDimension(),
                        h.reposition(),
                        (h.isOpen = !1),
                        (h.coming = null),
                        h.bindEvents(),
                        h.isOpened ?
                        j.prevMethod && h.transitions[j.prevMethod]() :
                        c(".fancybox-wrap")
                        .not(a.wrap)
                        .stop(!0)
                        .trigger("onReset")
                        .remove(),
                        h.transitions[h.isOpened ? a.nextMethod : a.openMethod](),
                        h._preloadImages();
                }
            },
            _setDimension: function() {
                var a,
                    b,
                    d,
                    e,
                    f,
                    g,
                    i,
                    j,
                    k,
                    l,
                    m,
                    o,
                    r,
                    s,
                    t,
                    u = h.getViewport(),
                    v = 0,
                    w = !1,
                    x = !1,
                    y = h.wrap,
                    z = h.skin,
                    A = h.inner,
                    B = h.current,
                    C = B.width,
                    D = B.height,
                    E = B.minWidth,
                    F = B.minHeight,
                    G = B.maxWidth,
                    H = B.maxHeight,
                    I = B.scrolling,
                    J = B.scrollOutside ? B.scrollbarWidth : 0,
                    K = B.margin,
                    L = p(K[1] + K[3]),
                    M = p(K[0] + K[2]);
                if (
                    (y
                        .add(z)
                        .add(A)
                        .width("auto")
                        .height("auto")
                        .removeClass("fancybox-tmp"),
                        (a = p(z.outerWidth(!0) - z.width())),
                        (b = p(z.outerHeight(!0) - z.height())),
                        (d = L + a),
                        (e = M + b),
                        (f = n(C) ? ((u.w - d) * p(C)) / 100 : C),
                        (g = n(D) ? ((u.h - e) * p(D)) / 100 : D),
                        "iframe" === B.type)
                ) {
                    if (((s = B.content), B.autoHeight && 1 === s.data("ready")))
                        try {
                            s[0].contentWindow.document.location &&
                                (A.width(f).height(9999),
                                    (t = s.contents().find("body")),
                                    J && t.css("overflow-x", "hidden"),
                                    (g = t.outerHeight(!0)));
                        } catch (N) {}
                } else
                    (B.autoWidth || B.autoHeight) &&
                    (A.addClass("fancybox-tmp"),
                        B.autoWidth || A.width(f),
                        B.autoHeight || A.height(g),
                        B.autoWidth && (f = A.width()),
                        B.autoHeight && (g = A.height()),
                        A.removeClass("fancybox-tmp"));
                if (
                    ((C = p(f)),
                        (D = p(g)),
                        (k = f / g),
                        (E = p(n(E) ? p(E, "w") - d : E)),
                        (G = p(n(G) ? p(G, "w") - d : G)),
                        (F = p(n(F) ? p(F, "h") - e : F)),
                        (H = p(n(H) ? p(H, "h") - e : H)),
                        (i = G),
                        (j = H),
                        B.fitToView &&
                        ((G = Math.min(u.w - d, G)), (H = Math.min(u.h - e, H))),
                        (o = u.w - L),
                        (r = u.h - M),
                        B.aspectRatio ?
                        (C > G && ((C = G), (D = p(C / k))),
                            D > H && ((D = H), (C = p(D * k))),
                            E > C && ((C = E), (D = p(C / k))),
                            F > D && ((D = F), (C = p(D * k)))) :
                        ((C = Math.max(E, Math.min(C, G))),
                            B.autoHeight &&
                            "iframe" !== B.type &&
                            (A.width(C), (D = A.height())),
                            (D = Math.max(F, Math.min(D, H)))),
                        B.fitToView)
                )
                    if (
                        (A.width(C).height(D),
                            y.width(C + a),
                            (l = y.width()),
                            (m = y.height()),
                            B.aspectRatio)
                    )
                        for (;
                            (l > o || m > r) && C > E && D > F && !(v++ > 19);)
                            (D = Math.max(F, Math.min(H, D - 10))),
                            (C = p(D * k)),
                            E > C && ((C = E), (D = p(C / k))),
                            C > G && ((C = G), (D = p(C / k))),
                            A.width(C).height(D),
                            y.width(C + a),
                            (l = y.width()),
                            (m = y.height());
                    else
                        (C = Math.max(E, Math.min(C, C - (l - o)))),
                        (D = Math.max(F, Math.min(D, D - (m - r))));
                J && "auto" === I && g > D && o > C + a + J && (C += J),
                    A.width(C).height(D),
                    y.width(C + a),
                    (l = y.width()),
                    (m = y.height()),
                    (w = (l > o || m > r) && C > E && D > F),
                    (x = B.aspectRatio ?
                        i > C && j > D && f > C && g > D :
                        (i > C || j > D) && (f > C || g > D)),
                    c.extend(B, {
                        dim: { width: q(l), height: q(m) },
                        origWidth: f,
                        origHeight: g,
                        canShrink: w,
                        canExpand: x,
                        wPadding: a,
                        hPadding: b,
                        wrapSpace: m - z.outerHeight(!0),
                        skinSpace: z.height() - D
                    }), !s && B.autoHeight && D > F && H > D && !x && A.height("auto");
            },
            _getPosition: function(a) {
                var b = h.current,
                    c = h.getViewport(),
                    d = b.margin,
                    e = h.wrap.width() + d[1] + d[3],
                    f = h.wrap.height() + d[0] + d[2],
                    g = { position: "absolute", top: d[0], left: d[3] };
                return (
                    b.autoCenter && b.fixed && !a && f <= c.h && e <= c.w ?
                    (g.position = "fixed") :
                    b.locked || ((g.top += c.y), (g.left += c.x)),
                    (g.top = q(Math.max(g.top, g.top + (c.h - f) * b.topRatio))),
                    (g.left = q(Math.max(g.left, g.left + (c.w - e) * b.leftRatio))),
                    g
                );
            },
            _afterZoomIn: function() {
                var a = h.current;
                a &&
                    ((h.isOpen = h.isOpened = !0),
                        h.wrap
                        .css("overflow", "visible")
                        .addClass("fancybox-opened")
                        .hide()
                        .show(0),
                        h.update(),
                        (a.closeClick || (a.nextClick && h.group.length > 1)) &&
                        h.inner.css("cursor", "pointer").bind("click.fb", function(b) {
                            c(b.target).is("a") ||
                                c(b.target)
                                .parent()
                                .is("a") ||
                                (b.preventDefault(), h[a.closeClick ? "close" : "next"]());
                        }),
                        a.closeBtn &&
                        c(a.tpl.closeBtn)
                        .appendTo(h.skin)
                        .bind("click.fb", function(a) {
                            a.preventDefault(), h.close();
                        }),
                        a.arrows &&
                        h.group.length > 1 &&
                        ((a.loop || a.index > 0) &&
                            c(a.tpl.prev)
                            .appendTo(h.outer)
                            .bind("click.fb", h.prev),
                            (a.loop || a.index < h.group.length - 1) &&
                            c(a.tpl.next)
                            .appendTo(h.outer)
                            .bind("click.fb", h.next)),
                        h.trigger("afterShow"),
                        a.loop || a.index !== a.group.length - 1 ?
                        h.opts.autoPlay &&
                        !h.player.isActive &&
                        ((h.opts.autoPlay = !1), h.play(!0)) :
                        h.play(!1));
            },
            _afterZoomOut: function(a) {
                (a = a || h.current),
                c(".fancybox-wrap")
                    .trigger("onReset")
                    .remove(),
                    c.extend(h, {
                        group: {},
                        opts: {},
                        router: !1,
                        current: null,
                        isActive: !1,
                        isOpened: !1,
                        isOpen: !1,
                        isClosing: !1,
                        wrap: null,
                        skin: null,
                        outer: null,
                        inner: null
                    }),
                    h.trigger("afterClose", a);
            }
        }),
        (h.transitions = {
            getOrigPosition: function() {
                var a = h.current,
                    b = a.element,
                    c = a.orig,
                    d = {},
                    e = 50,
                    f = 50,
                    g = a.hPadding,
                    i = a.wPadding,
                    j = h.getViewport();
                return (!c &&
                    a.isDom &&
                    b.is(":visible") &&
                    ((c = b.find("img:first")), c.length || (c = b)),
                    l(c) ?
                    ((d = c.offset()),
                        c.is("img") && ((e = c.outerWidth()), (f = c.outerHeight()))) :
                    ((d.top = j.y + (j.h - f) * a.topRatio),
                        (d.left = j.x + (j.w - e) * a.leftRatio)),
                    ("fixed" === h.wrap.css("position") || a.locked) &&
                    ((d.top -= j.y), (d.left -= j.x)),
                    (d = {
                        top: q(d.top - g * a.topRatio),
                        left: q(d.left - i * a.leftRatio),
                        width: q(e + i),
                        height: q(f + g)
                    })
                );
            },
            step: function(a, b) {
                var c,
                    d,
                    e,
                    f = b.prop,
                    g = h.current,
                    i = g.wrapSpace,
                    j = g.skinSpace;
                ("width" !== f && "height" !== f) ||
                ((c = b.end === b.start ? 1 : (a - b.start) / (b.end - b.start)),
                    h.isClosing && (c = 1 - c),
                    (d = "width" === f ? g.wPadding : g.hPadding),
                    (e = a - d),
                    h.skin[f](p("width" === f ? e : e - i * c)),
                    h.inner[f](p("width" === f ? e : e - i * c - j * c)));
            },
            zoomIn: function() {
                var a = h.current,
                    b = a.pos,
                    d = a.openEffect,
                    e = "elastic" === d,
                    f = c.extend({ opacity: 1 }, b);
                delete f.position,
                    e ?
                    ((b = this.getOrigPosition()),
                        a.openOpacity && (b.opacity = 0.1)) :
                    "fade" === d && (b.opacity = 0.1),
                    h.wrap
                    .css(b)
                    .animate(f, {
                        duration: "none" === d ? 0 : a.openSpeed,
                        easing: a.openEasing,
                        step: e ? this.step : null,
                        complete: h._afterZoomIn
                    });
            },
            zoomOut: function() {
                var a = h.current,
                    b = a.closeEffect,
                    c = "elastic" === b,
                    d = { opacity: 0.1 };
                c &&
                    ((d = this.getOrigPosition()), a.closeOpacity && (d.opacity = 0.1)),
                    h.wrap.animate(d, {
                        duration: "none" === b ? 0 : a.closeSpeed,
                        easing: a.closeEasing,
                        step: c ? this.step : null,
                        complete: h._afterZoomOut
                    });
            },
            changeIn: function() {
                var a,
                    b = h.current,
                    c = b.nextEffect,
                    d = b.pos,
                    e = { opacity: 1 },
                    f = h.direction,
                    g = 200;
                (d.opacity = 0.1),
                "elastic" === c &&
                    ((a = "down" === f || "up" === f ? "top" : "left"),
                        "down" === f || "right" === f ?
                        ((d[a] = q(p(d[a]) - g)), (e[a] = "+=" + g + "px")) :
                        ((d[a] = q(p(d[a]) + g)), (e[a] = "-=" + g + "px"))),
                    "none" === c ?
                    h._afterZoomIn() :
                    h.wrap
                    .css(d)
                    .animate(e, {
                        duration: b.nextSpeed,
                        easing: b.nextEasing,
                        complete: h._afterZoomIn
                    });
            },
            changeOut: function() {
                var a = h.previous,
                    b = a.prevEffect,
                    d = { opacity: 0.1 },
                    e = h.direction,
                    f = 200;
                "elastic" === b &&
                    (d["down" === e || "up" === e ? "top" : "left"] =
                        ("up" === e || "left" === e ? "-" : "+") + "=" + f + "px"),
                    a.wrap.animate(d, {
                        duration: "none" === b ? 0 : a.prevSpeed,
                        easing: a.prevEasing,
                        complete: function() {
                            c(this)
                                .trigger("onReset")
                                .remove();
                        }
                    });
            }
        }),
        (h.helpers.overlay = {
            defaults: {
                closeClick: !0,
                speedOut: 200,
                showEarly: !0,
                css: {},
                locked: !k,
                fixed: !0
            },
            overlay: null,
            fixed: !1,
            el: c("html"),
            create: function(a) {
                var b;
                (a = c.extend({}, this.defaults, a)),
                this.overlay && this.close(),
                    (b = h.coming ? h.coming.parent : a.parent),
                    (this.overlay = c('<div class="fancybox-overlay"></div>').appendTo(
                        b && b.length ? b : "body"
                    )),
                    (this.fixed = !1),
                    a.fixed &&
                    h.defaults.fixed &&
                    (this.overlay.addClass("fancybox-overlay-fixed"),
                        (this.fixed = !0));
            },
            open: function(a) {
                var b = this;
                (a = c.extend({}, this.defaults, a)),
                this.overlay ?
                    this.overlay
                    .unbind(".overlay")
                    .width("auto")
                    .height("auto") :
                    this.create(a),
                    this.fixed ||
                    (f.bind("resize.overlay", c.proxy(this.update, this)),
                        this.update()),
                    a.closeClick &&
                    this.overlay.bind("click.overlay", function(a) {
                        return c(a.target).hasClass("fancybox-overlay") ?
                            (h.isActive ? h.close() : b.close(), !1) :
                            void 0;
                    }),
                    this.overlay.css(a.css).show();
            },
            close: function() {
                f.unbind("resize.overlay"),
                    this.el.hasClass("fancybox-lock") &&
                    (c(".fancybox-margin").removeClass("fancybox-margin"),
                        this.el.removeClass("fancybox-lock"),
                        f.scrollTop(this.scrollV).scrollLeft(this.scrollH)),
                    c(".fancybox-overlay")
                    .remove()
                    .hide(),
                    c.extend(this, { overlay: null, fixed: !1 });
            },
            update: function() {
                var a,
                    c = "100%";
                this.overlay.width(c).height("100%"),
                    i ?
                    ((a = Math.max(
                            b.documentElement.offsetWidth,
                            b.body.offsetWidth
                        )),
                        g.width() > a && (c = g.width())) :
                    g.width() > f.width() && (c = g.width()),
                    this.overlay.width(c).height(g.height());
            },
            onReady: function(a, b) {
                var d = this.overlay;
                c(".fancybox-overlay").stop(!0, !0),
                    d || this.create(a),
                    a.locked &&
                    this.fixed &&
                    b.fixed &&
                    ((b.locked = this.overlay.append(b.wrap)), (b.fixed = !1)),
                    a.showEarly === !0 && this.beforeShow.apply(this, arguments);
            },
            beforeShow: function(a, b) {
                b.locked &&
                    !this.el.hasClass("fancybox-lock") &&
                    (this.fixPosition !== !1 &&
                        c("*:not(object)")
                        .filter(function() {
                            return (
                                "fixed" === c(this).css("position") &&
                                !c(this).hasClass("fancybox-overlay") &&
                                !c(this).hasClass("fancybox-wrap")
                            );
                        })
                        .addClass("fancybox-margin"),
                        this.el.addClass("fancybox-margin"),
                        (this.scrollV = f.scrollTop()),
                        (this.scrollH = f.scrollLeft()),
                        this.el.addClass("fancybox-lock"),
                        f.scrollTop(this.scrollV).scrollLeft(this.scrollH)),
                    this.open(a);
            },
            onUpdate: function() {
                this.fixed || this.update();
            },
            afterClose: function(a) {
                this.overlay &&
                    !h.coming &&
                    this.overlay.fadeOut(a.speedOut, c.proxy(this.close, this));
            }
        }),
        (h.helpers.title = {
            defaults: { type: "float", position: "bottom" },
            beforeShow: function(a) {
                var b,
                    d,
                    e = h.current,
                    f = e.title,
                    g = a.type;
                if (
                    (c.isFunction(f) && (f = f.call(e.element, e)),
                        m(f) && "" !== c.trim(f))
                ) {
                    switch (
                        ((b = c(
                                '<div class="fancybox-title fancybox-title-' +
                                g +
                                '-wrap">' +
                                f +
                                "</div>"
                            )),
                            g)
                    ) {
                        case "inside":
                            d = h.skin;
                            break;
                        case "outside":
                            d = h.wrap;
                            break;
                        case "over":
                            d = h.inner;
                            break;
                        default:
                            (d = h.skin),
                            b.appendTo("body"),
                                i && b.width(b.width()),
                                b.wrapInner('<span class="child"></span>'),
                                (h.current.margin[2] += Math.abs(p(b.css("margin-bottom"))));
                    }
                    b["top" === a.position ? "prependTo" : "appendTo"](d);
                }
            }
        }),
        (c.fn.fancybox = function(a) {
            var b,
                d = c(this),
                e = this.selector || "",
                f = function(f) {
                    var g,
                        i,
                        j = c(this).blur(),
                        k = b;
                    f.ctrlKey ||
                        f.altKey ||
                        f.shiftKey ||
                        f.metaKey ||
                        j.is(".fancybox-wrap") ||
                        ((g = a.groupAttr || "data-fancybox-group"),
                            (i = j.attr(g)),
                            i || ((g = "rel"), (i = j.get(0)[g])),
                            i &&
                            "" !== i &&
                            "nofollow" !== i &&
                            ((j = e.length ? c(e) : d),
                                (j = j.filter("[" + g + '="' + i + '"]')),
                                (k = j.index(this))),
                            (a.index = k),
                            h.open(j, a) !== !1 && f.preventDefault());
                };
            return (
                (a = a || {}),
                (b = a.index || 0),
                e && a.live !== !1 ?
                g
                .undelegate(e, "click.fb-start")
                .delegate(
                    e + ":not('.fancybox-item, .fancybox-nav')",
                    "click.fb-start",
                    f
                ) :
                d.unbind("click.fb-start").bind("click.fb-start", f),
                this.filter("[data-fancybox-start=1]").trigger("click"),
                this
            );
        }),
        g.ready(function() {
            var b, f;
            c.scrollbarWidth === d &&
                (c.scrollbarWidth = function() {
                    var a = c(
                            '<div style="width:50px;height:50px;overflow:auto"><div/></div>'
                        ).appendTo("body"),
                        b = a.children(),
                        d = b.innerWidth() - b.height(99).innerWidth();
                    return a.remove(), d;
                }),
                c.support.fixedPosition === d &&
                (c.support.fixedPosition = (function() {
                    var a = c(
                            '<div style="position:fixed;top:20px;"></div>'
                        ).appendTo("body"),
                        b = 20 === a[0].offsetTop || 15 === a[0].offsetTop;
                    return a.remove(), b;
                })()),
                c.extend(h.defaults, {
                    scrollbarWidth: c.scrollbarWidth(),
                    fixed: c.support.fixedPosition,
                    parent: c("body")
                }),
                (b = c(a).width()),
                e.addClass("fancybox-lock-test"),
                (f = c(a).width()),
                e.removeClass("fancybox-lock-test"),
                c(
                    "<style type='text/css'>.fancybox-margin{margin-right:" +
                    (f - b) +
                    "px;}</style>"
                ).appendTo("head");
        });
})(window, document, jQuery),
(function(a) {
    a.fn.extend({
            slimScroll: function(b) {
                var c = a.extend({
                        width: "auto",
                        height: "250px",
                        size: "7px",
                        color: "#000",
                        position: "right",
                        distance: "1px",
                        start: "top",
                        opacity: 0.4,
                        alwaysVisible: !1,
                        disableFadeOut: !1,
                        railVisible: !1,
                        railColor: "#333",
                        railOpacity: 0.2,
                        railDraggable: !0,
                        railClass: "slimScrollRail",
                        barClass: "slimScrollBar",
                        wrapperClass: "slimScrollDiv",
                        allowPageScroll: !1,
                        wheelStep: 20,
                        touchScrollStep: 200,
                        borderRadius: "7px",
                        railBorderRadius: "7px"
                    },
                    b
                );
                return (
                    this.each(function() {
                        function d(b) {
                            if (i) {
                                b = b || window.event;
                                var d = 0;
                                b.wheelDelta && (d = -b.wheelDelta / 120),
                                    b.detail && (d = b.detail / 3),
                                    a(b.target || b.srcTarget || b.srcElement)
                                    .closest("." + c.wrapperClass)
                                    .is(r.parent()) && e(d, !0),
                                    b.preventDefault && !q && b.preventDefault(),
                                    q || (b.returnValue = !1);
                            }
                        }

                        function e(a, b, d) {
                            q = !1;
                            var e = a,
                                f = r.outerHeight() - u.outerHeight();
                            b &&
                                ((e =
                                        parseInt(u.css("top")) +
                                        ((a * parseInt(c.wheelStep)) / 100) * u.outerHeight()),
                                    (e = Math.min(Math.max(e, 0), f)),
                                    (e = a > 0 ? Math.ceil(e) : Math.floor(e)),
                                    u.css({ top: e + "px" })),
                                (o =
                                    parseInt(u.css("top")) / (r.outerHeight() - u.outerHeight())),
                                (e = o * (r[0].scrollHeight - r.outerHeight())),
                                d &&
                                ((e = a),
                                    (a = (e / r[0].scrollHeight) * r.outerHeight()),
                                    (a = Math.min(Math.max(a, 0), f)),
                                    u.css({ top: a + "px" })),
                                r.scrollTop(e),
                                r.trigger("slimscrolling", ~~e),
                                g(),
                                h();
                        }

                        function f() {
                            (n = Math.max(
                                (r.outerHeight() / r[0].scrollHeight) * r.outerHeight(),
                                30
                            )),
                            u.css({ height: n + "px" });
                            var a = n == r.outerHeight() ? "none" : "block";
                            u.css({ display: a });
                        }

                        function g() {
                            f(),
                                clearTimeout(l),
                                o == ~~o ?
                                ((q = c.allowPageScroll),
                                    p != o &&
                                    r.trigger("slimscroll", 0 == ~~o ? "top" : "bottom")) :
                                (q = !1),
                                (p = o),
                                n >= r.outerHeight() ?
                                (q = !0) :
                                (u.stop(!0, !0).fadeIn("fast"),
                                    c.railVisible && v.stop(!0, !0).fadeIn("fast"));
                        }

                        function h() {
                            c.alwaysVisible ||
                                (l = setTimeout(function() {
                                    (c.disableFadeOut && i) ||
                                    j ||
                                        k ||
                                        (u.fadeOut("slow"), v.fadeOut("slow"));
                                }, 1e3));
                        }
                        var i,
                            j,
                            k,
                            l,
                            m,
                            n,
                            o,
                            p,
                            q = !1,
                            r = a(this);
                        if (r.parent().hasClass(c.wrapperClass)) {
                            var s = r.scrollTop(),
                                u = r.closest("." + c.barClass),
                                v = r.closest("." + c.railClass);
                            if ((f(), a.isPlainObject(b))) {
                                if ("height" in b && "auto" == b.height) {
                                    r.parent().css("height", "auto"), r.css("height", "auto");
                                    var w = r
                                        .parent()
                                        .parent()
                                        .height();
                                    r.parent().css("height", w), r.css("height", w);
                                }
                                if ("scrollTo" in b) s = parseInt(c.scrollTo);
                                else if ("scrollBy" in b) s += parseInt(c.scrollBy);
                                else if ("destroy" in b)
                                    return u.remove(), v.remove(), void r.unwrap();
                                e(s, !1, !0);
                            }
                        } else if (!(a.isPlainObject(b) && "destroy" in b)) {
                            (c.height = "auto" == c.height ? r.parent().height() : c.height),
                            (s = a("<div></div>")
                                .addClass(c.wrapperClass)
                                .css({
                                    position: "relative",
                                    overflow: "hidden",
                                    width: c.width,
                                    height: c.height
                                })),
                            r.css({ overflow: "hidden", width: c.width, height: c.height });
                            var v = a("<div></div>")
                                .addClass(c.railClass)
                                .css({
                                    width: c.size,
                                    height: "100%",
                                    position: "absolute",
                                    top: 0,
                                    display: c.alwaysVisible && c.railVisible ? "block" : "none",
                                    "border-radius": c.railBorderRadius,
                                    background: c.railColor,
                                    opacity: c.railOpacity,
                                    zIndex: 90
                                }),
                                u = a("<div></div>")
                                .addClass(c.barClass)
                                .css({
                                    background: c.color,
                                    width: c.size,
                                    position: "absolute",
                                    top: 0,
                                    opacity: c.opacity,
                                    display: c.alwaysVisible ? "block" : "none",
                                    "border-radius": c.borderRadius,
                                    BorderRadius: c.borderRadius,
                                    MozBorderRadius: c.borderRadius,
                                    WebkitBorderRadius: c.borderRadius,
                                    zIndex: 99
                                }),
                                w =
                                "right" == c.position ? { right: c.distance } : { left: c.distance };
                            v.css(w),
                                u.css(w),
                                r.wrap(s),
                                r.parent().append(u),
                                r.parent().append(v),
                                c.railDraggable &&
                                u
                                .bind("mousedown", function(b) {
                                    var c = a(document);
                                    return (
                                        (k = !0),
                                        (t = parseFloat(u.css("top"))),
                                        (pageY = b.pageY),
                                        c.bind("mousemove.slimscroll", function(a) {
                                            (currTop = t + a.pageY - pageY),
                                            u.css("top", currTop),
                                                e(0, u.position().top, !1);
                                        }),
                                        c.bind("mouseup.slimscroll", function(a) {
                                            (k = !1), h(), c.unbind(".slimscroll");
                                        }), !1
                                    );
                                })
                                .bind("selectstart.slimscroll", function(a) {
                                    return a.stopPropagation(), a.preventDefault(), !1;
                                }),
                                v.hover(
                                    function() {
                                        g();
                                    },
                                    function() {
                                        h();
                                    }
                                ),
                                u.hover(
                                    function() {
                                        j = !0;
                                    },
                                    function() {
                                        j = !1;
                                    }
                                ),
                                r.hover(
                                    function() {
                                        (i = !0), g(), h();
                                    },
                                    function() {
                                        (i = !1), h();
                                    }
                                ),
                                r.bind("touchstart", function(a, b) {
                                    a.originalEvent.touches.length &&
                                        (m = a.originalEvent.touches[0].pageY);
                                }),
                                r.bind("touchmove", function(a) {
                                    q || a.originalEvent.preventDefault(),
                                        a.originalEvent.touches.length &&
                                        (e(
                                                (m - a.originalEvent.touches[0].pageY) /
                                                c.touchScrollStep, !0
                                            ),
                                            (m = a.originalEvent.touches[0].pageY));
                                }),
                                f(),
                                "bottom" === c.start ?
                                (u.css({ top: r.outerHeight() - u.outerHeight() }),
                                    e(0, !0)) :
                                "top" !== c.start &&
                                (e(a(c.start).position().top, null, !0),
                                    c.alwaysVisible || u.hide()),
                                window.addEventListener ?
                                (this.addEventListener("DOMMouseScroll", d, !1),
                                    this.addEventListener("mousewheel", d, !1)) :
                                document.attachEvent("onmousewheel", d);
                        }
                    }),
                    this
                );
            }
        }),
        a.fn.extend({ slimscroll: a.fn.slimScroll });
})(jQuery),
(function() {
    function a(a) {
        if ((a.preventDefault(), classie.has(c, "open"))) {
            classie.remove(c, "open"), classie.add(c, "close");
            var b = function(a) {
                if (support.transitions) {
                    if ("visibility" !== a.propertyName) return;
                    this.removeEventListener(transEndEventName, b);
                }
                classie.remove(c, "close");
            };
            support.transitions ? c.addEventListener(transEndEventName, b) : b();
        } else classie.has(c, "close") || classie.add(c, "open");
        $("#searchform input").focus();
    }
    if (document.getElementById("trigger-overlay")) {
        var b = document.getElementById("trigger-overlay"),
            c = document.querySelector("div.search-overlay"),
            d = c.querySelector(".overlay-close");
        (transEndEventNames = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "oTransitionEnd",
            msTransition: "MSTransitionEnd",
            transition: "transitionend"
        }),
        (transEndEventName =
            transEndEventNames[Modernizr.prefixed("transition")]),
        (support = { transitions: Modernizr.csstransitions }),
        b.addEventListener("click", a),
            d.addEventListener("click", a),
            $(document).keyup(function(b) {
                classie.has(c, "open") && 27 == b.which && a();
            });
    }
})(), !(function(a, b, c, d) {
    function e(b, c) {
        (this.settings = null),
        (this.options = a.extend({}, e.Defaults, c)),
        (this.$element = a(b)),
        (this.drag = a.extend({}, m)),
        (this.state = a.extend({}, n)),
        (this.e = a.extend({}, o)),
        (this._plugins = {}),
        (this._supress = {}),
        (this._current = null),
        (this._speed = null),
        (this._coordinates = []),
        (this._breakpoint = null),
        (this._width = null),
        (this._items = []),
        (this._clones = []),
        (this._mergers = []),
        (this._invalidated = {}),
        (this._pipe = []),
        a.each(
                e.Plugins,
                a.proxy(function(a, b) {
                    this._plugins[a[0].toLowerCase() + a.slice(1)] = new b(this);
                }, this)
            ),
            a.each(
                e.Pipe,
                a.proxy(function(b, c) {
                    this._pipe.push({ filter: c.filter, run: a.proxy(c.run, this) });
                }, this)
            ),
            this.setup(),
            this.initialize();
    }

    function f(a) {
        if (a.touches !== d)
            return { x: a.touches[0].pageX, y: a.touches[0].pageY };
        if (a.touches === d) {
            if (a.pageX !== d) return { x: a.pageX, y: a.pageY };
            if (a.pageX === d) return { x: a.clientX, y: a.clientY };
        }
    }

    function g(a) {
        var b,
            d,
            e = c.createElement("div"),
            f = a;
        for (b in f)
            if (((d = f[b]), "undefined" != typeof e.style[d]))
                return (e = null), [d, b];
        return [!1];
    }

    function h() {
        return g([
            "transition",
            "WebkitTransition",
            "MozTransition",
            "OTransition"
        ])[1];
    }

    function i() {
        return g([
            "transform",
            "WebkitTransform",
            "MozTransform",
            "OTransform",
            "msTransform"
        ])[0];
    }

    function j() {
        return g([
            "perspective",
            "webkitPerspective",
            "MozPerspective",
            "OPerspective",
            "MsPerspective"
        ])[0];
    }

    function k() {
        return "ontouchstart" in b || !!navigator.msMaxTouchPoints;
    }

    function l() {
        return b.navigator.msPointerEnabled;
    }
    var m, n, o;
    (m = {
        start: 0,
        startX: 0,
        startY: 0,
        current: 0,
        currentX: 0,
        currentY: 0,
        offsetX: 0,
        offsetY: 0,
        distance: null,
        startTime: 0,
        endTime: 0,
        updatedX: 0,
        targetEl: null
    }),
    (n = {
        isTouch: !1,
        isScrolling: !1,
        isSwiping: !1,
        direction: !1,
        inMotion: !1
    }),
    (o = {
        _onDragStart: null,
        _onDragMove: null,
        _onDragEnd: null,
        _transitionEnd: null,
        _resizer: null,
        _responsiveCall: null,
        _goToLoop: null,
        _checkVisibile: null
    }),
    (e.Defaults = {
        items: 3,
        loop: !1,
        center: !1,
        mouseDrag: !0,
        touchDrag: !0,
        pullDrag: !0,
        freeDrag: !1,
        margin: 0,
        stagePadding: 0,
        merge: !1,
        mergeFit: !0,
        autoWidth: !1,
        startPosition: 0,
        rtl: !1,
        smartSpeed: 250,
        fluidSpeed: !1,
        dragEndSpeed: !1,
        responsive: {},
        responsiveRefreshRate: 200,
        responsiveBaseElement: b,
        responsiveClass: !1,
        fallbackEasing: "swing",
        info: !1,
        nestedItemSelector: !1,
        itemElement: "div",
        stageElement: "div",
        themeClass: "owl-theme",
        baseClass: "owl-carousel",
        itemClass: "owl-item",
        centerClass: "center",
        activeClass: "active"
    }),
    (e.Width = { Default: "default", Inner: "inner", Outer: "outer" }),
    (e.Plugins = {}),
    (e.Pipe = [{
            filter: ["width", "items", "settings"],
            run: function(a) {
                a.current =
                    this._items && this._items[this.relative(this._current)];
            }
        },
        {
            filter: ["items", "settings"],
            run: function() {
                var a = this._clones,
                    b = this.$stage.children(".cloned");
                (b.length !== a.length || (!this.settings.loop && a.length > 0)) &&
                (this.$stage.children(".cloned").remove(), (this._clones = []));
            }
        },
        {
            filter: ["items", "settings"],
            run: function() {
                var a,
                    b,
                    c = this._clones,
                    d = this._items,
                    e = this.settings.loop ?
                    c.length - Math.max(2 * this.settings.items, 4) :
                    0;
                for (a = 0, b = Math.abs(e / 2); b > a; a++)
                    e > 0 ?
                    (this.$stage
                        .children()
                        .eq(d.length + c.length - 1)
                        .remove(),
                        c.pop(),
                        this.$stage
                        .children()
                        .eq(0)
                        .remove(),
                        c.pop()) :
                    (c.push(c.length / 2),
                        this.$stage.append(
                            d[c[c.length - 1]].clone().addClass("cloned")
                        ),
                        c.push(d.length - 1 - (c.length - 1) / 2),
                        this.$stage.prepend(
                            d[c[c.length - 1]].clone().addClass("cloned")
                        ));
            }
        },
        {
            filter: ["width", "items", "settings"],
            run: function() {
                var a,
                    b,
                    c,
                    d = this.settings.rtl ? 1 : -1,
                    e = (this.width() / this.settings.items).toFixed(3),
                    f = 0;
                for (
                    this._coordinates = [],
                    b = 0,
                    c = this._clones.length + this._items.length; c > b; b++
                )
                    (a = this._mergers[this.relative(b)]),
                    (a =
                        (this.settings.mergeFit &&
                            Math.min(a, this.settings.items)) ||
                        a),
                    (f +=
                        (this.settings.autoWidth ?
                            this._items[this.relative(b)].width() +
                            this.settings.margin :
                            e * a) * d),
                    this._coordinates.push(f);
            }
        },
        {
            filter: ["width", "items", "settings"],
            run: function() {
                var b,
                    c,
                    d = (this.width() / this.settings.items).toFixed(3),
                    e = {
                        width: Math.abs(this._coordinates[this._coordinates.length - 1]) +
                            2 * this.settings.stagePadding,
                        "padding-left": this.settings.stagePadding || "",
                        "padding-right": this.settings.stagePadding || ""
                    };
                if (
                    (this.$stage.css(e),
                        (e = {
                            width: this.settings.autoWidth ?
                                "auto" : d - this.settings.margin
                        }),
                        (e[
                            this.settings.rtl ? "margin-left" : "margin-right"
                        ] = this.settings.margin), !this.settings.autoWidth &&
                        a.grep(this._mergers, function(a) {
                            return a > 1;
                        }).length > 0)
                )
                    for (b = 0, c = this._coordinates.length; c > b; b++)
                        (e.width =
                            Math.abs(this._coordinates[b]) -
                            Math.abs(this._coordinates[b - 1] || 0) -
                            this.settings.margin),
                        this.$stage
                        .children()
                        .eq(b)
                        .css(e);
                else this.$stage.children().css(e);
            }
        },
        {
            filter: ["width", "items", "settings"],
            run: function(a) {
                a.current && this.reset(this.$stage.children().index(a.current));
            }
        },
        {
            filter: ["position"],
            run: function() {
                this.animate(this.coordinates(this._current));
            }
        },
        {
            filter: ["width", "position", "items", "settings"],
            run: function() {
                var a,
                    b,
                    c,
                    d,
                    e = this.settings.rtl ? 1 : -1,
                    f = 2 * this.settings.stagePadding,
                    g = this.coordinates(this.current()) + f,
                    h = g + this.width() * e,
                    i = [];
                for (c = 0, d = this._coordinates.length; d > c; c++)
                    (a = this._coordinates[c - 1] || 0),
                    (b = Math.abs(this._coordinates[c]) + f * e),
                    ((this.op(a, "<=", g) && this.op(a, ">", h)) ||
                        (this.op(b, "<", g) && this.op(b, ">", h))) &&
                    i.push(c);
                this.$stage
                    .children("." + this.settings.activeClass)
                    .removeClass(this.settings.activeClass),
                    this.$stage
                    .children(":eq(" + i.join("), :eq(") + ")")
                    .addClass(this.settings.activeClass),
                    this.settings.center &&
                    (this.$stage
                        .children("." + this.settings.centerClass)
                        .removeClass(this.settings.centerClass),
                        this.$stage
                        .children()
                        .eq(this.current())
                        .addClass(this.settings.centerClass));
            }
        }
    ]),
    (e.prototype.initialize = function() {
        if (
            (this.trigger("initialize"),
                this.$element
                .addClass(this.settings.baseClass)
                .addClass(this.settings.themeClass)
                .toggleClass("owl-rtl", this.settings.rtl),
                this.browserSupport(),
                this.settings.autoWidth && this.state.imagesLoaded !== !0)
        ) {
            var b, c, e;
            if (
                ((b = this.$element.find("img")),
                    (c = this.settings.nestedItemSelector ?
                        "." + this.settings.nestedItemSelector :
                        d),
                    (e = this.$element.children(c).width()),
                    b.length && 0 >= e)
            )
                return this.preloadAutoWidthImages(b), !1;
        }
        this.$element.addClass("owl-loading"),
            (this.$stage = a(
                "<" + this.settings.stageElement + ' class="owl-stage"/>'
            ).wrap('<div class="owl-stage-outer">')),
            this.$element.append(this.$stage.parent()),
            this.replace(this.$element.children().not(this.$stage.parent())),
            (this._width = this.$element.width()),
            this.refresh(),
            this.$element.removeClass("owl-loading").addClass("owl-loaded"),
            this.eventsCall(),
            this.internalEvents(),
            this.addTriggerableEvents(),
            this.trigger("initialized");
    }),
    (e.prototype.setup = function() {
        var b = this.viewport(),
            c = this.options.responsive,
            d = -1,
            e = null;
        c
            ?
            (a.each(c, function(a) {
                    b >= a && a > d && (d = Number(a));
                }),
                (e = a.extend({}, this.options, c[d])),
                delete e.responsive,
                e.responsiveClass &&
                this.$element
                .attr("class", function(a, b) {
                    return b.replace(/\b owl-responsive-\S+/g, "");
                })
                .addClass("owl-responsive-" + d)) :
            (e = a.extend({}, this.options)),
            (null === this.settings || this._breakpoint !== d) &&
            (this.trigger("change", {
                    property: { name: "settings", value: e }
                }),
                (this._breakpoint = d),
                (this.settings = e),
                this.invalidate("settings"),
                this.trigger("changed", {
                    property: { name: "settings", value: this.settings }
                }));
    }),
    (e.prototype.optionsLogic = function() {
        this.$element.toggleClass("owl-center", this.settings.center),
            this.settings.loop &&
            this._items.length < this.settings.items &&
            (this.settings.loop = !1),
            this.settings.autoWidth &&
            ((this.settings.stagePadding = !1), (this.settings.merge = !1));
    }),
    (e.prototype.prepare = function(b) {
        var c = this.trigger("prepare", { content: b });
        return (
            c.data ||
            (c.data = a("<" + this.settings.itemElement + "/>")
                .addClass(this.settings.itemClass)
                .append(b)),
            this.trigger("prepared", { content: c.data }),
            c.data
        );
    }),
    (e.prototype.update = function() {
        for (
            var b = 0,
                c = this._pipe.length,
                d = a.proxy(function(a) {
                    return this[a];
                }, this._invalidated),
                e = {}; c > b;

        )
            (this._invalidated.all ||
                a.grep(this._pipe[b].filter, d).length > 0) &&
            this._pipe[b].run(e),
            b++;
        this._invalidated = {};
    }),
    (e.prototype.width = function(a) {
        switch ((a = a || e.Width.Default)) {
            case e.Width.Inner:
            case e.Width.Outer:
                return this._width;
            default:
                return (
                    this._width -
                    2 * this.settings.stagePadding +
                    this.settings.margin
                );
        }
    }),
    (e.prototype.refresh = function() {
        return 0 === this._items.length ?
            !1 :
            (new Date().getTime(),
                this.trigger("refresh"),
                this.setup(),
                this.optionsLogic(),
                this.$stage.addClass("owl-refresh"),
                this.update(),
                this.$stage.removeClass("owl-refresh"),
                (this.state.orientation = b.orientation),
                this.watchVisibility(),
                this.trigger("refreshed"),
                void 0);
    }),
    (e.prototype.eventsCall = function() {
        (this.e._onDragStart = a.proxy(function(a) {
            this.onDragStart(a);
        }, this)),
        (this.e._onDragMove = a.proxy(function(a) {
            this.onDragMove(a);
        }, this)),
        (this.e._onDragEnd = a.proxy(function(a) {
            this.onDragEnd(a);
        }, this)),
        (this.e._onResize = a.proxy(function(a) {
            this.onResize(a);
        }, this)),
        (this.e._transitionEnd = a.proxy(function(a) {
            this.transitionEnd(a);
        }, this)),
        (this.e._preventClick = a.proxy(function(a) {
            this.preventClick(a);
        }, this));
    }),
    (e.prototype.onThrottledResize = function() {
        b.clearTimeout(this.resizeTimer),
            (this.resizeTimer = b.setTimeout(
                this.e._onResize,
                this.settings.responsiveRefreshRate
            ));
    }),
    (e.prototype.onResize = function() {
        return this._items.length ?
            this._width === this.$element.width() ?
            !1 :
            this.trigger("resize").isDefaultPrevented() ?
            !1 :
            ((this._width = this.$element.width()),
                this.invalidate("width"),
                this.refresh(),
                void this.trigger("resized")) :
            !1;
    }),
    (e.prototype.eventsRouter = function(a) {
        var b = a.type;
        "mousedown" === b || "touchstart" === b ?
            this.onDragStart(a) :
            "mousemove" === b || "touchmove" === b ?
            this.onDragMove(a) :
            "mouseup" === b || "touchend" === b ?
            this.onDragEnd(a) :
            "touchcancel" === b && this.onDragEnd(a);
    }),
    (e.prototype.internalEvents = function() {
        var c = (k(), l());
        this.settings.mouseDrag ?
            (this.$stage.on(
                    "mousedown",
                    a.proxy(function(a) {
                        this.eventsRouter(a);
                    }, this)
                ),
                this.$stage.on("dragstart", function() {
                    return !1;
                }),
                (this.$stage.get(0).onselectstart = function() {
                    return !1;
                })) :
            this.$element.addClass("owl-text-select-on"),
            this.settings.touchDrag &&
            !c &&
            this.$stage.on(
                "touchstart touchcancel",
                a.proxy(function(a) {
                    this.eventsRouter(a);
                }, this)
            ),
            this.transitionEndVendor &&
            this.on(
                this.$stage.get(0),
                this.transitionEndVendor,
                this.e._transitionEnd, !1
            ),
            this.settings.responsive !== !1 &&
            this.on(b, "resize", a.proxy(this.onThrottledResize, this));
    }),
    (e.prototype.onDragStart = function(d) {
        var e, g, h, i;
        if (
            ((e = d.originalEvent || d || b.event),
                3 === e.which || this.state.isTouch)
        )
            return !1;
        if (
            ("mousedown" === e.type && this.$stage.addClass("owl-grab"),
                this.trigger("drag"),
                (this.drag.startTime = new Date().getTime()),
                this.speed(0),
                (this.state.isTouch = !0),
                (this.state.isScrolling = !1),
                (this.state.isSwiping = !1),
                (this.drag.distance = 0),
                (g = f(e).x),
                (h = f(e).y),
                (this.drag.offsetX = this.$stage.position().left),
                (this.drag.offsetY = this.$stage.position().top),
                this.settings.rtl &&
                (this.drag.offsetX =
                    this.$stage.position().left +
                    this.$stage.width() -
                    this.width() +
                    this.settings.margin),
                this.state.inMotion && this.support3d)
        )
            (i = this.getTransformProperty()),
            (this.drag.offsetX = i),
            this.animate(i),
            (this.state.inMotion = !0);
        else if (this.state.inMotion && !this.support3d)
            return (this.state.inMotion = !1), !1;
        (this.drag.startX = g - this.drag.offsetX),
        (this.drag.startY = h - this.drag.offsetY),
        (this.drag.start = g - this.drag.startX),
        (this.drag.targetEl = e.target || e.srcElement),
        (this.drag.updatedX = this.drag.start),
        ("IMG" === this.drag.targetEl.tagName ||
            "A" === this.drag.targetEl.tagName) &&
        (this.drag.targetEl.draggable = !1),
        a(c).on(
            "mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",
            a.proxy(function(a) {
                this.eventsRouter(a);
            }, this)
        );
    }),
    (e.prototype.onDragMove = function(a) {
        var c, e, g, h, i, j;
        this.state.isTouch &&
            (this.state.isScrolling ||
                ((c = a.originalEvent || a || b.event),
                    (e = f(c).x),
                    (g = f(c).y),
                    (this.drag.currentX = e - this.drag.startX),
                    (this.drag.currentY = g - this.drag.startY),
                    (this.drag.distance = this.drag.currentX - this.drag.offsetX),
                    this.drag.distance < 0 ?
                    (this.state.direction = this.settings.rtl ? "right" : "left") :
                    this.drag.distance > 0 &&
                    (this.state.direction = this.settings.rtl ? "left" : "right"),
                    this.settings.loop ?
                    this.op(
                        this.drag.currentX,
                        ">",
                        this.coordinates(this.minimum())
                    ) && "right" === this.state.direction ?
                    (this.drag.currentX -=
                        (this.settings.center && this.coordinates(0)) -
                        this.coordinates(this._items.length)) :
                    this.op(
                        this.drag.currentX,
                        "<",
                        this.coordinates(this.maximum())
                    ) &&
                    "left" === this.state.direction &&
                    (this.drag.currentX +=
                        (this.settings.center && this.coordinates(0)) -
                        this.coordinates(this._items.length)) :
                    ((h = this.coordinates(
                            this.settings.rtl ? this.maximum() : this.minimum()
                        )),
                        (i = this.coordinates(
                            this.settings.rtl ? this.minimum() : this.maximum()
                        )),
                        (j = this.settings.pullDrag ? this.drag.distance / 5 : 0),
                        (this.drag.currentX = Math.max(
                            Math.min(this.drag.currentX, h + j),
                            i + j
                        ))),
                    (this.drag.distance > 8 || this.drag.distance < -8) &&
                    (c.preventDefault !== d ?
                        c.preventDefault() :
                        (c.returnValue = !1),
                        (this.state.isSwiping = !0)),
                    (this.drag.updatedX = this.drag.currentX),
                    (this.drag.currentY > 16 || this.drag.currentY < -16) &&
                    this.state.isSwiping === !1 &&
                    ((this.state.isScrolling = !0),
                        (this.drag.updatedX = this.drag.start)),
                    this.animate(this.drag.updatedX)));
    }),
    (e.prototype.onDragEnd = function(b) {
        var d, e, f;
        if (this.state.isTouch) {
            if (
                ("mouseup" === b.type && this.$stage.removeClass("owl-grab"),
                    this.trigger("dragged"),
                    this.drag.targetEl.removeAttribute("draggable"),
                    (this.state.isTouch = !1),
                    (this.state.isScrolling = !1),
                    (this.state.isSwiping = !1),
                    0 === this.drag.distance && this.state.inMotion !== !0)
            )
                return (this.state.inMotion = !1), !1;
            (this.drag.endTime = new Date().getTime()),
            (d = this.drag.endTime - this.drag.startTime),
            (e = Math.abs(this.drag.distance)),
            (e > 3 || d > 300) && this.removeClick(this.drag.targetEl),
                (f = this.closest(this.drag.updatedX)),
                this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed),
                this.current(f),
                this.invalidate("position"),
                this.update(),
                this.settings.pullDrag ||
                this.drag.updatedX !== this.coordinates(f) ||
                this.transitionEnd(),
                (this.drag.distance = 0),
                a(c).off(".owl.dragEvents");
        }
    }),
    (e.prototype.removeClick = function(c) {
        (this.drag.targetEl = c),
        a(c).on("click.preventClick", this.e._preventClick),
            b.setTimeout(function() {
                a(c).off("click.preventClick");
            }, 300);
    }),
    (e.prototype.preventClick = function(b) {
        b.preventDefault ? b.preventDefault() : (b.returnValue = !1),
            b.stopPropagation && b.stopPropagation(),
            a(b.target).off("click.preventClick");
    }),
    (e.prototype.getTransformProperty = function() {
        var a, c;
        return (
            (a = b
                .getComputedStyle(this.$stage.get(0), null)
                .getPropertyValue(this.vendorName + "transform")),
            (a = a.replace(/matrix(3d)?\(|\)/g, "").split(",")),
            (c = 16 === a.length),
            c !== !0 ? a[4] : a[12]
        );
    }),
    (e.prototype.closest = function(b) {
        var c = -1,
            d = 30,
            e = this.width(),
            f = this.coordinates();
        return (
            this.settings.freeDrag ||
            a.each(
                f,
                a.proxy(function(a, g) {
                    return (
                        b > g - d && g + d > b ?
                        (c = a) :
                        this.op(b, "<", g) &&
                        this.op(b, ">", f[a + 1] || g - e) &&
                        (c = "left" === this.state.direction ? a + 1 : a), -1 === c
                    );
                }, this)
            ),
            this.settings.loop ||
            (this.op(b, ">", f[this.minimum()]) ?
                (c = b = this.minimum()) :
                this.op(b, "<", f[this.maximum()]) && (c = b = this.maximum())),
            c
        );
    }),
    (e.prototype.animate = function(b) {
        this.trigger("translate"),
            (this.state.inMotion = this.speed() > 0),
            this.support3d ?
            this.$stage.css({
                transform: "translate3d(" + b + "px,0px, 0px)",
                transition: this.speed() / 1e3 + "s"
            }) :
            this.state.isTouch ?
            this.$stage.css({ left: b + "px" }) :
            this.$stage.animate({ left: b },
                this.speed() / 1e3,
                this.settings.fallbackEasing,
                a.proxy(function() {
                    this.state.inMotion && this.transitionEnd();
                }, this)
            );
    }),
    (e.prototype.current = function(a) {
        if (a === d) return this._current;
        if (0 === this._items.length) return d;
        if (((a = this.normalize(a)), this._current !== a)) {
            var b = this.trigger("change", {
                property: { name: "position", value: a }
            });
            b.data !== d && (a = this.normalize(b.data)),
                (this._current = a),
                this.invalidate("position"),
                this.trigger("changed", {
                    property: { name: "position", value: this._current }
                });
        }
        return this._current;
    }),
    (e.prototype.invalidate = function(a) {
        this._invalidated[a] = !0;
    }),
    (e.prototype.reset = function(a) {
        (a = this.normalize(a)),
        a !== d &&
            ((this._speed = 0),
                (this._current = a),
                this.suppress(["translate", "translated"]),
                this.animate(this.coordinates(a)),
                this.release(["translate", "translated"]));
    }),
    (e.prototype.normalize = function(b, c) {
        var e = c ?
            this._items.length :
            this._items.length + this._clones.length;
        return !a.isNumeric(b) || 1 > e ?
            d :
            (b = this._clones.length ?
                ((b % e) + e) % e :
                Math.max(this.minimum(c), Math.min(this.maximum(c), b)));
    }),
    (e.prototype.relative = function(a) {
        return (
            (a = this.normalize(a)),
            (a -= this._clones.length / 2),
            this.normalize(a, !0)
        );
    }),
    (e.prototype.maximum = function(a) {
        var b,
            c,
            d,
            e = 0,
            f = this.settings;
        if (a) return this._items.length - 1;
        if (!f.loop && f.center) b = this._items.length - 1;
        else if (f.loop || f.center)
            if (f.loop || f.center) b = this._items.length + f.items;
            else {
                if (!f.autoWidth && !f.merge)
                    throw "Can not detect maximum absolute position.";
                for (
                    revert = f.rtl ? 1 : -1,
                    c = this.$stage.width() - this.$element.width();
                    (d = this.coordinates(e)) && !(d * revert >= c);

                )
                    b = ++e;
            }
        else b = this._items.length - f.items;
        return b;
    }),
    (e.prototype.minimum = function(a) {
        return a ? 0 : this._clones.length / 2;
    }),
    (e.prototype.items = function(a) {
        return a === d ?
            this._items.slice() :
            ((a = this.normalize(a, !0)), this._items[a]);
    }),
    (e.prototype.mergers = function(a) {
        return a === d ?
            this._mergers.slice() :
            ((a = this.normalize(a, !0)), this._mergers[a]);
    }),
    (e.prototype.clones = function(b) {
        var c = this._clones.length / 2,
            e = c + this._items.length,
            f = function(a) {
                return a % 2 === 0 ? e + a / 2 : c - (a + 1) / 2;
            };
        return b === d ?
            a.map(this._clones, function(a, b) {
                return f(b);
            }) :
            a.map(this._clones, function(a, c) {
                return a === b ? f(c) : null;
            });
    }),
    (e.prototype.speed = function(a) {
        return a !== d && (this._speed = a), this._speed;
    }),
    (e.prototype.coordinates = function(b) {
        var c = null;
        return b === d ?
            a.map(
                this._coordinates,
                a.proxy(function(a, b) {
                    return this.coordinates(b);
                }, this)
            ) :
            (this.settings.center ?
                ((c = this._coordinates[b]),
                    (c +=
                        ((this.width() - c + (this._coordinates[b - 1] || 0)) / 2) *
                        (this.settings.rtl ? -1 : 1))) :
                (c = this._coordinates[b - 1] || 0),
                c);
    }),
    (e.prototype.duration = function(a, b, c) {
        return (
            Math.min(Math.max(Math.abs(b - a), 1), 6) *
            Math.abs(c || this.settings.smartSpeed)
        );
    }),
    (e.prototype.to = function(c, d) {
        if (this.settings.loop) {
            var e = c - this.relative(this.current()),
                f = this.current(),
                g = this.current(),
                h = this.current() + e,
                i = 0 > g - h,
                j = this._clones.length + this._items.length;
            h < this.settings.items && i === !1 ?
                ((f = g + this._items.length), this.reset(f)) :
                h >= j - this.settings.items &&
                i === !0 &&
                ((f = g - this._items.length), this.reset(f)),
                b.clearTimeout(this.e._goToLoop),
                (this.e._goToLoop = b.setTimeout(
                    a.proxy(function() {
                        this.speed(this.duration(this.current(), f + e, d)),
                            this.current(f + e),
                            this.update();
                    }, this),
                    30
                ));
        } else
            this.speed(this.duration(this.current(), c, d)),
            this.current(c),
            this.update();
    }),
    (e.prototype.next = function(a) {
        (a = a || !1), this.to(this.relative(this.current()) + 1, a);
    }),
    (e.prototype.prev = function(a) {
        (a = a || !1), this.to(this.relative(this.current()) - 1, a);
    }),
    (e.prototype.transitionEnd = function(a) {
        return a !== d &&
            (a.stopPropagation(),
                (a.target || a.srcElement || a.originalTarget) !== this.$stage.get(0)) ?
            !1 :
            ((this.state.inMotion = !1), void this.trigger("translated"));
    }),
    (e.prototype.viewport = function() {
        var d;
        if (this.options.responsiveBaseElement !== b)
            d = a(this.options.responsiveBaseElement).width();
        else if (b.innerWidth) d = b.innerWidth;
        else {
            if (!c.documentElement || !c.documentElement.clientWidth)
                throw "Can not detect viewport width.";
            d = c.documentElement.clientWidth;
        }
        return d;
    }),
    (e.prototype.replace = function(b) {
        this.$stage.empty(),
            (this._items = []),
            b && (b = b instanceof jQuery ? b : a(b)),
            this.settings.nestedItemSelector &&
            (b = b.find("." + this.settings.nestedItemSelector)),
            b
            .filter(function() {
                return 1 === this.nodeType;
            })
            .each(
                a.proxy(function(a, b) {
                    (b = this.prepare(b)),
                    this.$stage.append(b),
                        this._items.push(b),
                        this._mergers.push(
                            1 *
                            b
                            .find("[data-merge]")
                            .andSelf("[data-merge]")
                            .attr("data-merge") || 1
                        );
                }, this)
            ),
            this.reset(
                a.isNumeric(this.settings.startPosition) ?
                this.settings.startPosition :
                0
            ),
            this.invalidate("items");
    }),
    (e.prototype.add = function(a, b) {
        (b = b === d ? this._items.length : this.normalize(b, !0)),
        this.trigger("add", { content: a, position: b }),
            0 === this._items.length || b === this._items.length ?
            (this.$stage.append(a),
                this._items.push(a),
                this._mergers.push(
                    1 *
                    a
                    .find("[data-merge]")
                    .andSelf("[data-merge]")
                    .attr("data-merge") || 1
                )) :
            (this._items[b].before(a),
                this._items.splice(b, 0, a),
                this._mergers.splice(
                    b,
                    0,
                    1 *
                    a
                    .find("[data-merge]")
                    .andSelf("[data-merge]")
                    .attr("data-merge") || 1
                )),
            this.invalidate("items"),
            this.trigger("added", { content: a, position: b });
    }),
    (e.prototype.remove = function(a) {
        (a = this.normalize(a, !0)),
        a !== d &&
            (this.trigger("remove", { content: this._items[a], position: a }),
                this._items[a].remove(),
                this._items.splice(a, 1),
                this._mergers.splice(a, 1),
                this.invalidate("items"),
                this.trigger("removed", { content: null, position: a }));
    }),
    (e.prototype.addTriggerableEvents = function() {
        var b = a.proxy(function(b, c) {
            return a.proxy(function(a) {
                a.relatedTarget !== this &&
                    (this.suppress([c]),
                        b.apply(this, [].slice.call(arguments, 1)),
                        this.release([c]));
            }, this);
        }, this);
        a.each({
                next: this.next,
                prev: this.prev,
                to: this.to,
                destroy: this.destroy,
                refresh: this.refresh,
                replace: this.replace,
                add: this.add,
                remove: this.remove
            },
            a.proxy(function(a, c) {
                this.$element.on(a + ".owl.carousel", b(c, a + ".owl.carousel"));
            }, this)
        );
    }),
    (e.prototype.watchVisibility = function() {
        function c(a) {
            return a.offsetWidth > 0 && a.offsetHeight > 0;
        }

        function d() {
            c(this.$element.get(0)) &&
                (this.$element.removeClass("owl-hidden"),
                    this.refresh(),
                    b.clearInterval(this.e._checkVisibile));
        }
        c(this.$element.get(0)) ||
            (this.$element.addClass("owl-hidden"),
                b.clearInterval(this.e._checkVisibile),
                (this.e._checkVisibile = b.setInterval(a.proxy(d, this), 500)));
    }),
    (e.prototype.preloadAutoWidthImages = function(b) {
        var c, d, e, f;
        (c = 0),
        (d = this),
        b.each(function(g, h) {
            (e = a(h)),
            (f = new Image()),
            (f.onload = function() {
                c++,
                e.attr("src", f.src),
                    e.css("opacity", 1),
                    c >= b.length &&
                    ((d.state.imagesLoaded = !0), d.initialize());
            }),
            (f.src =
                e.attr("src") ||
                e.attr("data-src") ||
                e.attr("data-src-retina"));
        });
    }),
    (e.prototype.destroy = function() {
        this.$element.hasClass(this.settings.themeClass) &&
            this.$element.removeClass(this.settings.themeClass),
            this.settings.responsive !== !1 && a(b).off("resize.owl.carousel"),
            this.transitionEndVendor &&
            this.off(
                this.$stage.get(0),
                this.transitionEndVendor,
                this.e._transitionEnd
            );
        for (var d in this._plugins) this._plugins[d].destroy();
        (this.settings.mouseDrag || this.settings.touchDrag) &&
        (this.$stage.off("mousedown touchstart touchcancel"),
            a(c).off(".owl.dragEvents"),
            (this.$stage.get(0).onselectstart = function() {}),
            this.$stage.off("dragstart", function() {
                return !1;
            })),
        this.$element.off(".owl"),
            this.$stage.children(".cloned").remove(),
            (this.e = null),
            this.$element.removeData("owlCarousel"),
            this.$stage
            .children()
            .contents()
            .unwrap(),
            this.$stage.children().unwrap(),
            this.$stage.unwrap();
    }),
    (e.prototype.op = function(a, b, c) {
        var d = this.settings.rtl;
        switch (b) {
            case "<":
                return d ? a > c : c > a;
            case ">":
                return d ? c > a : a > c;
            case ">=":
                return d ? c >= a : a >= c;
            case "<=":
                return d ? a >= c : c >= a;
        }
    }),
    (e.prototype.on = function(a, b, c, d) {
        a.addEventListener ?
            a.addEventListener(b, c, d) :
            a.attachEvent && a.attachEvent("on" + b, c);
    }),
    (e.prototype.off = function(a, b, c, d) {
        a.removeEventListener ?
            a.removeEventListener(b, c, d) :
            a.detachEvent && a.detachEvent("on" + b, c);
    }),
    (e.prototype.trigger = function(b, c, d) {
        var e = { item: { count: this._items.length, index: this.current() } },
            f = a.camelCase(
                a
                .grep(["on", b, d], function(a) {
                    return a;
                })
                .join("-")
                .toLowerCase()
            ),
            g = a.Event(
                [b, "owl", d || "carousel"].join(".").toLowerCase(),
                a.extend({ relatedTarget: this }, e, c)
            );
        return (
            this._supress[b] ||
            (a.each(this._plugins, function(a, b) {
                    b.onTrigger && b.onTrigger(g);
                }),
                this.$element.trigger(g),
                this.settings &&
                "function" == typeof this.settings[f] &&
                this.settings[f].apply(this, g)),
            g
        );
    }),
    (e.prototype.suppress = function(b) {
        a.each(
            b,
            a.proxy(function(a, b) {
                this._supress[b] = !0;
            }, this)
        );
    }),
    (e.prototype.release = function(b) {
        a.each(
            b,
            a.proxy(function(a, b) {
                delete this._supress[b];
            }, this)
        );
    }),
    (e.prototype.browserSupport = function() {
        if (((this.support3d = j()), this.support3d)) {
            this.transformVendor = i();
            var a = [
                "transitionend",
                "webkitTransitionEnd",
                "transitionend",
                "oTransitionEnd"
            ];
            (this.transitionEndVendor = a[h()]),
            (this.vendorName = this.transformVendor.replace(/Transform/i, "")),
            (this.vendorName =
                "" !== this.vendorName ?
                "-" + this.vendorName.toLowerCase() + "-" :
                "");
        }
        this.state.orientation = b.orientation;
    }),
    (a.fn.owlCarousel = function(b) {
        return this.each(function() {
            a(this).data("owlCarousel") ||
                a(this).data("owlCarousel", new e(this, b));
        });
    }),
    (a.fn.owlCarousel.Constructor = e);
})(window.Zepto || window.jQuery, window, document),
(function(a, b) {
    var c = function(b) {
        (this._core = b),
        (this._loaded = []),
        (this._handlers = {
            "initialized.owl.carousel change.owl.carousel": a.proxy(function(b) {
                if (
                    b.namespace &&
                    this._core.settings &&
                    this._core.settings.lazyLoad &&
                    ((b.property && "position" == b.property.name) ||
                        "initialized" == b.type)
                )
                    for (
                        var c = this._core.settings,
                            d = (c.center && Math.ceil(c.items / 2)) || c.items,
                            e = (c.center && -1 * d) || 0,
                            f =
                            ((b.property && b.property.value) || this._core.current()) +
                            e,
                            g = this._core.clones().length,
                            h = a.proxy(function(a, b) {
                                this.load(b);
                            }, this); e++ < d;

                    )
                        this.load(g / 2 + this._core.relative(f)),
                        g && a.each(this._core.clones(this._core.relative(f++)), h);
            }, this)
        }),
        (this._core.options = a.extend({}, c.Defaults, this._core.options)),
        this._core.$element.on(this._handlers);
    };
    (c.Defaults = { lazyLoad: !1 }),
    (c.prototype.load = function(c) {
        var d = this._core.$stage.children().eq(c),
            e = d && d.find(".owl-lazy");
        !e ||
            a.inArray(d.get(0), this._loaded) > -1 ||
            (e.each(
                    a.proxy(function(c, d) {
                        var e,
                            f = a(d),
                            g =
                            (b.devicePixelRatio > 1 && f.attr("data-src-retina")) ||
                            f.attr("data-src");
                        this._core.trigger("load", { element: f, url: g }, "lazy"),
                            f.is("img") ?
                            f
                            .one(
                                "load.owl.lazy",
                                a.proxy(function() {
                                    f.css("opacity", 1),
                                        this._core.trigger(
                                            "loaded", { element: f, url: g },
                                            "lazy"
                                        );
                                }, this)
                            )
                            .attr("src", g) :
                            ((e = new Image()),
                                (e.onload = a.proxy(function() {
                                    f.css({
                                            "background-image": "url(" + g + ")",
                                            opacity: "1"
                                        }),
                                        this._core.trigger(
                                            "loaded", { element: f, url: g },
                                            "lazy"
                                        );
                                }, this)),
                                (e.src = g));
                    }, this)
                ),
                this._loaded.push(d.get(0)));
    }),
    (c.prototype.destroy = function() {
        var a, b;
        for (a in this.handlers) this._core.$element.off(a, this.handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null);
    }),
    (a.fn.owlCarousel.Constructor.Plugins.Lazy = c);
})(window.Zepto || window.jQuery, window, document),
(function(a) {
    var b = function(c) {
        (this._core = c),
        (this._handlers = {
            "initialized.owl.carousel": a.proxy(function() {
                this._core.settings.autoHeight && this.update();
            }, this),
            "changed.owl.carousel": a.proxy(function(a) {
                this._core.settings.autoHeight &&
                    "position" == a.property.name &&
                    this.update();
            }, this),
            "loaded.owl.lazy": a.proxy(function(a) {
                this._core.settings.autoHeight &&
                    a.element.closest("." + this._core.settings.itemClass) ===
                    this._core.$stage.children().eq(this._core.current()) &&
                    this.update();
            }, this)
        }),
        (this._core.options = a.extend({}, b.Defaults, this._core.options)),
        this._core.$element.on(this._handlers);
    };
    (b.Defaults = { autoHeight: !1, autoHeightClass: "owl-height" }),
    (b.prototype.update = function() {
        this._core.$stage
            .parent()
            .height(
                this._core.$stage
                .children()
                .eq(this._core.current())
                .height()
            )
            .addClass(this._core.settings.autoHeightClass);
    }),
    (b.prototype.destroy = function() {
        var a, b;
        for (a in this._handlers) this._core.$element.off(a, this._handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null);
    }),
    (a.fn.owlCarousel.Constructor.Plugins.AutoHeight = b);
})(window.Zepto || window.jQuery, window, document),
(function(a, b, c) {
    var d = function(b) {
        (this._core = b),
        (this._videos = {}),
        (this._playing = null),
        (this._fullscreen = !1),
        (this._handlers = {
            "resize.owl.carousel": a.proxy(function(a) {
                this._core.settings.video &&
                    !this.isInFullScreen() &&
                    a.preventDefault();
            }, this),
            "refresh.owl.carousel changed.owl.carousel": a.proxy(function() {
                this._playing && this.stop();
            }, this),
            "prepared.owl.carousel": a.proxy(function(b) {
                var c = a(b.content).find(".owl-video");
                c.length && (c.css("display", "none"), this.fetch(c, a(b.content)));
            }, this)
        }),
        (this._core.options = a.extend({}, d.Defaults, this._core.options)),
        this._core.$element.on(this._handlers),
            this._core.$element.on(
                "click.owl.video",
                ".owl-video-play-icon",
                a.proxy(function(a) {
                    this.play(a);
                }, this)
            );
    };
    (d.Defaults = { video: !1, videoHeight: !1, videoWidth: !1 }),
    (d.prototype.fetch = function(a, b) {
        var c = a.attr("data-vimeo-id") ? "vimeo" : "youtube",
            d = a.attr("data-vimeo-id") || a.attr("data-youtube-id"),
            e = a.attr("data-width") || this._core.settings.videoWidth,
            f = a.attr("data-height") || this._core.settings.videoHeight,
            g = a.attr("href");
        if (!g) throw new Error("Missing video URL.");
        if (
            ((d = g.match(
                    /(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/
                )),
                d[3].indexOf("youtu") > -1)
        )
            c = "youtube";
        else {
            if (!(d[3].indexOf("vimeo") > -1))
                throw new Error("Video URL not supported.");
            c = "vimeo";
        }
        (d = d[6]),
        (this._videos[g] = { type: c, id: d, width: e, height: f }),
        b.attr("data-video", g),
            this.thumbnail(a, this._videos[g]);
    }),
    (d.prototype.thumbnail = function(b, c) {
        var d,
            e,
            f,
            g =
            c.width && c.height ?
            'style="width:' + c.width + "px;height:" + c.height + 'px;"' :
            "",
            h = b.find("img"),
            i = "src",
            j = "",
            k = this._core.settings,
            l = function(a) {
                (e = '<div class="owl-video-play-icon"></div>'),
                (d = k.lazyLoad ?
                    '<div class="owl-video-tn ' +
                    j +
                    '" ' +
                    i +
                    '="' +
                    a +
                    '"></div>' :
                    '<div class="owl-video-tn" style="opacity:1;background-image:url(' +
                    a +
                    ')"></div>'),
                b.after(d),
                    b.after(e);
            };
        return (
            b.wrap('<div class="owl-video-wrapper"' + g + "></div>"),
            this._core.settings.lazyLoad && ((i = "data-src"), (j = "owl-lazy")),
            h.length ?
            (l(h.attr(i)), h.remove(), !1) :
            void("youtube" === c.type ?
                ((f = "http://img.youtube.com/vi/" + c.id + "/hqdefault.jpg"),
                    l(f)) :
                "vimeo" === c.type &&
                a.ajax({
                    type: "GET",
                    url: "http://vimeo.com/api/v2/video/" + c.id + ".json",
                    jsonp: "callback",
                    dataType: "jsonp",
                    success: function(a) {
                        (f = a[0].thumbnail_large), l(f);
                    }
                }))
        );
    }),
    (d.prototype.stop = function() {
        this._core.trigger("stop", null, "video"),
            this._playing.find(".owl-video-frame").remove(),
            this._playing.removeClass("owl-video-playing"),
            (this._playing = null);
    }),
    (d.prototype.play = function(b) {
        this._core.trigger("play", null, "video"), this._playing && this.stop();
        var c,
            d,
            e = a(b.target || b.srcElement),
            f = e.closest("." + this._core.settings.itemClass),
            g = this._videos[f.attr("data-video")],
            h = g.width || "100%",
            i = g.height || this._core.$stage.height();
        "youtube" === g.type ?
            (c =
                '<iframe width="' +
                h +
                '" height="' +
                i +
                '" src="http://www.youtube.com/embed/' +
                g.id +
                "?autoplay=1&v=" +
                g.id +
                '" frameborder="0" allowfullscreen></iframe>') :
            "vimeo" === g.type &&
            (c =
                '<iframe src="http://player.vimeo.com/video/' +
                g.id +
                '?autoplay=1" width="' +
                h +
                '" height="' +
                i +
                '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),
            f.addClass("owl-video-playing"),
            (this._playing = f),
            (d = a(
                '<div style="height:' +
                i +
                "px; width:" +
                h +
                'px" class="owl-video-frame">' +
                c +
                "</div>"
            )),
            e.after(d);
    }),
    (d.prototype.isInFullScreen = function() {
        var d =
            c.fullscreenElement ||
            c.mozFullScreenElement ||
            c.webkitFullscreenElement;
        return (
            d &&
            a(d)
            .parent()
            .hasClass("owl-video-frame") &&
            (this._core.speed(0), (this._fullscreen = !0)),
            d && this._fullscreen && this._playing ?
            !1 :
            this._fullscreen ?
            ((this._fullscreen = !1), !1) :
            this._playing && this._core.state.orientation !== b.orientation ?
            ((this._core.state.orientation = b.orientation), !1) :
            !0
        );
    }),
    (d.prototype.destroy = function() {
        var a, b;
        this._core.$element.off("click.owl.video");
        for (a in this._handlers) this._core.$element.off(a, this._handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null);
    }),
    (a.fn.owlCarousel.Constructor.Plugins.Video = d);
})(window.Zepto || window.jQuery, window, document),
(function(a, b, c, d) {
    var e = function(b) {
        (this.core = b),
        (this.core.options = a.extend({}, e.Defaults, this.core.options)),
        (this.swapping = !0),
        (this.previous = d),
        (this.next = d),
        (this.handlers = {
            "change.owl.carousel": a.proxy(function(a) {
                "position" == a.property.name &&
                    ((this.previous = this.core.current()),
                        (this.next = a.property.value));
            }, this),
            "drag.owl.carousel dragged.owl.carousel translated.owl.carousel": a.proxy(
                function(a) {
                    this.swapping = "translated" == a.type;
                },
                this
            ),
            "translate.owl.carousel": a.proxy(function() {
                this.swapping &&
                    (this.core.options.animateOut || this.core.options.animateIn) &&
                    this.swap();
            }, this)
        }),
        this.core.$element.on(this.handlers);
    };
    (e.Defaults = { animateOut: !1, animateIn: !1 }),
    (e.prototype.swap = function() {
        if (1 === this.core.settings.items && this.core.support3d) {
            this.core.speed(0);
            var b,
                c = a.proxy(this.clear, this),
                d = this.core.$stage.children().eq(this.previous),
                e = this.core.$stage.children().eq(this.next),
                f = this.core.settings.animateIn,
                g = this.core.settings.animateOut;
            this.core.current() !== this.previous &&
                (g &&
                    ((b =
                            this.core.coordinates(this.previous) -
                            this.core.coordinates(this.next)),
                        d
                        .css({ left: b + "px" })
                        .addClass("animated owl-animated-out")
                        .addClass(g)
                        .one(
                            "webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",
                            c
                        )),
                    f &&
                    e
                    .addClass("animated owl-animated-in")
                    .addClass(f)
                    .one(
                        "webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",
                        c
                    ));
        }
    }),
    (e.prototype.clear = function(b) {
        a(b.target)
            .css({ left: "" })
            .removeClass("animated owl-animated-out owl-animated-in")
            .removeClass(this.core.settings.animateIn)
            .removeClass(this.core.settings.animateOut),
            this.core.transitionEnd();
    }),
    (e.prototype.destroy = function() {
        var a, b;
        for (a in this.handlers) this.core.$element.off(a, this.handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null);
    }),
    (a.fn.owlCarousel.Constructor.Plugins.Animate = e);
})(window.Zepto || window.jQuery, window, document),
(function(a, b, c) {
    var d = function(b) {
        (this.core = b),
        (this.core.options = a.extend({}, d.Defaults, this.core.options)),
        (this.handlers = {
            "translated.owl.carousel refreshed.owl.carousel": a.proxy(function() {
                this.autoplay();
            }, this),
            "play.owl.autoplay": a.proxy(function(a, b, c) {
                this.play(b, c);
            }, this),
            "stop.owl.autoplay": a.proxy(function() {
                this.stop();
            }, this),
            "mouseover.owl.autoplay": a.proxy(function() {
                this.core.settings.autoplayHoverPause && this.pause();
            }, this),
            "mouseleave.owl.autoplay": a.proxy(function() {
                this.core.settings.autoplayHoverPause && this.autoplay();
            }, this)
        }),
        this.core.$element.on(this.handlers);
    };
    (d.Defaults = {
        autoplay: !1,
        autoplayTimeout: 5e3,
        autoplayHoverPause: !1,
        autoplaySpeed: !1
    }),
    (d.prototype.autoplay = function() {
        this.core.settings.autoplay && !this.core.state.videoPlay ?
            (b.clearInterval(this.interval),
                (this.interval = b.setInterval(
                    a.proxy(function() {
                        this.play();
                    }, this),
                    this.core.settings.autoplayTimeout
                ))) :
            b.clearInterval(this.interval);
    }),
    (d.prototype.play = function() {
        return c.hidden === !0 ||
            this.core.state.isTouch ||
            this.core.state.isScrolling ||
            this.core.state.isSwiping ||
            this.core.state.inMotion ?
            void 0 :
            this.core.settings.autoplay === !1 ?
            void b.clearInterval(this.interval) :
            void this.core.next(this.core.settings.autoplaySpeed);
    }),
    (d.prototype.stop = function() {
        b.clearInterval(this.interval);
    }),
    (d.prototype.pause = function() {
        b.clearInterval(this.interval);
    }),
    (d.prototype.destroy = function() {
        var a, c;
        b.clearInterval(this.interval);
        for (a in this.handlers) this.core.$element.off(a, this.handlers[a]);
        for (c in Object.getOwnPropertyNames(this))
            "function" != typeof this[c] && (this[c] = null);
    }),
    (a.fn.owlCarousel.Constructor.Plugins.autoplay = d);
})(window.Zepto || window.jQuery, window, document),
(function(a) {
    "use strict";
    var b = function(c) {
        (this._core = c),
        (this._initialized = !1),
        (this._pages = []),
        (this._controls = {}),
        (this._templates = []),
        (this.$element = this._core.$element),
        (this._overrides = {
            next: this._core.next,
            prev: this._core.prev,
            to: this._core.to
        }),
        (this._handlers = {
            "prepared.owl.carousel": a.proxy(function(b) {
                this._core.settings.dotsData &&
                    this._templates.push(
                        a(b.content)
                        .find("[data-dot]")
                        .andSelf("[data-dot]")
                        .attr("data-dot")
                    );
            }, this),
            "add.owl.carousel": a.proxy(function(b) {
                this._core.settings.dotsData &&
                    this._templates.splice(
                        b.position,
                        0,
                        a(b.content)
                        .find("[data-dot]")
                        .andSelf("[data-dot]")
                        .attr("data-dot")
                    );
            }, this),
            "remove.owl.carousel prepared.owl.carousel": a.proxy(function(a) {
                this._core.settings.dotsData &&
                    this._templates.splice(a.position, 1);
            }, this),
            "change.owl.carousel": a.proxy(function(a) {
                if (
                    "position" == a.property.name &&
                    !this._core.state.revert &&
                    !this._core.settings.loop &&
                    this._core.settings.navRewind
                ) {
                    var b = this._core.current(),
                        c = this._core.maximum(),
                        d = this._core.minimum();
                    a.data =
                        a.property.value > c ?
                        b >= c ?
                        d :
                        c :
                        a.property.value < d ?
                        c :
                        a.property.value;
                }
            }, this),
            "changed.owl.carousel": a.proxy(function(a) {
                "position" == a.property.name && this.draw();
            }, this),
            "refreshed.owl.carousel": a.proxy(function() {
                this._initialized || (this.initialize(), (this._initialized = !0)),
                    this._core.trigger("refresh", null, "navigation"),
                    this.update(),
                    this.draw(),
                    this._core.trigger("refreshed", null, "navigation");
            }, this)
        }),
        (this._core.options = a.extend({}, b.Defaults, this._core.options)),
        this.$element.on(this._handlers);
    };
    (b.Defaults = {
        nav: !1,
        navRewind: !0,
        navText: ["prev", "next"],
        navSpeed: !1,
        navElement: "div",
        navContainer: !1,
        navContainerClass: "owl-nav",
        navClass: ["owl-prev", "owl-next"],
        slideBy: 1,
        dotClass: "owl-dot",
        dotsClass: "owl-dots",
        dots: !0,
        dotsEach: !1,
        dotData: !1,
        dotsSpeed: !1,
        dotsContainer: !1,
        controlsClass: "owl-controls"
    }),
    (b.prototype.initialize = function() {
        var b,
            c,
            d = this._core.settings;
        d.dotsData ||
            (this._templates = [
                a("<div>")
                .addClass(d.dotClass)
                .append(a("<span>"))
                .prop("outerHTML")
            ]),
            (d.navContainer && d.dotsContainer) ||
            (this._controls.$container = a("<div>")
                .addClass(d.controlsClass)
                .appendTo(this.$element)),
            (this._controls.$indicators = d.dotsContainer ?
                a(d.dotsContainer) :
                a("<div>")
                .hide()
                .addClass(d.dotsClass)
                .appendTo(this._controls.$container)),
            this._controls.$indicators.on(
                "click",
                "div",
                a.proxy(function(b) {
                    var c = a(b.target)
                        .parent()
                        .is(this._controls.$indicators) ?
                        a(b.target).index() :
                        a(b.target)
                        .parent()
                        .index();
                    b.preventDefault(), this.to(c, d.dotsSpeed);
                }, this)
            ),
            (b = d.navContainer ?
                a(d.navContainer) :
                a("<div>")
                .addClass(d.navContainerClass)
                .prependTo(this._controls.$container)),
            (this._controls.$next = a("<" + d.navElement + ">")),
            (this._controls.$previous = this._controls.$next.clone()),
            this._controls.$previous
            .addClass(d.navClass[0])
            .html(d.navText[0])
            .hide()
            .prependTo(b)
            .on(
                "click",
                a.proxy(function() {
                    this.prev(d.navSpeed);
                }, this)
            ),
            this._controls.$next
            .addClass(d.navClass[1])
            .html(d.navText[1])
            .hide()
            .appendTo(b)
            .on(
                "click",
                a.proxy(function() {
                    this.next(d.navSpeed);
                }, this)
            );
        for (c in this._overrides) this._core[c] = a.proxy(this[c], this);
    }),
    (b.prototype.destroy = function() {
        var a, b, c, d;
        for (a in this._handlers) this.$element.off(a, this._handlers[a]);
        for (b in this._controls) this._controls[b].remove();
        for (d in this.overides) this._core[d] = this._overrides[d];
        for (c in Object.getOwnPropertyNames(this))
            "function" != typeof this[c] && (this[c] = null);
    }),
    (b.prototype.update = function() {
        var a,
            b,
            c,
            d = this._core.settings,
            e = this._core.clones().length / 2,
            f = e + this._core.items().length,
            g = d.center || d.autoWidth || d.dotData ? 1 : d.dotsEach || d.items;
        if (
            ("page" !== d.slideBy && (d.slideBy = Math.min(d.slideBy, d.items)),
                d.dots || "page" == d.slideBy)
        )
            for (this._pages = [], a = e, b = 0, c = 0; f > a; a++)
                (b >= g || 0 === b) &&
                (this._pages.push({ start: a - e, end: a - e + g - 1 }),
                    (b = 0),
                    ++c),
                (b += this._core.mergers(this._core.relative(a)));
    }),
    (b.prototype.draw = function() {
        var b,
            c,
            d = "",
            e = this._core.settings,
            f =
            (this._core.$stage.children(),
                this._core.relative(this._core.current()));
        if (
            (!e.nav ||
                e.loop ||
                e.navRewind ||
                (this._controls.$previous.toggleClass("disabled", 0 >= f),
                    this._controls.$next.toggleClass(
                        "disabled",
                        f >= this._core.maximum()
                    )),
                this._controls.$previous.toggle(e.nav),
                this._controls.$next.toggle(e.nav),
                e.dots)
        ) {
            if (
                ((b =
                        this._pages.length -
                        this._controls.$indicators.children().length),
                    e.dotData && 0 !== b)
            ) {
                for (c = 0; c < this._controls.$indicators.children().length; c++)
                    d += this._templates[this._core.relative(c)];
                this._controls.$indicators.html(d);
            } else
                b > 0 ?
                ((d = new Array(b + 1).join(this._templates[0])),
                    this._controls.$indicators.append(d)) :
                0 > b &&
                this._controls.$indicators
                .children()
                .slice(b)
                .remove();
            this._controls.$indicators.find(".active").removeClass("active"),
                this._controls.$indicators
                .children()
                .eq(a.inArray(this.current(), this._pages))
                .addClass("active");
        }
        this._controls.$indicators.toggle(e.dots);
    }),
    (b.prototype.onTrigger = function(b) {
        var c = this._core.settings;
        b.page = {
            index: a.inArray(this.current(), this._pages),
            count: this._pages.length,
            size: c &&
                (c.center || c.autoWidth || c.dotData ? 1 : c.dotsEach || c.items)
        };
    }),
    (b.prototype.current = function() {
        var b = this._core.relative(this._core.current());
        return a
            .grep(this._pages, function(a) {
                return a.start <= b && a.end >= b;
            })
            .pop();
    }),
    (b.prototype.getPosition = function(b) {
        var c,
            d,
            e = this._core.settings;
        return (
            "page" == e.slideBy ?
            ((c = a.inArray(this.current(), this._pages)),
                (d = this._pages.length),
                b ? ++c : --c,
                (c = this._pages[((c % d) + d) % d].start)) :
            ((c = this._core.relative(this._core.current())),
                (d = this._core.items().length),
                b ? (c += e.slideBy) : (c -= e.slideBy)),
            c
        );
    }),
    (b.prototype.next = function(b) {
        a.proxy(this._overrides.to, this._core)(this.getPosition(!0), b);
    }),
    (b.prototype.prev = function(b) {
        a.proxy(this._overrides.to, this._core)(this.getPosition(!1), b);
    }),
    (b.prototype.to = function(b, c, d) {
        var e;
        d
            ?
            a.proxy(this._overrides.to, this._core)(b, c) :
            ((e = this._pages.length),
                a.proxy(this._overrides.to, this._core)(
                    this._pages[((b % e) + e) % e].start,
                    c
                ));
    }),
    (a.fn.owlCarousel.Constructor.Plugins.Navigation = b);
})(window.Zepto || window.jQuery, window, document),
(function(a, b) {
    "use strict";
    var c = function(d) {
        (this._core = d),
        (this._hashes = {}),
        (this.$element = this._core.$element),
        (this._handlers = {
            "initialized.owl.carousel": a.proxy(function() {
                "URLHash" == this._core.settings.startPosition &&
                    a(b).trigger("hashchange.owl.navigation");
            }, this),
            "prepared.owl.carousel": a.proxy(function(b) {
                var c = a(b.content)
                    .find("[data-hash]")
                    .andSelf("[data-hash]")
                    .attr("data-hash");
                this._hashes[c] = b.content;
            }, this)
        }),
        (this._core.options = a.extend({}, c.Defaults, this._core.options)),
        this.$element.on(this._handlers),
            a(b).on(
                "hashchange.owl.navigation",
                a.proxy(function() {
                    var a = b.location.hash.substring(1),
                        c = this._core.$stage.children(),
                        d = (this._hashes[a] && c.index(this._hashes[a])) || 0;
                    return a ? void this._core.to(d, !1, !0) : !1;
                }, this)
            );
    };
    (c.Defaults = { URLhashListener: !1 }),
    (c.prototype.destroy = function() {
        var c, d;
        a(b).off("hashchange.owl.navigation");
        for (c in this._handlers) this._core.$element.off(c, this._handlers[c]);
        for (d in Object.getOwnPropertyNames(this))
            "function" != typeof this[d] && (this[d] = null);
    }),
    (a.fn.owlCarousel.Constructor.Plugins.Hash = c);
})(window.Zepto || window.jQuery, window, document),
function() {
    var a,
        b,
        c,
        d,
        e,
        f,
        g,
        h,
        i,
        j,
        k,
        l,
        m,
        n,
        o,
        p,
        q,
        r,
        s,
        t,
        u,
        v,
        w,
        x,
        y,
        z,
        A,
        B,
        C,
        D,
        E,
        F,
        G,
        H,
        I,
        J,
        K,
        L,
        M,
        N,
        O,
        P,
        Q,
        R,
        S,
        T,
        U,
        V,
        W,
        X = [].slice,
        Y = {}.hasOwnProperty,
        Z = function(a, b) {
            function c() {
                this.constructor = a;
            }
            for (var d in b) Y.call(b, d) && (a[d] = b[d]);
            return (
                (c.prototype = b.prototype),
                (a.prototype = new c()),
                (a.__super__ = b.prototype),
                a
            );
        },
        $ = [].indexOf ||
        function(a) {
            for (var b = 0, c = this.length; c > b; b++)
                if (b in this && this[b] === a) return b;
            return -1;
        };
    for (
        u = {
            catchupTime: 100,
            initialRate: 0.03,
            minTime: 250,
            ghostTime: 100,
            maxProgressPerFrame: 20,
            easeFactor: 1.25,
            startOnPageLoad: !0,
            restartOnPushState: !0,
            restartOnRequestAfter: 500,
            target: "body",
            elements: { checkInterval: 100, selectors: ["body"] },
            eventLag: { minSamples: 10, sampleCount: 3, lagThreshold: 3 },
            ajax: { trackMethods: ["GET"], trackWebSockets: !0, ignoreURLs: [] }
        },
        C = function() {
            var a;
            return null !=
                (a =
                    "undefined" != typeof performance &&
                    null !== performance &&
                    "function" == typeof performance.now ?
                    performance.now() :
                    void 0) ?
                a :
                +new Date();
        },
        E =
        window.requestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.msRequestAnimationFrame,
        t = window.cancelAnimationFrame || window.mozCancelAnimationFrame,
        null == E &&
        ((E = function(a) {
                return setTimeout(a, 50);
            }),
            (t = function(a) {
                return clearTimeout(a);
            })),
        G = function(a) {
            var b, c;
            return (
                (b = C()),
                (c = function() {
                    var d;
                    return (
                        (d = C() - b),
                        d >= 33 ?
                        ((b = C()),
                            a(d, function() {
                                return E(c);
                            })) :
                        setTimeout(c, 33 - d)
                    );
                })()
            );
        },
        F = function() {
            var a, b, c;
            return (
                (c = arguments[0]),
                (b = arguments[1]),
                (a = 3 <= arguments.length ? X.call(arguments, 2) : []),
                "function" == typeof c[b] ? c[b].apply(c, a) : c[b]
            );
        },
        v = function() {
            var a, b, c, d, e, f, g;
            for (
                b = arguments[0],
                d = 2 <= arguments.length ? X.call(arguments, 1) : [],
                f = 0,
                g = d.length; g > f; f++
            )
                if ((c = d[f]))
                    for (a in c)
                        Y.call(c, a) &&
                        ((e = c[a]),
                            null != b[a] &&
                            "object" == typeof b[a] &&
                            null != e &&
                            "object" == typeof e ?
                            v(b[a], e) :
                            (b[a] = e));
            return b;
        },
        q = function(a) {
            var b, c, d, e, f;
            for (c = b = 0, e = 0, f = a.length; f > e; e++)
                (d = a[e]), (c += Math.abs(d)), b++;
            return c / b;
        },
        x = function(a, b) {
            var c, d, e;
            if (
                (null == a && (a = "options"),
                    null == b && (b = !0),
                    (e = document.querySelector("[data-pace-" + a + "]")))
            ) {
                if (((c = e.getAttribute("data-pace-" + a)), !b)) return c;
                try {
                    return JSON.parse(c);
                } catch (f) {
                    return (
                        (d = f),
                        "undefined" != typeof console && null !== console ?
                        console.error("Error parsing inline pace options", d) :
                        void 0
                    );
                }
            }
        },
        g = (function() {
            function a() {}
            return (
                (a.prototype.on = function(a, b, c, d) {
                    var e;
                    return (
                        null == d && (d = !1),
                        null == this.bindings && (this.bindings = {}),
                        null == (e = this.bindings)[a] && (e[a] = []),
                        this.bindings[a].push({ handler: b, ctx: c, once: d })
                    );
                }),
                (a.prototype.once = function(a, b, c) {
                    return this.on(a, b, c, !0);
                }),
                (a.prototype.off = function(a, b) {
                    var c, d, e;
                    if (null != (null != (d = this.bindings) ? d[a] : void 0)) {
                        if (null == b) return delete this.bindings[a];
                        for (c = 0, e = []; c < this.bindings[a].length;)
                            this.bindings[a][c].handler === b ?
                            e.push(this.bindings[a].splice(c, 1)) :
                            e.push(c++);
                        return e;
                    }
                }),
                (a.prototype.trigger = function() {
                    var a, b, c, d, e, f, g, h, i;
                    if (
                        ((c = arguments[0]),
                            (a = 2 <= arguments.length ? X.call(arguments, 1) : []),
                            null != (g = this.bindings) ? g[c] : void 0)
                    ) {
                        for (e = 0, i = []; e < this.bindings[c].length;)
                            (h = this.bindings[c][e]),
                            (d = h.handler),
                            (b = h.ctx),
                            (f = h.once),
                            d.apply(null != b ? b : this, a),
                            f ? i.push(this.bindings[c].splice(e, 1)) : i.push(e++);
                        return i;
                    }
                }),
                a
            );
        })(),
        j = window.Pace || {},
        window.Pace = j,
        v(j, g.prototype),
        D = j.options = v({}, u, window.paceOptions, x()),
        U = ["ajax", "document", "eventLag", "elements"],
        Q = 0,
        S = U.length; S > Q; Q++
    )
        (K = U[Q]), D[K] === !0 && (D[K] = u[K]);
    (i = (function(a) {
        function b() {
            return (V = b.__super__.constructor.apply(this, arguments));
        }
        return Z(b, a), b;
    })(Error)),
    (b = (function() {
        function a() {
            this.progress = 0;
        }
        return (
            (a.prototype.getElement = function() {
                var a;
                if (null == this.el) {
                    if (((a = document.querySelector(D.target)), !a)) throw new i();
                    (this.el = document.createElement("div")),
                    (this.el.className = "pace pace-active"),
                    (document.body.className = document.body.className.replace(
                        /pace-done/g,
                        ""
                    )),
                    (document.body.className += " pace-running"),
                    (this.el.innerHTML =
                        '<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>'),
                    null != a.firstChild ?
                        a.insertBefore(this.el, a.firstChild) :
                        a.appendChild(this.el);
                }
                return this.el;
            }),
            (a.prototype.finish = function() {
                var a;
                return (
                    (a = this.getElement()),
                    (a.className = a.className.replace("pace-active", "")),
                    (a.className += " pace-inactive"),
                    (document.body.className = document.body.className.replace(
                        "pace-running",
                        ""
                    )),
                    (document.body.className += " ")
                );
            }),
            (a.prototype.update = function(a) {
                return (this.progress = a), this.render();
            }),
            (a.prototype.destroy = function() {
                try {
                    this.getElement().parentNode.removeChild(this.getElement());
                } catch (a) {
                    i = a;
                }
                return (this.el = void 0);
            }),
            (a.prototype.render = function() {
                var a, b, c, d, e, f, g;
                if (null == document.querySelector(D.target)) return !1;
                for (
                    a = this.getElement(),
                    d = "translate3d(" + this.progress + "%, 0, 0)",
                    g = ["webkitTransform", "msTransform", "transform"],
                    e = 0,
                    f = g.length; f > e; e++
                )
                    (b = g[e]), (a.children[0].style[b] = d);
                return (
                    (!this.lastRenderedProgress ||
                        this.lastRenderedProgress | (0 !== this.progress) | 0) &&
                    (a.children[0].setAttribute(
                            "data-progress-text",
                            "" + (0 | this.progress) + "%"
                        ),
                        this.progress >= 100 ?
                        (c = "99") :
                        ((c = this.progress < 10 ? "0" : ""),
                            (c += 0 | this.progress)),
                        a.children[0].setAttribute("data-progress", "" + c)),
                    (this.lastRenderedProgress = this.progress)
                );
            }),
            (a.prototype.done = function() {
                return this.progress >= 100;
            }),
            a
        );
    })()),
    (h = (function() {
        function a() {
            this.bindings = {};
        }
        return (
            (a.prototype.trigger = function(a, b) {
                var c, d, e, f, g;
                if (null != this.bindings[a]) {
                    for (
                        f = this.bindings[a], g = [], d = 0, e = f.length; e > d; d++
                    )
                        (c = f[d]), g.push(c.call(this, b));
                    return g;
                }
            }),
            (a.prototype.on = function(a, b) {
                var c;
                return (
                    null == (c = this.bindings)[a] && (c[a] = []),
                    this.bindings[a].push(b)
                );
            }),
            a
        );
    })()),
    (P = window.XMLHttpRequest),
    (O = window.XDomainRequest),
    (N = window.WebSocket),
    (w = function(a, b) {
        var c, d, e;
        e = [];
        for (d in b.prototype)
            try {
                null == a[d] && "function" != typeof b[d] ?
                    "function" == typeof Object.defineProperty ?
                    e.push(
                        Object.defineProperty(a, d, {
                            get: function() {
                                return b.prototype[d];
                            },
                            configurable: !0,
                            enumerable: !0
                        })
                    ) :
                    e.push((a[d] = b.prototype[d])) :
                    e.push(void 0);
            } catch (f) {
                c = f;
            }
        return e;
    }),
    (A = []),
    (j.ignore = function() {
        var a, b, c;
        return (
            (b = arguments[0]),
            (a = 2 <= arguments.length ? X.call(arguments, 1) : []),
            A.unshift("ignore"),
            (c = b.apply(null, a)),
            A.shift(),
            c
        );
    }),
    (j.track = function() {
        var a, b, c;
        return (
            (b = arguments[0]),
            (a = 2 <= arguments.length ? X.call(arguments, 1) : []),
            A.unshift("track"),
            (c = b.apply(null, a)),
            A.shift(),
            c
        );
    }),
    (J = function(a) {
        var b;
        if ((null == a && (a = "GET"), "track" === A[0])) return "force";
        if (!A.length && D.ajax) {
            if ("socket" === a && D.ajax.trackWebSockets) return !0;
            if (((b = a.toUpperCase()), $.call(D.ajax.trackMethods, b) >= 0))
                return !0;
        }
        return !1;
    }),
    (k = (function(a) {
        function b() {
            var a,
                c = this;
            b.__super__.constructor.apply(this, arguments),
                (a = function(a) {
                    var b;
                    return (
                        (b = a.open),
                        (a.open = function(d, e, f) {
                            return (
                                J(d) &&
                                c.trigger("request", { type: d, url: e, request: a }),
                                b.apply(a, arguments)
                            );
                        })
                    );
                }),
                (window.XMLHttpRequest = function(b) {
                    var c;
                    return (c = new P(b)), a(c), c;
                });
            try {
                w(window.XMLHttpRequest, P);
            } catch (d) {}
            if (null != O) {
                window.XDomainRequest = function() {
                    var b;
                    return (b = new O()), a(b), b;
                };
                try {
                    w(window.XDomainRequest, O);
                } catch (d) {}
            }
            if (null != N && D.ajax.trackWebSockets) {
                window.WebSocket = function(a, b) {
                    var d;
                    return (
                        (d = null != b ? new N(a, b) : new N(a)),
                        J("socket") &&
                        c.trigger("request", {
                            type: "socket",
                            url: a,
                            protocols: b,
                            request: d
                        }),
                        d
                    );
                };
                try {
                    w(window.WebSocket, N);
                } catch (d) {}
            }
        }
        return Z(b, a), b;
    })(h)),
    (R = null),
    (y = function() {
        return null == R && (R = new k()), R;
    }),
    (I = function(a) {
        var b, c, d, e;
        for (e = D.ajax.ignoreURLs, c = 0, d = e.length; d > c; c++)
            if (((b = e[c]), "string" == typeof b)) {
                if (-1 !== a.indexOf(b)) return !0;
            } else if (b.test(a)) return !0;
        return !1;
    }),
    y().on("request", function(b) {
            var c, d, e, f, g;
            return (
                (f = b.type),
                (e = b.request),
                (g = b.url),
                I(g) ?
                void 0 :
                j.running || (D.restartOnRequestAfter === !1 && "force" !== J(f)) ?
                void 0 :
                ((d = arguments),
                    (c = D.restartOnRequestAfter || 0),
                    "boolean" == typeof c && (c = 0),
                    setTimeout(function() {
                        var b, c, g, h, i, k;
                        if (
                            (b =
                                "socket" === f ?
                                e.readyState < 2 :
                                0 < (h = e.readyState) && 4 > h)
                        ) {
                            for (
                                j.restart(), i = j.sources, k = [], c = 0, g = i.length; g > c; c++
                            ) {
                                if (((K = i[c]), K instanceof a)) {
                                    K.watch.apply(K, d);
                                    break;
                                }
                                k.push(void 0);
                            }
                            return k;
                        }
                    }, c))
            );
        }),
        (a = (function() {
            function a() {
                var a = this;
                (this.elements = []),
                y().on("request", function() {
                    return a.watch.apply(a, arguments);
                });
            }
            return (
                (a.prototype.watch = function(a) {
                    var b, c, d, e;
                    return (
                        (d = a.type),
                        (b = a.request),
                        (e = a.url),
                        I(e) ?
                        void 0 :
                        ((c = "socket" === d ? new n(b) : new o(b)),
                            this.elements.push(c))
                    );
                }),
                a
            );
        })()),
        (o = (function() {
            function a(a) {
                var b,
                    c,
                    d,
                    e,
                    f,
                    g,
                    h = this;
                if (((this.progress = 0), null != window.ProgressEvent))
                    for (
                        c = null,
                        a.addEventListener(
                            "progress",
                            function(a) {
                                return a.lengthComputable ?
                                    (h.progress = (100 * a.loaded) / a.total) :
                                    (h.progress = h.progress + (100 - h.progress) / 2);
                            }, !1
                        ),
                        g = ["load", "abort", "timeout", "error"],
                        d = 0,
                        e = g.length; e > d; d++
                    )
                        (b = g[d]),
                        a.addEventListener(
                            b,
                            function() {
                                return (h.progress = 100);
                            }, !1
                        );
                else
                    (f = a.onreadystatechange),
                    (a.onreadystatechange = function() {
                        var b;
                        return (
                            0 === (b = a.readyState) || 4 === b ?
                            (h.progress = 100) :
                            3 === a.readyState && (h.progress = 50),
                            "function" == typeof f ? f.apply(null, arguments) : void 0
                        );
                    });
            }
            return a;
        })()),
        (n = (function() {
            function a(a) {
                var b,
                    c,
                    d,
                    e,
                    f = this;
                for (
                    this.progress = 0, e = ["error", "open"], c = 0, d = e.length; d > c; c++
                )
                    (b = e[c]),
                    a.addEventListener(
                        b,
                        function() {
                            return (f.progress = 100);
                        }, !1
                    );
            }
            return a;
        })()),
        (d = (function() {
            function a(a) {
                var b, c, d, f;
                for (
                    null == a && (a = {}),
                    this.elements = [],
                    null == a.selectors && (a.selectors = []),
                    f = a.selectors,
                    c = 0,
                    d = f.length; d > c; c++
                )
                    (b = f[c]), this.elements.push(new e(b));
            }
            return a;
        })()),
        (e = (function() {
            function a(a) {
                (this.selector = a), (this.progress = 0), this.check();
            }
            return (
                (a.prototype.check = function() {
                    var a = this;
                    return document.querySelector(this.selector) ?
                        this.done() :
                        setTimeout(function() {
                            return a.check();
                        }, D.elements.checkInterval);
                }),
                (a.prototype.done = function() {
                    return (this.progress = 100);
                }),
                a
            );
        })()),
        (c = (function() {
            function a() {
                var a,
                    b,
                    c = this;
                (this.progress =
                    null != (b = this.states[document.readyState]) ? b : 100),
                (a = document.onreadystatechange),
                (document.onreadystatechange = function() {
                    return (
                        null != c.states[document.readyState] &&
                        (c.progress = c.states[document.readyState]),
                        "function" == typeof a ? a.apply(null, arguments) : void 0
                    );
                });
            }
            return (
                (a.prototype.states = { loading: 0, interactive: 50, complete: 100 }),
                a
            );
        })()),
        (f = (function() {
            function a() {
                var a,
                    b,
                    c,
                    d,
                    e,
                    f = this;
                (this.progress = 0),
                (a = 0),
                (e = []),
                (d = 0),
                (c = C()),
                (b = setInterval(function() {
                    var g;
                    return (
                        (g = C() - c - 50),
                        (c = C()),
                        e.push(g),
                        e.length > D.eventLag.sampleCount && e.shift(),
                        (a = q(e)),
                        ++d >= D.eventLag.minSamples && a < D.eventLag.lagThreshold ?
                        ((f.progress = 100), clearInterval(b)) :
                        (f.progress = 100 * (3 / (a + 3)))
                    );
                }, 50));
            }
            return a;
        })()),
        (m = (function() {
            function a(a) {
                (this.source = a),
                (this.last = this.sinceLastUpdate = 0),
                (this.rate = D.initialRate),
                (this.catchup = 0),
                (this.progress = this.lastProgress = 0),
                null != this.source && (this.progress = F(this.source, "progress"));
            }
            return (
                (a.prototype.tick = function(a, b) {
                    var c;
                    return (
                        null == b && (b = F(this.source, "progress")),
                        b >= 100 && (this.done = !0),
                        b === this.last ?
                        (this.sinceLastUpdate += a) :
                        (this.sinceLastUpdate &&
                            (this.rate = (b - this.last) / this.sinceLastUpdate),
                            (this.catchup = (b - this.progress) / D.catchupTime),
                            (this.sinceLastUpdate = 0),
                            (this.last = b)),
                        b > this.progress && (this.progress += this.catchup * a),
                        (c = 1 - Math.pow(this.progress / 100, D.easeFactor)),
                        (this.progress += c * this.rate * a),
                        (this.progress = Math.min(
                            this.lastProgress + D.maxProgressPerFrame,
                            this.progress
                        )),
                        (this.progress = Math.max(0, this.progress)),
                        (this.progress = Math.min(100, this.progress)),
                        (this.lastProgress = this.progress),
                        this.progress
                    );
                }),
                a
            );
        })()),
        (L = null),
        (H = null),
        (r = null),
        (M = null),
        (p = null),
        (s = null),
        (j.running = !1),
        (z = function() {
            return D.restartOnPushState ? j.restart() : void 0;
        }),
        null != window.history.pushState &&
        ((T = window.history.pushState),
            (window.history.pushState = function() {
                return z(), T.apply(window.history, arguments);
            })),
        null != window.history.replaceState &&
        ((W = window.history.replaceState),
            (window.history.replaceState = function() {
                return z(), W.apply(window.history, arguments);
            })),
        (l = { ajax: a, elements: d, document: c, eventLag: f }),
        (B = function() {
            var a, c, d, e, f, g, h, i;
            for (
                j.sources = L = [],
                g = ["ajax", "elements", "document", "eventLag"],
                c = 0,
                e = g.length; e > c; c++
            )
                (a = g[c]), D[a] !== !1 && L.push(new l[a](D[a]));
            for (
                i = null != (h = D.extraSources) ? h : [], d = 0, f = i.length; f > d; d++
            )
                (K = i[d]), L.push(new K(D));
            return (j.bar = r = new b()), (H = []), (M = new m());
        })(),
        (j.stop = function() {
            return (
                j.trigger("stop"),
                (j.running = !1),
                r.destroy(),
                (s = !0),
                null != p && ("function" == typeof t && t(p), (p = null)),
                B()
            );
        }),
        (j.restart = function() {
            return j.trigger("restart"), j.stop(), j.start();
        }),
        (j.go = function() {
            var a;
            return (
                (j.running = !0),
                r.render(),
                (a = C()),
                (s = !1),
                (p = G(function(b, c) {
                    var d, e, f, g, h, i, k, l, n, o, p, q, t, u, v, w;
                    for (
                        l = 100 - r.progress, e = p = 0, f = !0, i = q = 0, u = L.length; u > q; i = ++q
                    )
                        for (
                            K = L[i],
                            o = null != H[i] ? H[i] : (H[i] = []),
                            h = null != (w = K.elements) ? w : [K],
                            k = t = 0,
                            v = h.length; v > t; k = ++t
                        )
                            (g = h[k]),
                            (n = null != o[k] ? o[k] : (o[k] = new m(g))),
                            (f &= n.done),
                            n.done || (e++, (p += n.tick(b)));
                    return (
                        (d = p / e),
                        r.update(M.tick(b, d)),
                        r.done() || f || s ?
                        (r.update(100),
                            j.trigger("done"),
                            setTimeout(function() {
                                return r.finish(), (j.running = !1), j.trigger("hide");
                            }, Math.max(D.ghostTime, Math.max(D.minTime - (C() - a), 0)))) :
                        c()
                    );
                }))
            );
        }),
        (j.start = function(a) {
            v(D, a), (j.running = !0);
            try {
                r.render();
            } catch (b) {
                i = b;
            }
            return document.querySelector(".pace") ?
                (j.trigger("start"), j.go()) :
                setTimeout(j.start, 50);
        }),
        "function" == typeof define && define.amd ?
        define(["pace"], function() {
            return j;
        }) :
        "object" == typeof exports ?
        (module.exports = j) :
        D.startOnPageLoad && j.start();
}.call(this),
    (function(a) {
        "function" == typeof define && define.amd ?
            define(["jquery"], a) :
            a("object" == typeof exports ? require("jquery") : jQuery);
    })(function(a) {
        var b = (function() {
                if (a && a.fn && a.fn.select2 && a.fn.select2.amd)
                    var b = a.fn.select2.amd;
                var b;
                return (
                    (function() {
                        if (!b || !b.requirejs) {
                            b ? (c = b) : (b = {});
                            var a, c, d;
                            !(function(b) {
                                function e(a, b) {
                                    return u.call(a, b);
                                }

                                function f(a, b) {
                                    var c,
                                        d,
                                        e,
                                        f,
                                        g,
                                        h,
                                        i,
                                        j,
                                        k,
                                        l,
                                        m,
                                        n = b && b.split("/"),
                                        o = s.map,
                                        p = (o && o["*"]) || {};
                                    if (a && "." === a.charAt(0))
                                        if (b) {
                                            for (
                                                a = a.split("/"),
                                                g = a.length - 1,
                                                s.nodeIdCompat &&
                                                w.test(a[g]) &&
                                                (a[g] = a[g].replace(w, "")),
                                                a = n.slice(0, n.length - 1).concat(a),
                                                k = 0; k < a.length; k += 1
                                            )
                                                if (((m = a[k]), "." === m)) a.splice(k, 1), (k -= 1);
                                                else if (".." === m) {
                                                if (1 === k && (".." === a[2] || ".." === a[0]))
                                                    break;
                                                k > 0 && (a.splice(k - 1, 2), (k -= 2));
                                            }
                                            a = a.join("/");
                                        } else 0 === a.indexOf("./") && (a = a.substring(2));
                                    if ((n || p) && o) {
                                        for (c = a.split("/"), k = c.length; k > 0; k -= 1) {
                                            if (((d = c.slice(0, k).join("/")), n))
                                                for (l = n.length; l > 0; l -= 1)
                                                    if (
                                                        ((e = o[n.slice(0, l).join("/")]), e && (e = e[d]))
                                                    ) {
                                                        (f = e), (h = k);
                                                        break;
                                                    }
                                            if (f) break;
                                            !i && p && p[d] && ((i = p[d]), (j = k));
                                        }!f && i && ((f = i), (h = j)),
                                            f && (c.splice(0, h, f), (a = c.join("/")));
                                    }
                                    return a;
                                }

                                function g(a, c) {
                                    return function() {
                                        var d = v.call(arguments, 0);
                                        return (
                                            "string" != typeof d[0] && 1 === d.length && d.push(null),
                                            n.apply(b, d.concat([a, c]))
                                        );
                                    };
                                }

                                function h(a) {
                                    return function(b) {
                                        return f(b, a);
                                    };
                                }

                                function i(a) {
                                    return function(b) {
                                        q[a] = b;
                                    };
                                }

                                function j(a) {
                                    if (e(r, a)) {
                                        var c = r[a];
                                        delete r[a], (t[a] = !0), m.apply(b, c);
                                    }
                                    if (!e(q, a) && !e(t, a)) throw new Error("No " + a);
                                    return q[a];
                                }

                                function k(a) {
                                    var b,
                                        c = a ? a.indexOf("!") : -1;
                                    return (
                                        c > -1 &&
                                        ((b = a.substring(0, c)),
                                            (a = a.substring(c + 1, a.length))), [b, a]
                                    );
                                }

                                function l(a) {
                                    return function() {
                                        return (s && s.config && s.config[a]) || {};
                                    };
                                }
                                var m,
                                    n,
                                    o,
                                    p,
                                    q = {},
                                    r = {},
                                    s = {},
                                    t = {},
                                    u = Object.prototype.hasOwnProperty,
                                    v = [].slice,
                                    w = /\.js$/;
                                (o = function(a, b) {
                                    var c,
                                        d = k(a),
                                        e = d[0];
                                    return (
                                        (a = d[1]),
                                        e && ((e = f(e, b)), (c = j(e))),
                                        e ?
                                        (a = c && c.normalize ? c.normalize(a, h(b)) : f(a, b)) :
                                        ((a = f(a, b)),
                                            (d = k(a)),
                                            (e = d[0]),
                                            (a = d[1]),
                                            e && (c = j(e))), { f: e ? e + "!" + a : a, n: a, pr: e, p: c }
                                    );
                                }),
                                (p = {
                                    require: function(a) {
                                        return g(a);
                                    },
                                    exports: function(a) {
                                        var b = q[a];
                                        return "undefined" != typeof b ? b : (q[a] = {});
                                    },
                                    module: function(a) {
                                        return { id: a, uri: "", exports: q[a], config: l(a) };
                                    }
                                }),
                                (m = function(a, c, d, f) {
                                    var h,
                                        k,
                                        l,
                                        m,
                                        n,
                                        s,
                                        u = [],
                                        v = typeof d;
                                    if (((f = f || a), "undefined" === v || "function" === v)) {
                                        for (
                                            c = !c.length && d.length ? ["require", "exports", "module"] :
                                            c,
                                            n = 0; n < c.length; n += 1
                                        )
                                            if (((m = o(c[n], f)), (k = m.f), "require" === k))
                                                u[n] = p.require(a);
                                            else if ("exports" === k)
                                            (u[n] = p.exports(a)), (s = !0);
                                        else if ("module" === k) h = u[n] = p.module(a);
                                        else if (e(q, k) || e(r, k) || e(t, k)) u[n] = j(k);
                                        else {
                                            if (!m.p) throw new Error(a + " missing " + k);
                                            m.p.load(m.n, g(f, !0), i(k), {}), (u[n] = q[k]);
                                        }
                                        (l = d ? d.apply(q[a], u) : void 0),
                                        a &&
                                            (h && h.exports !== b && h.exports !== q[a] ?
                                                (q[a] = h.exports) :
                                                (l === b && s) || (q[a] = l));
                                    } else a && (q[a] = d);
                                }),
                                (a = c = n = function(a, c, d, e, f) {
                                    if ("string" == typeof a)
                                        return p[a] ? p[a](c) : j(o(a, c).f);
                                    if (!a.splice) {
                                        if (((s = a), s.deps && n(s.deps, s.callback), !c))
                                            return;
                                        c.splice ? ((a = c), (c = d), (d = null)) : (a = b);
                                    }
                                    return (
                                        (c = c || function() {}),
                                        "function" == typeof d && ((d = e), (e = f)),
                                        e ?
                                        m(b, a, c, d) :
                                        setTimeout(function() {
                                            m(b, a, c, d);
                                        }, 4),
                                        n
                                    );
                                }),
                                (n.config = function(a) {
                                    return n(a);
                                }),
                                (a._defined = q),
                                (d = function(a, b, c) {
                                    if ("string" != typeof a)
                                        throw new Error(
                                            "See almond README: incorrect module build, no module name"
                                        );
                                    b.splice || ((c = b), (b = [])),
                                        e(q, a) || e(r, a) || (r[a] = [a, b, c]);
                                }),
                                (d.amd = { jQuery: !0 });
                            })(),
                            (b.requirejs = a),
                            (b.require = c),
                            (b.define = d);
                        }
                    })(),
                    b.define("almond", function() {}),
                    b.define("jquery", [], function() {
                        var b = a || $;
                        return (
                            null == b &&
                            console &&
                            console.error &&
                            console.error(
                                "Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."
                            ),
                            b
                        );
                    }),
                    b.define("select2/utils", ["jquery"], function(a) {
                        function b(a) {
                            var b = a.prototype,
                                c = [];
                            for (var d in b) {
                                var e = b[d];
                                "function" == typeof e && "constructor" !== d && c.push(d);
                            }
                            return c;
                        }
                        var c = {};
                        (c.Extend = function(a, b) {
                            function c() {
                                this.constructor = a;
                            }
                            var d = {}.hasOwnProperty;
                            for (var e in b) d.call(b, e) && (a[e] = b[e]);
                            return (
                                (c.prototype = b.prototype),
                                (a.prototype = new c()),
                                (a.__super__ = b.prototype),
                                a
                            );
                        }),
                        (c.Decorate = function(a, c) {
                            function d() {
                                var b = Array.prototype.unshift,
                                    d = c.prototype.constructor.length,
                                    e = a.prototype.constructor;
                                d > 0 &&
                                    (b.call(arguments, a.prototype.constructor),
                                        (e = c.prototype.constructor)),
                                    e.apply(this, arguments);
                            }

                            function e() {
                                this.constructor = d;
                            }
                            var f = b(c),
                                g = b(a);
                            (c.displayName = a.displayName), (d.prototype = new e());
                            for (var h = 0; h < g.length; h++) {
                                var i = g[h];
                                d.prototype[i] = a.prototype[i];
                            }
                            for (
                                var j = function(a) {
                                        var b = function() {};
                                        (a in d.prototype) && (b = d.prototype[a]);
                                        var e = c.prototype[a];
                                        return function() {
                                            var a = Array.prototype.unshift;
                                            return a.call(arguments, b), e.apply(this, arguments);
                                        };
                                    },
                                    k = 0; k < f.length; k++
                            ) {
                                var l = f[k];
                                d.prototype[l] = j(l);
                            }
                            return d;
                        });
                        var d = function() {
                            this.listeners = {};
                        };
                        return (
                            (d.prototype.on = function(a, b) {
                                (this.listeners = this.listeners || {}),
                                a in this.listeners ?
                                    this.listeners[a].push(b) :
                                    (this.listeners[a] = [b]);
                            }),
                            (d.prototype.trigger = function(a) {
                                var b = Array.prototype.slice,
                                    c = b.call(arguments, 1);
                                (this.listeners = this.listeners || {}),
                                null == c && (c = []),
                                    0 === c.length && c.push({}),
                                    (c[0]._type = a),
                                    a in this.listeners &&
                                    this.invoke(this.listeners[a], b.call(arguments, 1)),
                                    "*" in this.listeners &&
                                    this.invoke(this.listeners["*"], arguments);
                            }),
                            (d.prototype.invoke = function(a, b) {
                                for (var c = 0, d = a.length; d > c; c++) a[c].apply(this, b);
                            }),
                            (c.Observable = d),
                            (c.generateChars = function(a) {
                                for (var b = "", c = 0; a > c; c++) {
                                    var d = Math.floor(36 * Math.random());
                                    b += d.toString(36);
                                }
                                return b;
                            }),
                            (c.bind = function(a, b) {
                                return function() {
                                    a.apply(b, arguments);
                                };
                            }),
                            (c._convertData = function(a) {
                                for (var b in a) {
                                    var c = b.split("-"),
                                        d = a;
                                    if (1 !== c.length) {
                                        for (var e = 0; e < c.length; e++) {
                                            var f = c[e];
                                            (f = f.substring(0, 1).toLowerCase() + f.substring(1)),
                                            f in d || (d[f] = {}),
                                                e == c.length - 1 && (d[f] = a[b]),
                                                (d = d[f]);
                                        }
                                        delete a[b];
                                    }
                                }
                                return a;
                            }),
                            (c.hasScroll = function(b, c) {
                                var d = a(c),
                                    e = c.style.overflowX,
                                    f = c.style.overflowY;
                                return e !== f || ("hidden" !== f && "visible" !== f) ?
                                    "scroll" === e || "scroll" === f ?
                                    !0 :
                                    d.innerHeight() < c.scrollHeight ||
                                    d.innerWidth() < c.scrollWidth :
                                    !1;
                            }),
                            (c.escapeMarkup = function(a) {
                                var b = {
                                    "\\": "&#92;",
                                    "&": "&amp;",
                                    "<": "&lt;",
                                    ">": "&gt;",
                                    '"': "&quot;",
                                    "'": "&#39;",
                                    "/": "&#47;"
                                };
                                return "string" != typeof a ?
                                    a :
                                    String(a).replace(/[&<>"'\/\\]/g, function(a) {
                                        return b[a];
                                    });
                            }),
                            (c.appendMany = function(b, c) {
                                if ("1.7" === a.fn.jquery.substr(0, 3)) {
                                    var d = a();
                                    a.map(c, function(a) {
                                            d = d.add(a);
                                        }),
                                        (c = d);
                                }
                                b.append(c);
                            }),
                            c
                        );
                    }),
                    b.define("select2/results", ["jquery", "./utils"], function(a, b) {
                        function c(a, b, d) {
                            (this.$element = a),
                            (this.data = d),
                            (this.options = b),
                            c.__super__.constructor.call(this);
                        }
                        return (
                            b.Extend(c, b.Observable),
                            (c.prototype.render = function() {
                                var b = a(
                                    '<ul class="select2-results__options" role="tree"></ul>'
                                );
                                return (
                                    this.options.get("multiple") &&
                                    b.attr("aria-multiselectable", "true"),
                                    (this.$results = b),
                                    b
                                );
                            }),
                            (c.prototype.clear = function() {
                                this.$results.empty();
                            }),
                            (c.prototype.displayMessage = function(b) {
                                var c = this.options.get("escapeMarkup");
                                this.clear(), this.hideLoading();
                                var d = a(
                                        '<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'
                                    ),
                                    e = this.options.get("translations").get(b.message);
                                d.append(c(e(b.args))),
                                    (d[0].className += " select2-results__message"),
                                    this.$results.append(d);
                            }),
                            (c.prototype.hideMessages = function() {
                                this.$results.find(".select2-results__message").remove();
                            }),
                            (c.prototype.append = function(a) {
                                this.hideLoading();
                                var b = [];
                                if (null == a.results || 0 === a.results.length)
                                    return void(
                                        0 === this.$results.children().length &&
                                        this.trigger("results:message", { message: "noResults" })
                                    );
                                a.results = this.sort(a.results);
                                for (var c = 0; c < a.results.length; c++) {
                                    var d = a.results[c],
                                        e = this.option(d);
                                    b.push(e);
                                }
                                this.$results.append(b);
                            }),
                            (c.prototype.position = function(a, b) {
                                var c = b.find(".select2-results");
                                c.append(a);
                            }),
                            (c.prototype.sort = function(a) {
                                var b = this.options.get("sorter");
                                return b(a);
                            }),
                            (c.prototype.highlightFirstItem = function() {
                                var a = this.$results.find(
                                        ".select2-results__option[aria-selected]"
                                    ),
                                    b = a.filter("[aria-selected=true]");
                                b.length > 0 ?
                                    b.first().trigger("mouseenter") :
                                    a.first().trigger("mouseenter"),
                                    this.ensureHighlightVisible();
                            }),
                            (c.prototype.setClasses = function() {
                                var b = this;
                                this.data.current(function(c) {
                                    var d = a.map(c, function(a) {
                                            return a.id.toString();
                                        }),
                                        e = b.$results.find(
                                            ".select2-results__option[aria-selected]"
                                        );
                                    e.each(function() {
                                        var b = a(this),
                                            c = a.data(this, "data"),
                                            e = "" + c.id;
                                        (null != c.element && c.element.selected) ||
                                        (null == c.element && a.inArray(e, d) > -1) ?
                                        b.attr("aria-selected", "true"): b.attr("aria-selected", "false");
                                    });
                                });
                            }),
                            (c.prototype.showLoading = function(a) {
                                this.hideLoading();
                                var b = this.options.get("translations").get("searching"),
                                    c = { disabled: !0, loading: !0, text: b(a) },
                                    d = this.option(c);
                                (d.className += " loading-results"), this.$results.prepend(d);
                            }),
                            (c.prototype.hideLoading = function() {
                                this.$results.find(".loading-results").remove();
                            }),
                            (c.prototype.option = function(b) {
                                var c = document.createElement("li");
                                c.className = "select2-results__option";
                                var d = { role: "treeitem", "aria-selected": "false" };
                                b.disabled &&
                                    (delete d["aria-selected"], (d["aria-disabled"] = "true")),
                                    null == b.id && delete d["aria-selected"],
                                    null != b._resultId && (c.id = b._resultId),
                                    b.title && (c.title = b.title),
                                    b.children &&
                                    ((d.role = "group"),
                                        (d["aria-label"] = b.text),
                                        delete d["aria-selected"]);
                                for (var e in d) {
                                    var f = d[e];
                                    c.setAttribute(e, f);
                                }
                                if (b.children) {
                                    var g = a(c),
                                        h = document.createElement("strong");
                                    h.className = "select2-results__group";
                                    a(h);
                                    this.template(b, h);
                                    for (var i = [], j = 0; j < b.children.length; j++) {
                                        var k = b.children[j],
                                            l = this.option(k);
                                        i.push(l);
                                    }
                                    var m = a("<ul></ul>", {
                                        class: "select2-results__options select2-results__options--nested"
                                    });
                                    m.append(i), g.append(h), g.append(m);
                                } else this.template(b, c);
                                return a.data(c, "data", b), c;
                            }),
                            (c.prototype.bind = function(b, c) {
                                var d = this,
                                    e = b.id + "-results";
                                this.$results.attr("id", e),
                                    b.on("results:all", function(a) {
                                        d.clear(),
                                            d.append(a.data),
                                            b.isOpen() && (d.setClasses(), d.highlightFirstItem());
                                    }),
                                    b.on("results:append", function(a) {
                                        d.append(a.data), b.isOpen() && d.setClasses();
                                    }),
                                    b.on("query", function(a) {
                                        d.hideMessages(), d.showLoading(a);
                                    }),
                                    b.on("select", function() {
                                        b.isOpen() && (d.setClasses(), d.highlightFirstItem());
                                    }),
                                    b.on("unselect", function() {
                                        b.isOpen() && (d.setClasses(), d.highlightFirstItem());
                                    }),
                                    b.on("open", function() {
                                        d.$results.attr("aria-expanded", "true"),
                                            d.$results.attr("aria-hidden", "false"),
                                            d.setClasses(),
                                            d.ensureHighlightVisible();
                                    }),
                                    b.on("close", function() {
                                        d.$results.attr("aria-expanded", "false"),
                                            d.$results.attr("aria-hidden", "true"),
                                            d.$results.removeAttr("aria-activedescendant");
                                    }),
                                    b.on("results:toggle", function() {
                                        var a = d.getHighlightedResults();
                                        0 !== a.length && a.trigger("mouseup");
                                    }),
                                    b.on("results:select", function() {
                                        var a = d.getHighlightedResults();
                                        if (0 !== a.length) {
                                            var b = a.data("data");
                                            "true" == a.attr("aria-selected") ?
                                                d.trigger("close", {}) :
                                                d.trigger("select", { data: b });
                                        }
                                    }),
                                    b.on("results:previous", function() {
                                        var a = d.getHighlightedResults(),
                                            b = d.$results.find("[aria-selected]"),
                                            c = b.index(a);
                                        if (0 !== c) {
                                            var e = c - 1;
                                            0 === a.length && (e = 0);
                                            var f = b.eq(e);
                                            f.trigger("mouseenter");
                                            var g = d.$results.offset().top,
                                                h = f.offset().top,
                                                i = d.$results.scrollTop() + (h - g);
                                            0 === e ?
                                                d.$results.scrollTop(0) :
                                                0 > h - g && d.$results.scrollTop(i);
                                        }
                                    }),
                                    b.on("results:next", function() {
                                        var a = d.getHighlightedResults(),
                                            b = d.$results.find("[aria-selected]"),
                                            c = b.index(a),
                                            e = c + 1;
                                        if (!(e >= b.length)) {
                                            var f = b.eq(e);
                                            f.trigger("mouseenter");
                                            var g =
                                                d.$results.offset().top + d.$results.outerHeight(!1),
                                                h = f.offset().top + f.outerHeight(!1),
                                                i = d.$results.scrollTop() + h - g;
                                            0 === e ?
                                                d.$results.scrollTop(0) :
                                                h > g && d.$results.scrollTop(i);
                                        }
                                    }),
                                    b.on("results:focus", function(a) {
                                        a.element.addClass("select2-results__option--highlighted");
                                    }),
                                    b.on("results:message", function(a) {
                                        d.displayMessage(a);
                                    }),
                                    a.fn.mousewheel &&
                                    this.$results.on("mousewheel", function(a) {
                                        var b = d.$results.scrollTop(),
                                            c = d.$results.get(0).scrollHeight - b + a.deltaY,
                                            e = a.deltaY > 0 && b - a.deltaY <= 0,
                                            f = a.deltaY < 0 && c <= d.$results.height();
                                        e
                                            ?
                                            (d.$results.scrollTop(0),
                                                a.preventDefault(),
                                                a.stopPropagation()) :
                                            f &&
                                            (d.$results.scrollTop(
                                                    d.$results.get(0).scrollHeight - d.$results.height()
                                                ),
                                                a.preventDefault(),
                                                a.stopPropagation());
                                    }),
                                    this.$results.on(
                                        "mouseup",
                                        ".select2-results__option[aria-selected]",
                                        function(b) {
                                            var c = a(this),
                                                e = c.data("data");
                                            return "true" === c.attr("aria-selected") ?
                                                void(d.options.get("multiple") ?
                                                    d.trigger("unselect", {
                                                        originalEvent: b,
                                                        data: e
                                                    }) :
                                                    d.trigger("close", {})) :
                                                void d.trigger("select", {
                                                    originalEvent: b,
                                                    data: e
                                                });
                                        }
                                    ),
                                    this.$results.on(
                                        "mouseenter",
                                        ".select2-results__option[aria-selected]",
                                        function(b) {
                                            var c = a(this).data("data");
                                            d
                                                .getHighlightedResults()
                                                .removeClass("select2-results__option--highlighted"),
                                                d.trigger("results:focus", {
                                                    data: c,
                                                    element: a(this)
                                                });
                                        }
                                    );
                            }),
                            (c.prototype.getHighlightedResults = function() {
                                var a = this.$results.find(
                                    ".select2-results__option--highlighted"
                                );
                                return a;
                            }),
                            (c.prototype.destroy = function() {
                                this.$results.remove();
                            }),
                            (c.prototype.ensureHighlightVisible = function() {
                                var a = this.getHighlightedResults();
                                if (0 !== a.length) {
                                    var b = this.$results.find("[aria-selected]"),
                                        c = b.index(a),
                                        d = this.$results.offset().top,
                                        e = a.offset().top,
                                        f = this.$results.scrollTop() + (e - d),
                                        g = e - d;
                                    (f -= 2 * a.outerHeight(!1)),
                                    2 >= c ?
                                        this.$results.scrollTop(0) :
                                        (g > this.$results.outerHeight() || 0 > g) &&
                                        this.$results.scrollTop(f);
                                }
                            }),
                            (c.prototype.template = function(b, c) {
                                var d = this.options.get("templateResult"),
                                    e = this.options.get("escapeMarkup"),
                                    f = d(b, c);
                                null == f ?
                                    (c.style.display = "none") :
                                    "string" == typeof f ?
                                    (c.innerHTML = e(f)) :
                                    a(c).append(f);
                            }),
                            c
                        );
                    }),
                    b.define("select2/keys", [], function() {
                        var a = {
                            BACKSPACE: 8,
                            TAB: 9,
                            ENTER: 13,
                            SHIFT: 16,
                            CTRL: 17,
                            ALT: 18,
                            ESC: 27,
                            SPACE: 32,
                            PAGE_UP: 33,
                            PAGE_DOWN: 34,
                            END: 35,
                            HOME: 36,
                            LEFT: 37,
                            UP: 38,
                            RIGHT: 39,
                            DOWN: 40,
                            DELETE: 46
                        };
                        return a;
                    }),
                    b.define(
                        "select2/selection/base", ["jquery", "../utils", "../keys"],
                        function(a, b, c) {
                            function d(a, b) {
                                (this.$element = a),
                                (this.options = b),
                                d.__super__.constructor.call(this);
                            }
                            return (
                                b.Extend(d, b.Observable),
                                (d.prototype.render = function() {
                                    var b = a(
                                        '<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>'
                                    );
                                    return (
                                        (this._tabindex = 0),
                                        null != this.$element.data("old-tabindex") ?
                                        (this._tabindex = this.$element.data("old-tabindex")) :
                                        null != this.$element.attr("tabindex") &&
                                        (this._tabindex = this.$element.attr("tabindex")),
                                        b.attr("title", this.$element.attr("title")),
                                        b.attr("tabindex", this._tabindex),
                                        (this.$selection = b),
                                        b
                                    );
                                }),
                                (d.prototype.bind = function(a, b) {
                                    var d = this,
                                        e = (a.id + "-container", a.id + "-results");
                                    (this.container = a),
                                    this.$selection.on("focus", function(a) {
                                            d.trigger("focus", a);
                                        }),
                                        this.$selection.on("blur", function(a) {
                                            d._handleBlur(a);
                                        }),
                                        this.$selection.on("keydown", function(a) {
                                            d.trigger("keypress", a),
                                                a.which === c.SPACE && a.preventDefault();
                                        }),
                                        a.on("results:focus", function(a) {
                                            d.$selection.attr(
                                                "aria-activedescendant",
                                                a.data._resultId
                                            );
                                        }),
                                        a.on("selection:update", function(a) {
                                            d.update(a.data);
                                        }),
                                        a.on("open", function() {
                                            d.$selection.attr("aria-expanded", "true"),
                                                d.$selection.attr("aria-owns", e),
                                                d._attachCloseHandler(a);
                                        }),
                                        a.on("close", function() {
                                            d.$selection.attr("aria-expanded", "false"),
                                                d.$selection.removeAttr("aria-activedescendant"),
                                                d.$selection.removeAttr("aria-owns"),
                                                d.$selection.focus(),
                                                d._detachCloseHandler(a);
                                        }),
                                        a.on("enable", function() {
                                            d.$selection.attr("tabindex", d._tabindex);
                                        }),
                                        a.on("disable", function() {
                                            d.$selection.attr("tabindex", "-1");
                                        });
                                }),
                                (d.prototype._handleBlur = function(b) {
                                    var c = this;
                                    window.setTimeout(function() {
                                        document.activeElement == c.$selection[0] ||
                                            a.contains(c.$selection[0], document.activeElement) ||
                                            c.trigger("blur", b);
                                    }, 1);
                                }),
                                (d.prototype._attachCloseHandler = function(b) {
                                    a(document.body).on("mousedown.select2." + b.id, function(b) {
                                        var c = a(b.target),
                                            d = c.closest(".select2"),
                                            e = a(".select2.select2-container--open");
                                        e.each(function() {
                                            var b = a(this);
                                            if (this != d[0]) {
                                                var c = b.data("element");
                                                c.select2("close");
                                            }
                                        });
                                    });
                                }),
                                (d.prototype._detachCloseHandler = function(b) {
                                    a(document.body).off("mousedown.select2." + b.id);
                                }),
                                (d.prototype.position = function(a, b) {
                                    var c = b.find(".selection");
                                    c.append(a);
                                }),
                                (d.prototype.destroy = function() {
                                    this._detachCloseHandler(this.container);
                                }),
                                (d.prototype.update = function(a) {
                                    throw new Error(
                                        "The `update` method must be defined in child classes."
                                    );
                                }),
                                d
                            );
                        }
                    ),
                    b.define(
                        "select2/selection/single", ["jquery", "./base", "../utils", "../keys"],
                        function(a, b, c, d) {
                            function e() {
                                e.__super__.constructor.apply(this, arguments);
                            }
                            return (
                                c.Extend(e, b),
                                (e.prototype.render = function() {
                                    var a = e.__super__.render.call(this);
                                    return (
                                        a.addClass("select2-selection--single"),
                                        a.html(
                                            '<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'
                                        ),
                                        a
                                    );
                                }),
                                (e.prototype.bind = function(a, b) {
                                    var c = this;
                                    e.__super__.bind.apply(this, arguments);
                                    var d = a.id + "-container";
                                    this.$selection
                                        .find(".select2-selection__rendered")
                                        .attr("id", d),
                                        this.$selection.attr("aria-labelledby", d),
                                        this.$selection.on("mousedown", function(a) {
                                            1 === a.which &&
                                                c.trigger("toggle", { originalEvent: a });
                                        }),
                                        this.$selection.on("focus", function(a) {}),
                                        this.$selection.on("blur", function(a) {}),
                                        a.on("focus", function(b) {
                                            a.isOpen() || c.$selection.focus();
                                        }),
                                        a.on("selection:update", function(a) {
                                            c.update(a.data);
                                        });
                                }),
                                (e.prototype.clear = function() {
                                    this.$selection.find(".select2-selection__rendered").empty();
                                }),
                                (e.prototype.display = function(a, b) {
                                    var c = this.options.get("templateSelection"),
                                        d = this.options.get("escapeMarkup");
                                    return d(c(a, b));
                                }),
                                (e.prototype.selectionContainer = function() {
                                    return a("<span></span>");
                                }),
                                (e.prototype.update = function(a) {
                                    if (0 === a.length) return void this.clear();
                                    var b = a[0],
                                        c = this.$selection.find(".select2-selection__rendered"),
                                        d = this.display(b, c);
                                    c.empty().append(d), c.prop("title", b.title || b.text);
                                }),
                                e
                            );
                        }
                    ),
                    b.define(
                        "select2/selection/multiple", ["jquery", "./base", "../utils"],
                        function(a, b, c) {
                            function d(a, b) {
                                d.__super__.constructor.apply(this, arguments);
                            }
                            return (
                                c.Extend(d, b),
                                (d.prototype.render = function() {
                                    var a = d.__super__.render.call(this);
                                    return (
                                        a.addClass("select2-selection--multiple"),
                                        a.html('<ul class="select2-selection__rendered"></ul>'),
                                        a
                                    );
                                }),
                                (d.prototype.bind = function(b, c) {
                                    var e = this;
                                    d.__super__.bind.apply(this, arguments),
                                        this.$selection.on("click", function(a) {
                                            e.trigger("toggle", { originalEvent: a });
                                        }),
                                        this.$selection.on(
                                            "click",
                                            ".select2-selection__choice__remove",
                                            function(b) {
                                                if (!e.options.get("disabled")) {
                                                    var c = a(this),
                                                        d = c.parent(),
                                                        f = d.data("data");
                                                    e.trigger("unselect", { originalEvent: b, data: f });
                                                }
                                            }
                                        );
                                }),
                                (d.prototype.clear = function() {
                                    this.$selection.find(".select2-selection__rendered").empty();
                                }),
                                (d.prototype.display = function(a, b) {
                                    var c = this.options.get("templateSelection"),
                                        d = this.options.get("escapeMarkup");
                                    return d(c(a, b));
                                }),
                                (d.prototype.selectionContainer = function() {
                                    var b = a(
                                        '<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>'
                                    );
                                    return b;
                                }),
                                (d.prototype.update = function(a) {
                                    if ((this.clear(), 0 !== a.length)) {
                                        for (var b = [], d = 0; d < a.length; d++) {
                                            var e = a[d],
                                                f = this.selectionContainer(),
                                                g = this.display(e, f);
                                            f.append(g),
                                                f.prop("title", e.title || e.text),
                                                f.data("data", e),
                                                b.push(f);
                                        }
                                        var h = this.$selection.find(
                                            ".select2-selection__rendered"
                                        );
                                        c.appendMany(h, b);
                                    }
                                }),
                                d
                            );
                        }
                    ),
                    b.define("select2/selection/placeholder", ["../utils"], function(a) {
                        function b(a, b, c) {
                            (this.placeholder = this.normalizePlaceholder(
                                c.get("placeholder")
                            )),
                            a.call(this, b, c);
                        }
                        return (
                            (b.prototype.normalizePlaceholder = function(a, b) {
                                return "string" == typeof b && (b = { id: "", text: b }), b;
                            }),
                            (b.prototype.createPlaceholder = function(a, b) {
                                var c = this.selectionContainer();
                                return (
                                    c.html(this.display(b)),
                                    c
                                    .addClass("select2-selection__placeholder")
                                    .removeClass("select2-selection__choice"),
                                    c
                                );
                            }),
                            (b.prototype.update = function(a, b) {
                                var c = 1 == b.length && b[0].id != this.placeholder.id,
                                    d = b.length > 1;
                                if (d || c) return a.call(this, b);
                                this.clear();
                                var e = this.createPlaceholder(this.placeholder);
                                this.$selection.find(".select2-selection__rendered").append(e);
                            }),
                            b
                        );
                    }),
                    b.define(
                        "select2/selection/allowClear", ["jquery", "../keys"],
                        function(a, b) {
                            function c() {}
                            return (
                                (c.prototype.bind = function(a, b, c) {
                                    var d = this;
                                    a.call(this, b, c),
                                        null == this.placeholder &&
                                        this.options.get("debug") &&
                                        window.console &&
                                        console.error &&
                                        console.error(
                                            "Select2: The `allowClear` option should be used in combination with the `placeholder` option."
                                        ),
                                        this.$selection.on(
                                            "mousedown",
                                            ".select2-selection__clear",
                                            function(a) {
                                                d._handleClear(a);
                                            }
                                        ),
                                        b.on("keypress", function(a) {
                                            d._handleKeyboardClear(a, b);
                                        });
                                }),
                                (c.prototype._handleClear = function(a, b) {
                                    if (!this.options.get("disabled")) {
                                        var c = this.$selection.find(".select2-selection__clear");
                                        if (0 !== c.length) {
                                            b.stopPropagation();
                                            for (var d = c.data("data"), e = 0; e < d.length; e++) {
                                                var f = { data: d[e] };
                                                if ((this.trigger("unselect", f), f.prevented)) return;
                                            }
                                            this.$element.val(this.placeholder.id).trigger("change"),
                                                this.trigger("toggle", {});
                                        }
                                    }
                                }),
                                (c.prototype._handleKeyboardClear = function(a, c, d) {
                                    d.isOpen() ||
                                        (c.which != b.DELETE && c.which != b.BACKSPACE) ||
                                        this._handleClear(c);
                                }),
                                (c.prototype.update = function(b, c) {
                                    if (
                                        (b.call(this, c), !(
                                            this.$selection.find(".select2-selection__placeholder")
                                            .length > 0 || 0 === c.length
                                        ))
                                    ) {
                                        var d = a(
                                            '<span class="select2-selection__clear">&times;</span>'
                                        );
                                        d.data("data", c),
                                            this.$selection
                                            .find(".select2-selection__rendered")
                                            .prepend(d);
                                    }
                                }),
                                c
                            );
                        }
                    ),
                    b.define(
                        "select2/selection/search", ["jquery", "../utils", "../keys"],
                        function(a, b, c) {
                            function d(a, b, c) {
                                a.call(this, b, c);
                            }
                            return (
                                (d.prototype.render = function(b) {
                                    var c = a(
                                        '<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>'
                                    );
                                    (this.$searchContainer = c), (this.$search = c.find("input"));
                                    var d = b.call(this);
                                    return this._transferTabIndex(), d;
                                }),
                                (d.prototype.bind = function(a, b, d) {
                                    var e = this;
                                    a.call(this, b, d),
                                        b.on("open", function() {
                                            e.$search.trigger("focus");
                                        }),
                                        b.on("close", function() {
                                            e.$search.val(""),
                                                e.$search.removeAttr("aria-activedescendant"),
                                                e.$search.trigger("focus");
                                        }),
                                        b.on("enable", function() {
                                            e.$search.prop("disabled", !1), e._transferTabIndex();
                                        }),
                                        b.on("disable", function() {
                                            e.$search.prop("disabled", !0);
                                        }),
                                        b.on("focus", function(a) {
                                            e.$search.trigger("focus");
                                        }),
                                        b.on("results:focus", function(a) {
                                            e.$search.attr("aria-activedescendant", a.id);
                                        }),
                                        this.$selection.on(
                                            "focusin",
                                            ".select2-search--inline",
                                            function(a) {
                                                e.trigger("focus", a);
                                            }
                                        ),
                                        this.$selection.on(
                                            "focusout",
                                            ".select2-search--inline",
                                            function(a) {
                                                e._handleBlur(a);
                                            }
                                        ),
                                        this.$selection.on(
                                            "keydown",
                                            ".select2-search--inline",
                                            function(a) {
                                                a.stopPropagation(),
                                                    e.trigger("keypress", a),
                                                    (e._keyUpPrevented = a.isDefaultPrevented());
                                                var b = a.which;
                                                if (b === c.BACKSPACE && "" === e.$search.val()) {
                                                    var d = e.$searchContainer.prev(
                                                        ".select2-selection__choice"
                                                    );
                                                    if (d.length > 0) {
                                                        var f = d.data("data");
                                                        e.searchRemoveChoice(f), a.preventDefault();
                                                    }
                                                }
                                            }
                                        );
                                    var f = document.documentMode,
                                        g = f && 11 >= f;
                                    this.$selection.on(
                                            "input.searchcheck",
                                            ".select2-search--inline",
                                            function(a) {
                                                return g ?
                                                    void e.$selection.off(
                                                        "input.search input.searchcheck"
                                                    ) :
                                                    void e.$selection.off("keyup.search");
                                            }
                                        ),
                                        this.$selection.on(
                                            "keyup.search input.search",
                                            ".select2-search--inline",
                                            function(a) {
                                                if (g && "input" === a.type)
                                                    return void e.$selection.off(
                                                        "input.search input.searchcheck"
                                                    );
                                                var b = a.which;
                                                b != c.SHIFT &&
                                                    b != c.CTRL &&
                                                    b != c.ALT &&
                                                    b != c.TAB &&
                                                    e.handleSearch(a);
                                            }
                                        );
                                }),
                                (d.prototype._transferTabIndex = function(a) {
                                    this.$search.attr(
                                            "tabindex",
                                            this.$selection.attr("tabindex")
                                        ),
                                        this.$selection.attr("tabindex", "-1");
                                }),
                                (d.prototype.createPlaceholder = function(a, b) {
                                    this.$search.attr("placeholder", b.text);
                                }),
                                (d.prototype.update = function(a, b) {
                                    var c = this.$search[0] == document.activeElement;
                                    this.$search.attr("placeholder", ""),
                                        a.call(this, b),
                                        this.$selection
                                        .find(".select2-selection__rendered")
                                        .append(this.$searchContainer),
                                        this.resizeSearch(),
                                        c && this.$search.focus();
                                }),
                                (d.prototype.handleSearch = function() {
                                    if ((this.resizeSearch(), !this._keyUpPrevented)) {
                                        var a = this.$search.val();
                                        this.trigger("query", { term: a });
                                    }
                                    this._keyUpPrevented = !1;
                                }),
                                (d.prototype.searchRemoveChoice = function(a, b) {
                                    this.trigger("unselect", { data: b }),
                                        this.$search.val(b.text),
                                        this.handleSearch();
                                }),
                                (d.prototype.resizeSearch = function() {
                                    this.$search.css("width", "25px");
                                    var a = "";
                                    if ("" !== this.$search.attr("placeholder"))
                                        a = this.$selection
                                        .find(".select2-selection__rendered")
                                        .innerWidth();
                                    else {
                                        var b = this.$search.val().length + 1;
                                        a = 0.75 * b + "em";
                                    }
                                    this.$search.css("width", a);
                                }),
                                d
                            );
                        }
                    ),
                    b.define("select2/selection/eventRelay", ["jquery"], function(a) {
                        function b() {}
                        return (
                            (b.prototype.bind = function(b, c, d) {
                                var e = this,
                                    f = [
                                        "open",
                                        "opening",
                                        "close",
                                        "closing",
                                        "select",
                                        "selecting",
                                        "unselect",
                                        "unselecting"
                                    ],
                                    g = ["opening", "closing", "selecting", "unselecting"];
                                b.call(this, c, d),
                                    c.on("*", function(b, c) {
                                        if (-1 !== a.inArray(b, f)) {
                                            c = c || {};
                                            var d = a.Event("select2:" + b, { params: c });
                                            e.$element.trigger(d), -1 !== a.inArray(b, g) &&
                                                (c.prevented = d.isDefaultPrevented());
                                        }
                                    });
                            }),
                            b
                        );
                    }),
                    b.define("select2/translation", ["jquery", "require"], function(
                        a,
                        b
                    ) {
                        function c(a) {
                            this.dict = a || {};
                        }
                        return (
                            (c.prototype.all = function() {
                                return this.dict;
                            }),
                            (c.prototype.get = function(a) {
                                return this.dict[a];
                            }),
                            (c.prototype.extend = function(b) {
                                this.dict = a.extend({}, b.all(), this.dict);
                            }),
                            (c._cache = {}),
                            (c.loadPath = function(a) {
                                if (!(a in c._cache)) {
                                    var d = b(a);
                                    c._cache[a] = d;
                                }
                                return new c(c._cache[a]);
                            }),
                            c
                        );
                    }),
                    b.define("select2/diacritics", [], function() {
                        var a = {
                            "": "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "A",
                            : "AA",
                            : "AE",
                            : "AE",
                            : "AE",
                            : "AO",
                            : "AU",
                            : "AV",
                            : "AV",
                            : "AY",
                            "": "B",
                            : "B",
                            : "B",
                            : "B",
                            : "B",
                            : "B",
                            : "B",
                            : "B",
                            "": "C",
                            : "C",
                            : "C",
                            : "C",
                            : "C",
                            : "C",
                            : "C",
                            : "C",
                            : "C",
                            : "C",
                            : "C",
                            "": "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "D",
                            : "DZ",
                            : "DZ",
                            : "Dz",
                            : "Dz",
                            "": "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            : "E",
                            "": "F",
                            : "F",
                            : "F",
                            : "F",
                            : "F",
                            "": "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            : "G",
                            "": "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            : "H",
                            "": "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            : "I",
                            "": "J",
                            : "J",
                            : "J",
                            : "J",
                            "": "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            : "K",
                            "": "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "L",
                            : "LJ",
                            : "Lj",
                            "": "M",
                            : "M",
                            : "M",
                            : "M",
                            : "M",
                            : "M",
                            : "M",
                            "": "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "N",
                            : "NJ",
                            : "Nj",
                            "": "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "O",
                            : "OI",
                            : "OO",
                            : "OU",
                            "": "P",
                            : "P",
                            : "P",
                            : "P",
                            : "P",
                            : "P",
                            : "P",
                            : "P",
                            : "P",
                            "": "Q",
                            : "Q",
                            : "Q",
                            : "Q",
                            : "Q",
                            "": "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            : "R",
                            "": "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            : "S",
                            "": "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "T",
                            : "TZ",
                            "": "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            : "U",
                            "": "V",
                            : "V",
                            : "V",
                            : "V",
                            : "V",
                            : "V",
                            : "V",
                            : "VY",
                            "": "W",
                            : "W",
                            : "W",
                            : "W",
                            : "W",
                            : "W",
                            : "W",
                            : "W",
                            : "W",
                            "": "X",
                            : "X",
                            : "X",
                            : "X",
                            "": "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            : "Y",
                            "": "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            : "Z",
                            "": "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "a",
                            : "aa",
                            : "ae",
                            : "ae",
                            : "ae",
                            : "ao",
                            : "au",
                            : "av",
                            : "av",
                            : "ay",
                            "": "b",
                            : "b",
                            : "b",
                            : "b",
                            : "b",
                            : "b",
                            : "b",
                            : "b",
                            "": "c",
                            : "c",
                            : "c",
                            : "c",
                            : "c",
                            : "c",
                            : "c",
                            : "c",
                            : "c",
                            : "c",
                            : "c",
                            : "c",
                            "": "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "d",
                            : "dz",
                            : "dz",
                            "": "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            : "e",
                            "": "f",
                            : "f",
                            : "f",
                            : "f",
                            : "f",
                            "": "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            : "g",
                            "": "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "h",
                            : "hv",
                            "": "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            : "i",
                            "": "j",
                            : "j",
                            : "j",
                            : "j",
                            : "j",
                            "": "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            : "k",
                            "": "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "l",
                            : "lj",
                            "": "m",
                            : "m",
                            : "m",
                            : "m",
                            : "m",
                            : "m",
                            : "m",
                            "": "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "n",
                            : "nj",
                            "": "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "o",
                            : "oi",
                            : "ou",
                            : "oo",
                            "": "p",
                            : "p",
                            : "p",
                            : "p",
                            : "p",
                            : "p",
                            : "p",
                            : "p",
                            : "p",
                            "": "q",
                            : "q",
                            : "q",
                            : "q",
                            : "q",
                            "": "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            : "r",
                            "": "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            : "s",
                            "": "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "t",
                            : "tz",
                            "": "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            : "u",
                            "": "v",
                            : "v",
                            : "v",
                            : "v",
                            : "v",
                            : "v",
                            : "v",
                            : "vy",
                            "": "w",
                            : "w",
                            : "w",
                            : "w",
                            : "w",
                            : "w",
                            : "w",
                            : "w",
                            : "w",
                            : "w",
                            "": "x",
                            : "x",
                            : "x",
                            : "x",
                            "": "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            : "y",
                            "": "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "z",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : "",
                            : ""
                        };
                        return a;
                    }),
                    b.define("select2/data/base", ["../utils"], function(a) {
                        function b(a, c) {
                            b.__super__.constructor.call(this);
                        }
                        return (
                            a.Extend(b, a.Observable),
                            (b.prototype.current = function(a) {
                                throw new Error(
                                    "The `current` method must be defined in child classes."
                                );
                            }),
                            (b.prototype.query = function(a, b) {
                                throw new Error(
                                    "The `query` method must be defined in child classes."
                                );
                            }),
                            (b.prototype.bind = function(a, b) {}),
                            (b.prototype.destroy = function() {}),
                            (b.prototype.generateResultId = function(b, c) {
                                var d = b.id + "-result-";
                                return (
                                    (d += a.generateChars(4)),
                                    (d +=
                                        null != c.id ?
                                        "-" + c.id.toString() :
                                        "-" + a.generateChars(4))
                                );
                            }),
                            b
                        );
                    }),
                    b.define(
                        "select2/data/select", ["./base", "../utils", "jquery"],
                        function(a, b, c) {
                            function d(a, b) {
                                (this.$element = a),
                                (this.options = b),
                                d.__super__.constructor.call(this);
                            }
                            return (
                                b.Extend(d, a),
                                (d.prototype.current = function(a) {
                                    var b = [],
                                        d = this;
                                    this.$element.find(":selected").each(function() {
                                            var a = c(this),
                                                e = d.item(a);
                                            b.push(e);
                                        }),
                                        a(b);
                                }),
                                (d.prototype.select = function(a) {
                                    var b = this;
                                    if (((a.selected = !0), c(a.element).is("option")))
                                        return (
                                            (a.element.selected = !0),
                                            void this.$element.trigger("change")
                                        );
                                    if (this.$element.prop("multiple"))
                                        this.current(function(d) {
                                            var e = [];
                                            (a = [a]), a.push.apply(a, d);
                                            for (var f = 0; f < a.length; f++) {
                                                var g = a[f].id; -
                                                1 === c.inArray(g, e) && e.push(g);
                                            }
                                            b.$element.val(e), b.$element.trigger("change");
                                        });
                                    else {
                                        var d = a.id;
                                        this.$element.val(d), this.$element.trigger("change");
                                    }
                                }),
                                (d.prototype.unselect = function(a) {
                                    var b = this;
                                    if (this.$element.prop("multiple"))
                                        return (
                                            (a.selected = !1),
                                            c(a.element).is("option") ?
                                            ((a.element.selected = !1),
                                                void this.$element.trigger("change")) :
                                            void this.current(function(d) {
                                                for (var e = [], f = 0; f < d.length; f++) {
                                                    var g = d[f].id;
                                                    g !== a.id && -1 === c.inArray(g, e) && e.push(g);
                                                }
                                                b.$element.val(e), b.$element.trigger("change");
                                            })
                                        );
                                }),
                                (d.prototype.bind = function(a, b) {
                                    var c = this;
                                    (this.container = a),
                                    a.on("select", function(a) {
                                            c.select(a.data);
                                        }),
                                        a.on("unselect", function(a) {
                                            c.unselect(a.data);
                                        });
                                }),
                                (d.prototype.destroy = function() {
                                    this.$element.find("*").each(function() {
                                        c.removeData(this, "data");
                                    });
                                }),
                                (d.prototype.query = function(a, b) {
                                    var d = [],
                                        e = this,
                                        f = this.$element.children();
                                    f.each(function() {
                                            var b = c(this);
                                            if (b.is("option") || b.is("optgroup")) {
                                                var f = e.item(b),
                                                    g = e.matches(a, f);
                                                null !== g && d.push(g);
                                            }
                                        }),
                                        b({ results: d });
                                }),
                                (d.prototype.addOptions = function(a) {
                                    b.appendMany(this.$element, a);
                                }),
                                (d.prototype.option = function(a) {
                                    var b;
                                    a.children ?
                                        ((b = document.createElement("optgroup")),
                                            (b.label = a.text)) :
                                        ((b = document.createElement("option")),
                                            void 0 !== b.textContent ?
                                            (b.textContent = a.text) :
                                            (b.innerText = a.text)),
                                        a.id && (b.value = a.id),
                                        a.disabled && (b.disabled = !0),
                                        a.selected && (b.selected = !0),
                                        a.title && (b.title = a.title);
                                    var d = c(b),
                                        e = this._normalizeItem(a);
                                    return (e.element = b), c.data(b, "data", e), d;
                                }),
                                (d.prototype.item = function(a) {
                                    var b = {};
                                    if (((b = c.data(a[0], "data")), null != b)) return b;
                                    if (a.is("option"))
                                        b = {
                                            id: a.val(),
                                            text: a.text(),
                                            disabled: a.prop("disabled"),
                                            selected: a.prop("selected"),
                                            title: a.prop("title")
                                        };
                                    else if (a.is("optgroup")) {
                                        b = {
                                            text: a.prop("label"),
                                            children: [],
                                            title: a.prop("title")
                                        };
                                        for (
                                            var d = a.children("option"), e = [], f = 0; f < d.length; f++
                                        ) {
                                            var g = c(d[f]),
                                                h = this.item(g);
                                            e.push(h);
                                        }
                                        b.children = e;
                                    }
                                    return (
                                        (b = this._normalizeItem(b)),
                                        (b.element = a[0]),
                                        c.data(a[0], "data", b),
                                        b
                                    );
                                }),
                                (d.prototype._normalizeItem = function(a) {
                                    c.isPlainObject(a) || (a = { id: a, text: a }),
                                        (a = c.extend({}, { text: "" }, a));
                                    var b = { selected: !1, disabled: !1 };
                                    return (
                                        null != a.id && (a.id = a.id.toString()),
                                        null != a.text && (a.text = a.text.toString()),
                                        null == a._resultId &&
                                        a.id &&
                                        null != this.container &&
                                        (a._resultId = this.generateResultId(this.container, a)),
                                        c.extend({}, b, a)
                                    );
                                }),
                                (d.prototype.matches = function(a, b) {
                                    var c = this.options.get("matcher");
                                    return c(a, b);
                                }),
                                d
                            );
                        }
                    ),
                    b.define(
                        "select2/data/array", ["./select", "../utils", "jquery"],
                        function(a, b, c) {
                            function d(a, b) {
                                var c = b.get("data") || [];
                                d.__super__.constructor.call(this, a, b),
                                    this.addOptions(this.convertToOptions(c));
                            }
                            return (
                                b.Extend(d, a),
                                (d.prototype.select = function(a) {
                                    var b = this.$element.find("option").filter(function(b, c) {
                                        return c.value == a.id.toString();
                                    });
                                    0 === b.length && ((b = this.option(a)), this.addOptions(b)),
                                        d.__super__.select.call(this, a);
                                }),
                                (d.prototype.convertToOptions = function(a) {
                                    function d(a) {
                                        return function() {
                                            return c(this).val() == a.id;
                                        };
                                    }
                                    for (
                                        var e = this,
                                            f = this.$element.find("option"),
                                            g = f
                                            .map(function() {
                                                return e.item(c(this)).id;
                                            })
                                            .get(),
                                            h = [],
                                            i = 0; i < a.length; i++
                                    ) {
                                        var j = this._normalizeItem(a[i]);
                                        if (c.inArray(j.id, g) >= 0) {
                                            var k = f.filter(d(j)),
                                                l = this.item(k),
                                                m = c.extend(!0, {}, j, l),
                                                n = this.option(m);
                                            k.replaceWith(n);
                                        } else {
                                            var o = this.option(j);
                                            if (j.children) {
                                                var p = this.convertToOptions(j.children);
                                                b.appendMany(o, p);
                                            }
                                            h.push(o);
                                        }
                                    }
                                    return h;
                                }),
                                d
                            );
                        }
                    ),
                    b.define(
                        "select2/data/ajax", ["./array", "../utils", "jquery"],
                        function(a, b, c) {
                            function d(a, b) {
                                (this.ajaxOptions = this._applyDefaults(b.get("ajax"))),
                                null != this.ajaxOptions.processResults &&
                                    (this.processResults = this.ajaxOptions.processResults),
                                    d.__super__.constructor.call(this, a, b);
                            }
                            return (
                                b.Extend(d, a),
                                (d.prototype._applyDefaults = function(a) {
                                    var b = {
                                        data: function(a) {
                                            return c.extend({}, a, { q: a.term });
                                        },
                                        transport: function(a, b, d) {
                                            var e = c.ajax(a);
                                            return e.then(b), e.fail(d), e;
                                        }
                                    };
                                    return c.extend({}, b, a, !0);
                                }),
                                (d.prototype.processResults = function(a) {
                                    return a;
                                }),
                                (d.prototype.query = function(a, b) {
                                    function d() {
                                        var d = f.transport(
                                            f,
                                            function(d) {
                                                var f = e.processResults(d, a);
                                                e.options.get("debug") &&
                                                    window.console &&
                                                    console.error &&
                                                    ((f && f.results && c.isArray(f.results)) ||
                                                        console.error(
                                                            "Select2: The AJAX results did not return an array in the `results` key of the response."
                                                        )),
                                                    b(f);
                                            },
                                            function() {
                                                (d.status && "0" === d.status) ||
                                                e.trigger("results:message", {
                                                    message: "errorLoading"
                                                });
                                            }
                                        );
                                        e._request = d;
                                    }
                                    var e = this;
                                    null != this._request &&
                                        (c.isFunction(this._request.abort) && this._request.abort(),
                                            (this._request = null));
                                    var f = c.extend({ type: "GET" }, this.ajaxOptions);
                                    "function" == typeof f.url &&
                                        (f.url = f.url.call(this.$element, a)),
                                        "function" == typeof f.data &&
                                        (f.data = f.data.call(this.$element, a)),
                                        this.ajaxOptions.delay && null != a.term ?
                                        (this._queryTimeout &&
                                            window.clearTimeout(this._queryTimeout),
                                            (this._queryTimeout = window.setTimeout(
                                                d,
                                                this.ajaxOptions.delay
                                            ))) :
                                        d();
                                }),
                                d
                            );
                        }
                    ),
                    b.define("select2/data/tags", ["jquery"], function(a) {
                        function b(b, c, d) {
                            var e = d.get("tags"),
                                f = d.get("createTag");
                            void 0 !== f && (this.createTag = f);
                            var g = d.get("insertTag");
                            if (
                                (void 0 !== g && (this.insertTag = g),
                                    b.call(this, c, d),
                                    a.isArray(e))
                            )
                                for (var h = 0; h < e.length; h++) {
                                    var i = e[h],
                                        j = this._normalizeItem(i),
                                        k = this.option(j);
                                    this.$element.append(k);
                                }
                        }
                        return (
                            (b.prototype.query = function(a, b, c) {
                                function d(a, f) {
                                    for (var g = a.results, h = 0; h < g.length; h++) {
                                        var i = g[h],
                                            j = null != i.children && !d({ results: i.children }, !0),
                                            k = i.text === b.term;
                                        if (k || j) return f ? !1 : ((a.data = g), void c(a));
                                    }
                                    if (f) return !0;
                                    var l = e.createTag(b);
                                    if (null != l) {
                                        var m = e.option(l);
                                        m.attr("data-select2-tag", !0),
                                            e.addOptions([m]),
                                            e.insertTag(g, l);
                                    }
                                    (a.results = g), c(a);
                                }
                                var e = this;
                                return (
                                    this._removeOldTags(),
                                    null == b.term || null != b.page ?
                                    void a.call(this, b, c) :
                                    void a.call(this, b, d)
                                );
                            }),
                            (b.prototype.createTag = function(b, c) {
                                var d = a.trim(c.term);
                                return "" === d ? null : { id: d, text: d };
                            }),
                            (b.prototype.insertTag = function(a, b, c) {
                                b.unshift(c);
                            }),
                            (b.prototype._removeOldTags = function(b) {
                                var c =
                                    (this._lastTag,
                                        this.$element.find("option[data-select2-tag]"));
                                c.each(function() {
                                    this.selected || a(this).remove();
                                });
                            }),
                            b
                        );
                    }),
                    b.define("select2/data/tokenizer", ["jquery"], function(a) {
                        function b(a, b, c) {
                            var d = c.get("tokenizer");
                            void 0 !== d && (this.tokenizer = d), a.call(this, b, c);
                        }
                        return (
                            (b.prototype.bind = function(a, b, c) {
                                a.call(this, b, c),
                                    (this.$search =
                                        b.dropdown.$search ||
                                        b.selection.$search ||
                                        c.find(".select2-search__field"));
                            }),
                            (b.prototype.query = function(b, c, d) {
                                function e(b) {
                                    var c = g._normalizeItem(b),
                                        d = g.$element.find("option").filter(function() {
                                            return a(this).val() === c.id;
                                        });
                                    if (!d.length) {
                                        var e = g.option(c);
                                        e.attr("data-select2-tag", !0),
                                            g._removeOldTags(),
                                            g.addOptions([e]);
                                    }
                                    f(c);
                                }

                                function f(a) {
                                    g.trigger("select", { data: a });
                                }
                                var g = this;
                                c.term = c.term || "";
                                var h = this.tokenizer(c, this.options, e);
                                h.term !== c.term &&
                                    (this.$search.length &&
                                        (this.$search.val(h.term), this.$search.focus()),
                                        (c.term = h.term)),
                                    b.call(this, c, d);
                            }),
                            (b.prototype.tokenizer = function(b, c, d, e) {
                                for (
                                    var f = d.get("tokenSeparators") || [],
                                        g = c.term,
                                        h = 0,
                                        i =
                                        this.createTag ||
                                        function(a) {
                                            return { id: a.term, text: a.term };
                                        }; h < g.length;

                                ) {
                                    var j = g[h];
                                    if (-1 !== a.inArray(j, f)) {
                                        var k = g.substr(0, h),
                                            l = a.extend({}, c, { term: k }),
                                            m = i(l);
                                        null != m ?
                                            (e(m), (g = g.substr(h + 1) || ""), (h = 0)) :
                                            h++;
                                    } else h++;
                                }
                                return { term: g };
                            }),
                            b
                        );
                    }),
                    b.define("select2/data/minimumInputLength", [], function() {
                        function a(a, b, c) {
                            (this.minimumInputLength = c.get("minimumInputLength")),
                            a.call(this, b, c);
                        }
                        return (
                            (a.prototype.query = function(a, b, c) {
                                return (
                                    (b.term = b.term || ""),
                                    b.term.length < this.minimumInputLength ?
                                    void this.trigger("results:message", {
                                        message: "inputTooShort",
                                        args: {
                                            minimum: this.minimumInputLength,
                                            input: b.term,
                                            params: b
                                        }
                                    }) :
                                    void a.call(this, b, c)
                                );
                            }),
                            a
                        );
                    }),
                    b.define("select2/data/maximumInputLength", [], function() {
                        function a(a, b, c) {
                            (this.maximumInputLength = c.get("maximumInputLength")),
                            a.call(this, b, c);
                        }
                        return (
                            (a.prototype.query = function(a, b, c) {
                                return (
                                    (b.term = b.term || ""),
                                    this.maximumInputLength > 0 &&
                                    b.term.length > this.maximumInputLength ?
                                    void this.trigger("results:message", {
                                        message: "inputTooLong",
                                        args: {
                                            maximum: this.maximumInputLength,
                                            input: b.term,
                                            params: b
                                        }
                                    }) :
                                    void a.call(this, b, c)
                                );
                            }),
                            a
                        );
                    }),
                    b.define("select2/data/maximumSelectionLength", [], function() {
                        function a(a, b, c) {
                            (this.maximumSelectionLength = c.get("maximumSelectionLength")),
                            a.call(this, b, c);
                        }
                        return (
                            (a.prototype.query = function(a, b, c) {
                                var d = this;
                                this.current(function(e) {
                                    var f = null != e ? e.length : 0;
                                    return d.maximumSelectionLength > 0 &&
                                        f >= d.maximumSelectionLength ?
                                        void d.trigger("results:message", {
                                            message: "maximumSelected",
                                            args: { maximum: d.maximumSelectionLength }
                                        }) :
                                        void a.call(d, b, c);
                                });
                            }),
                            a
                        );
                    }),
                    b.define("select2/dropdown", ["jquery", "./utils"], function(a, b) {
                        function c(a, b) {
                            (this.$element = a),
                            (this.options = b),
                            c.__super__.constructor.call(this);
                        }
                        return (
                            b.Extend(c, b.Observable),
                            (c.prototype.render = function() {
                                var b = a(
                                    '<span class="select2-dropdown"><span class="select2-results"></span></span>'
                                );
                                return (
                                    b.attr("dir", this.options.get("dir")),
                                    (this.$dropdown = b),
                                    b
                                );
                            }),
                            (c.prototype.bind = function() {}),
                            (c.prototype.position = function(a, b) {}),
                            (c.prototype.destroy = function() {
                                this.$dropdown.remove();
                            }),
                            c
                        );
                    }),
                    b.define("select2/dropdown/search", ["jquery", "../utils"], function(
                        a,
                        b
                    ) {
                        function c() {}
                        return (
                            (c.prototype.render = function(b) {
                                var c = b.call(this),
                                    d = a(
                                        '<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>'
                                    );
                                return (
                                    (this.$searchContainer = d),
                                    (this.$search = d.find("input")),
                                    c.prepend(d),
                                    c
                                );
                            }),
                            (c.prototype.bind = function(b, c, d) {
                                var e = this;
                                b.call(this, c, d),
                                    this.$search.on("keydown", function(a) {
                                        e.trigger("keypress", a),
                                            (e._keyUpPrevented = a.isDefaultPrevented());
                                    }),
                                    this.$search.on("input", function(b) {
                                        a(this).off("keyup");
                                    }),
                                    this.$search.on("keyup input", function(a) {
                                        e.handleSearch(a);
                                    }),
                                    c.on("open", function() {
                                        e.$search.attr("tabindex", 0),
                                            e.$search.focus(),
                                            window.setTimeout(function() {
                                                e.$search.focus();
                                            }, 0);
                                    }),
                                    c.on("close", function() {
                                        e.$search.attr("tabindex", -1), e.$search.val("");
                                    }),
                                    c.on("focus", function() {
                                        c.isOpen() && e.$search.focus();
                                    }),
                                    c.on("results:all", function(a) {
                                        if (null == a.query.term || "" === a.query.term) {
                                            var b = e.showSearch(a);
                                            b
                                                ?
                                                e.$searchContainer.removeClass("select2-search--hide") :
                                                e.$searchContainer.addClass("select2-search--hide");
                                        }
                                    });
                            }),
                            (c.prototype.handleSearch = function(a) {
                                if (!this._keyUpPrevented) {
                                    var b = this.$search.val();
                                    this.trigger("query", { term: b });
                                }
                                this._keyUpPrevented = !1;
                            }),
                            (c.prototype.showSearch = function(a, b) {
                                return !0;
                            }),
                            c
                        );
                    }),
                    b.define("select2/dropdown/hidePlaceholder", [], function() {
                        function a(a, b, c, d) {
                            (this.placeholder = this.normalizePlaceholder(
                                c.get("placeholder")
                            )),
                            a.call(this, b, c, d);
                        }
                        return (
                            (a.prototype.append = function(a, b) {
                                (b.results = this.removePlaceholder(b.results)),
                                a.call(this, b);
                            }),
                            (a.prototype.normalizePlaceholder = function(a, b) {
                                return "string" == typeof b && (b = { id: "", text: b }), b;
                            }),
                            (a.prototype.removePlaceholder = function(a, b) {
                                for (var c = b.slice(0), d = b.length - 1; d >= 0; d--) {
                                    var e = b[d];
                                    this.placeholder.id === e.id && c.splice(d, 1);
                                }
                                return c;
                            }),
                            a
                        );
                    }),
                    b.define("select2/dropdown/infiniteScroll", ["jquery"], function(a) {
                        function b(a, b, c, d) {
                            (this.lastParams = {}),
                            a.call(this, b, c, d),
                                (this.$loadingMore = this.createLoadingMore()),
                                (this.loading = !1);
                        }
                        return (
                            (b.prototype.append = function(a, b) {
                                this.$loadingMore.remove(),
                                    (this.loading = !1),
                                    a.call(this, b),
                                    this.showLoadingMore(b) &&
                                    this.$results.append(this.$loadingMore);
                            }),
                            (b.prototype.bind = function(b, c, d) {
                                var e = this;
                                b.call(this, c, d),
                                    c.on("query", function(a) {
                                        (e.lastParams = a), (e.loading = !0);
                                    }),
                                    c.on("query:append", function(a) {
                                        (e.lastParams = a), (e.loading = !0);
                                    }),
                                    this.$results.on("scroll", function() {
                                        var b = a.contains(
                                            document.documentElement,
                                            e.$loadingMore[0]
                                        );
                                        if (!e.loading && b) {
                                            var c =
                                                e.$results.offset().top + e.$results.outerHeight(!1),
                                                d =
                                                e.$loadingMore.offset().top +
                                                e.$loadingMore.outerHeight(!1);
                                            c + 50 >= d && e.loadMore();
                                        }
                                    });
                            }),
                            (b.prototype.loadMore = function() {
                                this.loading = !0;
                                var b = a.extend({}, { page: 1 }, this.lastParams);
                                b.page++, this.trigger("query:append", b);
                            }),
                            (b.prototype.showLoadingMore = function(a, b) {
                                return b.pagination && b.pagination.more;
                            }),
                            (b.prototype.createLoadingMore = function() {
                                var b = a(
                                        '<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'
                                    ),
                                    c = this.options.get("translations").get("loadingMore");
                                return b.html(c(this.lastParams)), b;
                            }),
                            b
                        );
                    }),
                    b.define(
                        "select2/dropdown/attachBody", ["jquery", "../utils"],
                        function(a, b) {
                            function c(b, c, d) {
                                (this.$dropdownParent =
                                    d.get("dropdownParent") || a(document.body)),
                                b.call(this, c, d);
                            }
                            return (
                                (c.prototype.bind = function(a, b, c) {
                                    var d = this,
                                        e = !1;
                                    a.call(this, b, c),
                                        b.on("open", function() {
                                            d._showDropdown(),
                                                d._attachPositioningHandler(b),
                                                e ||
                                                ((e = !0),
                                                    b.on("results:all", function() {
                                                        d._positionDropdown(), d._resizeDropdown();
                                                    }),
                                                    b.on("results:append", function() {
                                                        d._positionDropdown(), d._resizeDropdown();
                                                    }));
                                        }),
                                        b.on("close", function() {
                                            d._hideDropdown(), d._detachPositioningHandler(b);
                                        }),
                                        this.$dropdownContainer.on("mousedown", function(a) {
                                            a.stopPropagation();
                                        });
                                }),
                                (c.prototype.destroy = function(a) {
                                    a.call(this), this.$dropdownContainer.remove();
                                }),
                                (c.prototype.position = function(a, b, c) {
                                    b.attr("class", c.attr("class")),
                                        b.removeClass("select2"),
                                        b.addClass("select2-container--open"),
                                        b.css({ position: "absolute", top: -999999 }),
                                        (this.$container = c);
                                }),
                                (c.prototype.render = function(b) {
                                    var c = a("<span></span>"),
                                        d = b.call(this);
                                    return c.append(d), (this.$dropdownContainer = c), c;
                                }),
                                (c.prototype._hideDropdown = function(a) {
                                    this.$dropdownContainer.detach();
                                }),
                                (c.prototype._attachPositioningHandler = function(c, d) {
                                    var e = this,
                                        f = "scroll.select2." + d.id,
                                        g = "resize.select2." + d.id,
                                        h = "orientationchange.select2." + d.id,
                                        i = this.$container.parents().filter(b.hasScroll);
                                    i.each(function() {
                                            a(this).data("select2-scroll-position", {
                                                x: a(this).scrollLeft(),
                                                y: a(this).scrollTop()
                                            });
                                        }),
                                        i.on(f, function(b) {
                                            var c = a(this).data("select2-scroll-position");
                                            a(this).scrollTop(c.y);
                                        }),
                                        a(window).on(f + " " + g + " " + h, function(a) {
                                            e._positionDropdown(), e._resizeDropdown();
                                        });
                                }),
                                (c.prototype._detachPositioningHandler = function(c, d) {
                                    var e = "scroll.select2." + d.id,
                                        f = "resize.select2." + d.id,
                                        g = "orientationchange.select2." + d.id,
                                        h = this.$container.parents().filter(b.hasScroll);
                                    h.off(e), a(window).off(e + " " + f + " " + g);
                                }),
                                (c.prototype._positionDropdown = function() {
                                    var b = a(window),
                                        c = this.$dropdown.hasClass("select2-dropdown--above"),
                                        d = this.$dropdown.hasClass("select2-dropdown--below"),
                                        e = null,
                                        f = this.$container.offset();
                                    f.bottom = f.top + this.$container.outerHeight(!1);
                                    var g = { height: this.$container.outerHeight(!1) };
                                    (g.top = f.top), (g.bottom = f.top + g.height);
                                    var h = { height: this.$dropdown.outerHeight(!1) },
                                        i = {
                                            top: b.scrollTop(),
                                            bottom: b.scrollTop() + b.height()
                                        },
                                        j = i.top < f.top - h.height,
                                        k = i.bottom > f.bottom + h.height,
                                        l = { left: f.left, top: g.bottom },
                                        m = this.$dropdownParent;
                                    "static" === m.css("position") && (m = m.offsetParent());
                                    var n = m.offset();
                                    (l.top -= n.top),
                                    (l.left -= n.left),
                                    c || d || (e = "below"),
                                        k || !j || c ?
                                        !j && k && c && (e = "below") :
                                        (e = "above"),
                                        ("above" == e || (c && "below" !== e)) &&
                                        (l.top = g.top - n.top - h.height),
                                        null != e &&
                                        (this.$dropdown
                                            .removeClass(
                                                "select2-dropdown--below select2-dropdown--above"
                                            )
                                            .addClass("select2-dropdown--" + e),
                                            this.$container
                                            .removeClass(
                                                "select2-container--below select2-container--above"
                                            )
                                            .addClass("select2-container--" + e)),
                                        this.$dropdownContainer.css(l);
                                }),
                                (c.prototype._resizeDropdown = function() {
                                    var a = { width: this.$container.outerWidth(!1) + "px" };
                                    this.options.get("dropdownAutoWidth") &&
                                        ((a.minWidth = a.width),
                                            (a.position = "relative"),
                                            (a.width = "auto")),
                                        this.$dropdown.css(a);
                                }),
                                (c.prototype._showDropdown = function(a) {
                                    this.$dropdownContainer.appendTo(this.$dropdownParent),
                                        this._positionDropdown(),
                                        this._resizeDropdown();
                                }),
                                c
                            );
                        }
                    ),
                    b.define("select2/dropdown/minimumResultsForSearch", [], function() {
                        function a(b) {
                            for (var c = 0, d = 0; d < b.length; d++) {
                                var e = b[d];
                                e.children ? (c += a(e.children)) : c++;
                            }
                            return c;
                        }

                        function b(a, b, c, d) {
                            (this.minimumResultsForSearch = c.get("minimumResultsForSearch")),
                            this.minimumResultsForSearch < 0 &&
                                (this.minimumResultsForSearch = 1 / 0),
                                a.call(this, b, c, d);
                        }
                        return (
                            (b.prototype.showSearch = function(b, c) {
                                return a(c.data.results) < this.minimumResultsForSearch ?
                                    !1 :
                                    b.call(this, c);
                            }),
                            b
                        );
                    }),
                    b.define("select2/dropdown/selectOnClose", [], function() {
                        function a() {}
                        return (
                            (a.prototype.bind = function(a, b, c) {
                                var d = this;
                                a.call(this, b, c),
                                    b.on("close", function(a) {
                                        d._handleSelectOnClose(a);
                                    });
                            }),
                            (a.prototype._handleSelectOnClose = function(a, b) {
                                if (b && null != b.originalSelect2Event) {
                                    var c = b.originalSelect2Event;
                                    if ("select" === c._type || "unselect" === c._type) return;
                                }
                                var d = this.getHighlightedResults();
                                if (!(d.length < 1)) {
                                    var e = d.data("data");
                                    (null != e.element && e.element.selected) ||
                                    (null == e.element && e.selected) ||
                                    this.trigger("select", { data: e });
                                }
                            }),
                            a
                        );
                    }),
                    b.define("select2/dropdown/closeOnSelect", [], function() {
                        function a() {}
                        return (
                            (a.prototype.bind = function(a, b, c) {
                                var d = this;
                                a.call(this, b, c),
                                    b.on("select", function(a) {
                                        d._selectTriggered(a);
                                    }),
                                    b.on("unselect", function(a) {
                                        d._selectTriggered(a);
                                    });
                            }),
                            (a.prototype._selectTriggered = function(a, b) {
                                var c = b.originalEvent;
                                (c && c.ctrlKey) ||
                                this.trigger("close", {
                                    originalEvent: c,
                                    originalSelect2Event: b
                                });
                            }),
                            a
                        );
                    }),
                    b.define("select2/i18n/en", [], function() {
                        return {
                            errorLoading: function() {
                                return "The results could not be loaded.";
                            },
                            inputTooLong: function(a) {
                                var b = a.input.length - a.maximum,
                                    c = "Please delete " + b + " character";
                                return 1 != b && (c += "s"), c;
                            },
                            inputTooShort: function(a) {
                                var b = a.minimum - a.input.length,
                                    c = "Please enter " + b + " or more characters";
                                return c;
                            },
                            loadingMore: function() {
                                return "Loading more results";
                            },
                            maximumSelected: function(a) {
                                var b = "You can only select " + a.maximum + " item";
                                return 1 != a.maximum && (b += "s"), b;
                            },
                            noResults: function() {
                                return "No results found";
                            },
                            searching: function() {
                                return "Searching";
                            }
                        };
                    }),
                    b.define(
                        "select2/defaults", [
                            "jquery",
                            "require",
                            "./results",
                            "./selection/single",
                            "./selection/multiple",
                            "./selection/placeholder",
                            "./selection/allowClear",
                            "./selection/search",
                            "./selection/eventRelay",
                            "./utils",
                            "./translation",
                            "./diacritics",
                            "./data/select",
                            "./data/array",
                            "./data/ajax",
                            "./data/tags",
                            "./data/tokenizer",
                            "./data/minimumInputLength",
                            "./data/maximumInputLength",
                            "./data/maximumSelectionLength",
                            "./dropdown",
                            "./dropdown/search",
                            "./dropdown/hidePlaceholder",
                            "./dropdown/infiniteScroll",
                            "./dropdown/attachBody",
                            "./dropdown/minimumResultsForSearch",
                            "./dropdown/selectOnClose",
                            "./dropdown/closeOnSelect",
                            "./i18n/en"
                        ],
                        function(
                            a,
                            b,
                            c,
                            d,
                            e,
                            f,
                            g,
                            h,
                            i,
                            j,
                            k,
                            l,
                            m,
                            n,
                            o,
                            p,
                            q,
                            r,
                            s,
                            t,
                            u,
                            v,
                            w,
                            x,
                            y,
                            z,
                            A,
                            B,
                            C
                        ) {
                            function D() {
                                this.reset();
                            }
                            (D.prototype.apply = function(l) {
                                if (
                                    ((l = a.extend(!0, {}, this.defaults, l)),
                                        null == l.dataAdapter)
                                ) {
                                    if (
                                        (null != l.ajax ?
                                            (l.dataAdapter = o) :
                                            null != l.data ?
                                            (l.dataAdapter = n) :
                                            (l.dataAdapter = m),
                                            l.minimumInputLength > 0 &&
                                            (l.dataAdapter = j.Decorate(l.dataAdapter, r)),
                                            l.maximumInputLength > 0 &&
                                            (l.dataAdapter = j.Decorate(l.dataAdapter, s)),
                                            l.maximumSelectionLength > 0 &&
                                            (l.dataAdapter = j.Decorate(l.dataAdapter, t)),
                                            l.tags && (l.dataAdapter = j.Decorate(l.dataAdapter, p)),
                                            (null == l.tokenSeparators && null == l.tokenizer) ||
                                            (l.dataAdapter = j.Decorate(l.dataAdapter, q)),
                                            null != l.query)
                                    ) {
                                        var C = b(l.amdBase + "compat/query");
                                        l.dataAdapter = j.Decorate(l.dataAdapter, C);
                                    }
                                    if (null != l.initSelection) {
                                        var D = b(l.amdBase + "compat/initSelection");
                                        l.dataAdapter = j.Decorate(l.dataAdapter, D);
                                    }
                                }
                                if (
                                    (null == l.resultsAdapter &&
                                        ((l.resultsAdapter = c),
                                            null != l.ajax &&
                                            (l.resultsAdapter = j.Decorate(l.resultsAdapter, x)),
                                            null != l.placeholder &&
                                            (l.resultsAdapter = j.Decorate(l.resultsAdapter, w)),
                                            l.selectOnClose &&
                                            (l.resultsAdapter = j.Decorate(l.resultsAdapter, A))),
                                        null == l.dropdownAdapter)
                                ) {
                                    if (l.multiple) l.dropdownAdapter = u;
                                    else {
                                        var E = j.Decorate(u, v);
                                        l.dropdownAdapter = E;
                                    }
                                    if (
                                        (0 !== l.minimumResultsForSearch &&
                                            (l.dropdownAdapter = j.Decorate(l.dropdownAdapter, z)),
                                            l.closeOnSelect &&
                                            (l.dropdownAdapter = j.Decorate(l.dropdownAdapter, B)),
                                            null != l.dropdownCssClass ||
                                            null != l.dropdownCss ||
                                            null != l.adaptDropdownCssClass)
                                    ) {
                                        var F = b(l.amdBase + "compat/dropdownCss");
                                        l.dropdownAdapter = j.Decorate(l.dropdownAdapter, F);
                                    }
                                    l.dropdownAdapter = j.Decorate(l.dropdownAdapter, y);
                                }
                                if (null == l.selectionAdapter) {
                                    if (
                                        (l.multiple ?
                                            (l.selectionAdapter = e) :
                                            (l.selectionAdapter = d),
                                            null != l.placeholder &&
                                            (l.selectionAdapter = j.Decorate(l.selectionAdapter, f)),
                                            l.allowClear &&
                                            (l.selectionAdapter = j.Decorate(l.selectionAdapter, g)),
                                            l.multiple &&
                                            (l.selectionAdapter = j.Decorate(l.selectionAdapter, h)),
                                            null != l.containerCssClass ||
                                            null != l.containerCss ||
                                            null != l.adaptContainerCssClass)
                                    ) {
                                        var G = b(l.amdBase + "compat/containerCss");
                                        l.selectionAdapter = j.Decorate(l.selectionAdapter, G);
                                    }
                                    l.selectionAdapter = j.Decorate(l.selectionAdapter, i);
                                }
                                if ("string" == typeof l.language)
                                    if (l.language.indexOf("-") > 0) {
                                        var H = l.language.split("-"),
                                            I = H[0];
                                        l.language = [l.language, I];
                                    } else l.language = [l.language];
                                if (a.isArray(l.language)) {
                                    var J = new k();
                                    l.language.push("en");
                                    for (var K = l.language, L = 0; L < K.length; L++) {
                                        var M = K[L],
                                            N = {};
                                        try {
                                            N = k.loadPath(M);
                                        } catch (O) {
                                            try {
                                                (M = this.defaults.amdLanguageBase + M),
                                                (N = k.loadPath(M));
                                            } catch (P) {
                                                l.debug &&
                                                    window.console &&
                                                    console.warn &&
                                                    console.warn(
                                                        'Select2: The language file for "' +
                                                        M +
                                                        '" could not be automatically loaded. A fallback will be used instead.'
                                                    );
                                                continue;
                                            }
                                        }
                                        J.extend(N);
                                    }
                                    l.translations = J;
                                } else {
                                    var Q = k.loadPath(this.defaults.amdLanguageBase + "en"),
                                        R = new k(l.language);
                                    R.extend(Q), (l.translations = R);
                                }
                                return l;
                            }),
                            (D.prototype.reset = function() {
                                function b(a) {
                                    function b(a) {
                                        return l[a] || a;
                                    }
                                    return a.replace(/[^\u0000-\u007E]/g, b);
                                }

                                function c(d, e) {
                                    if ("" === a.trim(d.term)) return e;
                                    if (e.children && e.children.length > 0) {
                                        for (
                                            var f = a.extend(!0, {}, e), g = e.children.length - 1; g >= 0; g--
                                        ) {
                                            var h = e.children[g],
                                                i = c(d, h);
                                            null == i && f.children.splice(g, 1);
                                        }
                                        return f.children.length > 0 ? f : c(d, f);
                                    }
                                    var j = b(e.text).toUpperCase(),
                                        k = b(d.term).toUpperCase();
                                    return j.indexOf(k) > -1 ? e : null;
                                }
                                this.defaults = {
                                    amdBase: "./",
                                    amdLanguageBase: "./i18n/",
                                    closeOnSelect: !0,
                                    debug: !1,
                                    dropdownAutoWidth: !1,
                                    escapeMarkup: j.escapeMarkup,
                                    language: C,
                                    matcher: c,
                                    minimumInputLength: 0,
                                    maximumInputLength: 0,
                                    maximumSelectionLength: 0,
                                    minimumResultsForSearch: 0,
                                    selectOnClose: !1,
                                    sorter: function(a) {
                                        return a;
                                    },
                                    templateResult: function(a) {
                                        return a.text;
                                    },
                                    templateSelection: function(a) {
                                        return a.text;
                                    },
                                    theme: "default",
                                    width: "resolve"
                                };
                            }),
                            (D.prototype.set = function(b, c) {
                                var d = a.camelCase(b),
                                    e = {};
                                e[d] = c;
                                var f = j._convertData(e);
                                a.extend(this.defaults, f);
                            });
                            var E = new D();
                            return E;
                        }
                    ),
                    b.define(
                        "select2/options", ["require", "jquery", "./defaults", "./utils"],
                        function(a, b, c, d) {
                            function e(b, e) {
                                if (
                                    ((this.options = b),
                                        null != e && this.fromElement(e),
                                        (this.options = c.apply(this.options)),
                                        e && e.is("input"))
                                ) {
                                    var f = a(this.get("amdBase") + "compat/inputData");
                                    this.options.dataAdapter = d.Decorate(
                                        this.options.dataAdapter,
                                        f
                                    );
                                }
                            }
                            return (
                                (e.prototype.fromElement = function(a) {
                                    var c = ["select2"];
                                    null == this.options.multiple &&
                                        (this.options.multiple = a.prop("multiple")),
                                        null == this.options.disabled &&
                                        (this.options.disabled = a.prop("disabled")),
                                        null == this.options.language &&
                                        (a.prop("lang") ?
                                            (this.options.language = a.prop("lang").toLowerCase()) :
                                            a.closest("[lang]").prop("lang") &&
                                            (this.options.language = a
                                                .closest("[lang]")
                                                .prop("lang"))),
                                        null == this.options.dir &&
                                        (a.prop("dir") ?
                                            (this.options.dir = a.prop("dir")) :
                                            a.closest("[dir]").prop("dir") ?
                                            (this.options.dir = a.closest("[dir]").prop("dir")) :
                                            (this.options.dir = "ltr")),
                                        a.prop("disabled", this.options.disabled),
                                        a.prop("multiple", this.options.multiple),
                                        a.data("select2Tags") &&
                                        (this.options.debug &&
                                            window.console &&
                                            console.warn &&
                                            console.warn(
                                                'Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'
                                            ),
                                            a.data("data", a.data("select2Tags")),
                                            a.data("tags", !0)),
                                        a.data("ajaxUrl") &&
                                        (this.options.debug &&
                                            window.console &&
                                            console.warn &&
                                            console.warn(
                                                "Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."
                                            ),
                                            a.attr("ajax--url", a.data("ajaxUrl")),
                                            a.data("ajax--url", a.data("ajaxUrl")));
                                    var e = {};
                                    e =
                                        b.fn.jquery &&
                                        "1." == b.fn.jquery.substr(0, 2) &&
                                        a[0].dataset ?
                                        b.extend(!0, {}, a[0].dataset, a.data()) :
                                        a.data();
                                    var f = b.extend(!0, {}, e);
                                    f = d._convertData(f);
                                    for (var g in f)
                                        b.inArray(g, c) > -1 ||
                                        (b.isPlainObject(this.options[g]) ?
                                            b.extend(this.options[g], f[g]) :
                                            (this.options[g] = f[g]));
                                    return this;
                                }),
                                (e.prototype.get = function(a) {
                                    return this.options[a];
                                }),
                                (e.prototype.set = function(a, b) {
                                    this.options[a] = b;
                                }),
                                e
                            );
                        }
                    ),
                    b.define(
                        "select2/core", ["jquery", "./options", "./utils", "./keys"],
                        function(a, b, c, d) {
                            var e = function(a, c) {
                                null != a.data("select2") && a.data("select2").destroy(),
                                    (this.$element = a),
                                    (this.id = this._generateId(a)),
                                    (c = c || {}),
                                    (this.options = new b(c, a)),
                                    e.__super__.constructor.call(this);
                                var d = a.attr("tabindex") || 0;
                                a.data("old-tabindex", d), a.attr("tabindex", "-1");
                                var f = this.options.get("dataAdapter");
                                this.dataAdapter = new f(a, this.options);
                                var g = this.render();
                                this._placeContainer(g);
                                var h = this.options.get("selectionAdapter");
                                (this.selection = new h(a, this.options)),
                                (this.$selection = this.selection.render()),
                                this.selection.position(this.$selection, g);
                                var i = this.options.get("dropdownAdapter");
                                (this.dropdown = new i(a, this.options)),
                                (this.$dropdown = this.dropdown.render()),
                                this.dropdown.position(this.$dropdown, g);
                                var j = this.options.get("resultsAdapter");
                                (this.results = new j(a, this.options, this.dataAdapter)),
                                (this.$results = this.results.render()),
                                this.results.position(this.$results, this.$dropdown);
                                var k = this;
                                this._bindAdapters(),
                                    this._registerDomEvents(),
                                    this._registerDataEvents(),
                                    this._registerSelectionEvents(),
                                    this._registerDropdownEvents(),
                                    this._registerResultsEvents(),
                                    this._registerEvents(),
                                    this.dataAdapter.current(function(a) {
                                        k.trigger("selection:update", { data: a });
                                    }),
                                    a.addClass("select2-hidden-accessible"),
                                    a.attr("aria-hidden", "true"),
                                    this._syncAttributes(),
                                    a.data("select2", this);
                            };
                            return (
                                c.Extend(e, c.Observable),
                                (e.prototype._generateId = function(a) {
                                    var b = "";
                                    return (
                                        (b =
                                            null != a.attr("id") ?
                                            a.attr("id") :
                                            null != a.attr("name") ?
                                            a.attr("name") + "-" + c.generateChars(2) :
                                            c.generateChars(4)),
                                        (b = b.replace(/(:|\.|\[|\]|,)/g, "")),
                                        (b = "select2-" + b)
                                    );
                                }),
                                (e.prototype._placeContainer = function(a) {
                                    a.insertAfter(this.$element);
                                    var b = this._resolveWidth(
                                        this.$element,
                                        this.options.get("width")
                                    );
                                    null != b && a.css("width", b);
                                }),
                                (e.prototype._resolveWidth = function(a, b) {
                                    var c = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;
                                    if ("resolve" == b) {
                                        var d = this._resolveWidth(a, "style");
                                        return null != d ? d : this._resolveWidth(a, "element");
                                    }
                                    if ("element" == b) {
                                        var e = a.outerWidth(!1);
                                        return 0 >= e ? "auto" : e + "px";
                                    }
                                    if ("style" == b) {
                                        var f = a.attr("style");
                                        if ("string" != typeof f) return null;
                                        for (
                                            var g = f.split(";"), h = 0, i = g.length; i > h; h += 1
                                        ) {
                                            var j = g[h].replace(/\s/g, ""),
                                                k = j.match(c);
                                            if (null !== k && k.length >= 1) return k[1];
                                        }
                                        return null;
                                    }
                                    return b;
                                }),
                                (e.prototype._bindAdapters = function() {
                                    this.dataAdapter.bind(this, this.$container),
                                        this.selection.bind(this, this.$container),
                                        this.dropdown.bind(this, this.$container),
                                        this.results.bind(this, this.$container);
                                }),
                                (e.prototype._registerDomEvents = function() {
                                    var b = this;
                                    this.$element.on("change.select2", function() {
                                            b.dataAdapter.current(function(a) {
                                                b.trigger("selection:update", { data: a });
                                            });
                                        }),
                                        this.$element.on("focus.select2", function(a) {
                                            b.trigger("focus", a);
                                        }),
                                        (this._syncA = c.bind(this._syncAttributes, this)),
                                        (this._syncS = c.bind(this._syncSubtree, this)),
                                        this.$element[0].attachEvent &&
                                        this.$element[0].attachEvent(
                                            "onpropertychange",
                                            this._syncA
                                        );
                                    var d =
                                        window.MutationObserver ||
                                        window.WebKitMutationObserver ||
                                        window.MozMutationObserver;
                                    null != d ?
                                        ((this._observer = new d(function(c) {
                                                a.each(c, b._syncA), a.each(c, b._syncS);
                                            })),
                                            this._observer.observe(this.$element[0], {
                                                attributes: !0,
                                                childList: !0,
                                                subtree: !1
                                            })) :
                                        this.$element[0].addEventListener &&
                                        (this.$element[0].addEventListener(
                                                "DOMAttrModified",
                                                b._syncA, !1
                                            ),
                                            this.$element[0].addEventListener(
                                                "DOMNodeInserted",
                                                b._syncS, !1
                                            ),
                                            this.$element[0].addEventListener(
                                                "DOMNodeRemoved",
                                                b._syncS, !1
                                            ));
                                }),
                                (e.prototype._registerDataEvents = function() {
                                    var a = this;
                                    this.dataAdapter.on("*", function(b, c) {
                                        a.trigger(b, c);
                                    });
                                }),
                                (e.prototype._registerSelectionEvents = function() {
                                    var b = this,
                                        c = ["toggle", "focus"];
                                    this.selection.on("toggle", function() {
                                            b.toggleDropdown();
                                        }),
                                        this.selection.on("focus", function(a) {
                                            b.focus(a);
                                        }),
                                        this.selection.on("*", function(d, e) {
                                            -1 === a.inArray(d, c) && b.trigger(d, e);
                                        });
                                }),
                                (e.prototype._registerDropdownEvents = function() {
                                    var a = this;
                                    this.dropdown.on("*", function(b, c) {
                                        a.trigger(b, c);
                                    });
                                }),
                                (e.prototype._registerResultsEvents = function() {
                                    var a = this;
                                    this.results.on("*", function(b, c) {
                                        a.trigger(b, c);
                                    });
                                }),
                                (e.prototype._registerEvents = function() {
                                    var a = this;
                                    this.on("open", function() {
                                            a.$container.addClass("select2-container--open");
                                        }),
                                        this.on("close", function() {
                                            a.$container.removeClass("select2-container--open");
                                        }),
                                        this.on("enable", function() {
                                            a.$container.removeClass("select2-container--disabled");
                                        }),
                                        this.on("disable", function() {
                                            a.$container.addClass("select2-container--disabled");
                                        }),
                                        this.on("blur", function() {
                                            a.$container.removeClass("select2-container--focus");
                                        }),
                                        this.on("query", function(b) {
                                            a.isOpen() || a.trigger("open", {}),
                                                this.dataAdapter.query(b, function(c) {
                                                    a.trigger("results:all", { data: c, query: b });
                                                });
                                        }),
                                        this.on("query:append", function(b) {
                                            this.dataAdapter.query(b, function(c) {
                                                a.trigger("results:append", { data: c, query: b });
                                            });
                                        }),
                                        this.on("keypress", function(b) {
                                            var c = b.which;
                                            a.isOpen() ?
                                                c === d.ESC || c === d.TAB || (c === d.UP && b.altKey) ?
                                                (a.close(), b.preventDefault()) :
                                                c === d.ENTER ?
                                                (a.trigger("results:select", {}),
                                                    b.preventDefault()) :
                                                c === d.SPACE && b.ctrlKey ?
                                                (a.trigger("results:toggle", {}),
                                                    b.preventDefault()) :
                                                c === d.UP ?
                                                (a.trigger("results:previous", {}),
                                                    b.preventDefault()) :
                                                c === d.DOWN &&
                                                (a.trigger("results:next", {}), b.preventDefault()) :
                                                (c === d.ENTER ||
                                                    c === d.SPACE ||
                                                    (c === d.DOWN && b.altKey)) &&
                                                (a.open(), b.preventDefault());
                                        });
                                }),
                                (e.prototype._syncAttributes = function() {
                                    this.options.set("disabled", this.$element.prop("disabled")),
                                        this.options.get("disabled") ?
                                        (this.isOpen() && this.close(),
                                            this.trigger("disable", {})) :
                                        this.trigger("enable", {});
                                }),
                                (e.prototype._syncSubtree = function(a, b) {
                                    var c = !1,
                                        d = this;
                                    if (!a ||
                                        !a.target ||
                                        "OPTION" === a.target.nodeName ||
                                        "OPTGROUP" === a.target.nodeName
                                    ) {
                                        if (b)
                                            if (b.addedNodes && b.addedNodes.length > 0)
                                                for (var e = 0; e < b.addedNodes.length; e++) {
                                                    var f = b.addedNodes[e];
                                                    f.selected && (c = !0);
                                                }
                                            else
                                                b.removedNodes && b.removedNodes.length > 0 && (c = !0);
                                        else c = !0;
                                        c &&
                                            this.dataAdapter.current(function(a) {
                                                d.trigger("selection:update", { data: a });
                                            });
                                    }
                                }),
                                (e.prototype.trigger = function(a, b) {
                                    var c = e.__super__.trigger,
                                        d = {
                                            open: "opening",
                                            close: "closing",
                                            select: "selecting",
                                            unselect: "unselecting"
                                        };
                                    if ((void 0 === b && (b = {}), a in d)) {
                                        var f = d[a],
                                            g = { prevented: !1, name: a, args: b };
                                        if ((c.call(this, f, g), g.prevented))
                                            return void(b.prevented = !0);
                                    }
                                    c.call(this, a, b);
                                }),
                                (e.prototype.toggleDropdown = function() {
                                    this.options.get("disabled") ||
                                        (this.isOpen() ? this.close() : this.open());
                                }),
                                (e.prototype.open = function() {
                                    this.isOpen() || this.trigger("query", {});
                                }),
                                (e.prototype.close = function() {
                                    this.isOpen() && this.trigger("close", {});
                                }),
                                (e.prototype.isOpen = function() {
                                    return this.$container.hasClass("select2-container--open");
                                }),
                                (e.prototype.hasFocus = function() {
                                    return this.$container.hasClass("select2-container--focus");
                                }),
                                (e.prototype.focus = function(a) {
                                    this.hasFocus() ||
                                        (this.$container.addClass("select2-container--focus"),
                                            this.trigger("focus", {}));
                                }),
                                (e.prototype.enable = function(a) {
                                    this.options.get("debug") &&
                                        window.console &&
                                        console.warn &&
                                        console.warn(
                                            'Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'
                                        ),
                                        (null != a && 0 !== a.length) || (a = [!0]);
                                    var b = !a[0];
                                    this.$element.prop("disabled", b);
                                }),
                                (e.prototype.data = function() {
                                    this.options.get("debug") &&
                                        arguments.length > 0 &&
                                        window.console &&
                                        console.warn &&
                                        console.warn(
                                            'Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.'
                                        );
                                    var a = [];
                                    return (
                                        this.dataAdapter.current(function(b) {
                                            a = b;
                                        }),
                                        a
                                    );
                                }),
                                (e.prototype.val = function(b) {
                                    if (
                                        (this.options.get("debug") &&
                                            window.console &&
                                            console.warn &&
                                            console.warn(
                                                'Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'
                                            ),
                                            null == b || 0 === b.length)
                                    )
                                        return this.$element.val();
                                    var c = b[0];
                                    a.isArray(c) &&
                                        (c = a.map(c, function(a) {
                                            return a.toString();
                                        })),
                                        this.$element.val(c).trigger("change");
                                }),
                                (e.prototype.destroy = function() {
                                    this.$container.remove(),
                                        this.$element[0].detachEvent &&
                                        this.$element[0].detachEvent(
                                            "onpropertychange",
                                            this._syncA
                                        ),
                                        null != this._observer ?
                                        (this._observer.disconnect(), (this._observer = null)) :
                                        this.$element[0].removeEventListener &&
                                        (this.$element[0].removeEventListener(
                                                "DOMAttrModified",
                                                this._syncA, !1
                                            ),
                                            this.$element[0].removeEventListener(
                                                "DOMNodeInserted",
                                                this._syncS, !1
                                            ),
                                            this.$element[0].removeEventListener(
                                                "DOMNodeRemoved",
                                                this._syncS, !1
                                            )),
                                        (this._syncA = null),
                                        (this._syncS = null),
                                        this.$element.off(".select2"),
                                        this.$element.attr(
                                            "tabindex",
                                            this.$element.data("old-tabindex")
                                        ),
                                        this.$element.removeClass("select2-hidden-accessible"),
                                        this.$element.attr("aria-hidden", "false"),
                                        this.$element.removeData("select2"),
                                        this.dataAdapter.destroy(),
                                        this.selection.destroy(),
                                        this.dropdown.destroy(),
                                        this.results.destroy(),
                                        (this.dataAdapter = null),
                                        (this.selection = null),
                                        (this.dropdown = null),
                                        (this.results = null);
                                }),
                                (e.prototype.render = function() {
                                    var b = a(
                                        '<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>'
                                    );
                                    return (
                                        b.attr("dir", this.options.get("dir")),
                                        (this.$container = b),
                                        this.$container.addClass(
                                            "select2-container--" + this.options.get("theme")
                                        ),
                                        b.data("element", this.$element),
                                        b
                                    );
                                }),
                                e
                            );
                        }
                    ),
                    b.define("select2/compat/utils", ["jquery"], function(a) {
                        function b(b, c, d) {
                            var e,
                                f,
                                g = [];
                            (e = a.trim(b.attr("class"))),
                            e &&
                                ((e = "" + e),
                                    a(e.split(/\s+/)).each(function() {
                                        0 === this.indexOf("select2-") && g.push(this);
                                    })),
                                (e = a.trim(c.attr("class"))),
                                e &&
                                ((e = "" + e),
                                    a(e.split(/\s+/)).each(function() {
                                        0 !== this.indexOf("select2-") &&
                                            ((f = d(this)), null != f && g.push(f));
                                    })),
                                b.attr("class", g.join(" "));
                        }
                        return { syncCssClasses: b };
                    }),
                    b.define(
                        "select2/compat/containerCss", ["jquery", "./utils"],
                        function(a, b) {
                            function c(a) {
                                return null;
                            }

                            function d() {}
                            return (
                                (d.prototype.render = function(d) {
                                    var e = d.call(this),
                                        f = this.options.get("containerCssClass") || "";
                                    a.isFunction(f) && (f = f(this.$element));
                                    var g = this.options.get("adaptContainerCssClass");
                                    if (((g = g || c), -1 !== f.indexOf(":all:"))) {
                                        f = f.replace(":all:", "");
                                        var h = g;
                                        g = function(a) {
                                            var b = h(a);
                                            return null != b ? b + " " + a : a;
                                        };
                                    }
                                    var i = this.options.get("containerCss") || {};
                                    return (
                                        a.isFunction(i) && (i = i(this.$element)),
                                        b.syncCssClasses(e, this.$element, g),
                                        e.css(i),
                                        e.addClass(f),
                                        e
                                    );
                                }),
                                d
                            );
                        }
                    ),
                    b.define(
                        "select2/compat/dropdownCss", ["jquery", "./utils"],
                        function(a, b) {
                            function c(a) {
                                return null;
                            }

                            function d() {}
                            return (
                                (d.prototype.render = function(d) {
                                    var e = d.call(this),
                                        f = this.options.get("dropdownCssClass") || "";
                                    a.isFunction(f) && (f = f(this.$element));
                                    var g = this.options.get("adaptDropdownCssClass");
                                    if (((g = g || c), -1 !== f.indexOf(":all:"))) {
                                        f = f.replace(":all:", "");
                                        var h = g;
                                        g = function(a) {
                                            var b = h(a);
                                            return null != b ? b + " " + a : a;
                                        };
                                    }
                                    var i = this.options.get("dropdownCss") || {};
                                    return (
                                        a.isFunction(i) && (i = i(this.$element)),
                                        b.syncCssClasses(e, this.$element, g),
                                        e.css(i),
                                        e.addClass(f),
                                        e
                                    );
                                }),
                                d
                            );
                        }
                    ),
                    b.define("select2/compat/initSelection", ["jquery"], function(a) {
                        function b(a, b, c) {
                            c.get("debug") &&
                                window.console &&
                                console.warn &&
                                console.warn(
                                    "Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"
                                ),
                                (this.initSelection = c.get("initSelection")),
                                (this._isInitialized = !1),
                                a.call(this, b, c);
                        }
                        return (
                            (b.prototype.current = function(b, c) {
                                var d = this;
                                return this._isInitialized ?
                                    void b.call(this, c) :
                                    void this.initSelection.call(null, this.$element, function(
                                        b
                                    ) {
                                        (d._isInitialized = !0), a.isArray(b) || (b = [b]), c(b);
                                    });
                            }),
                            b
                        );
                    }),
                    b.define("select2/compat/inputData", ["jquery"], function(a) {
                        function b(a, b, c) {
                            (this._currentData = []),
                            (this._valueSeparator = c.get("valueSeparator") || ","),
                            "hidden" === b.prop("type") &&
                                c.get("debug") &&
                                console &&
                                console.warn &&
                                console.warn(
                                    "Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."
                                ),
                                a.call(this, b, c);
                        }
                        return (
                            (b.prototype.current = function(b, c) {
                                function d(b, c) {
                                    var e = [];
                                    return (
                                        b.selected || -1 !== a.inArray(b.id, c) ?
                                        ((b.selected = !0), e.push(b)) :
                                        (b.selected = !1),
                                        b.children && e.push.apply(e, d(b.children, c)),
                                        e
                                    );
                                }
                                for (var e = [], f = 0; f < this._currentData.length; f++) {
                                    var g = this._currentData[f];
                                    e.push.apply(
                                        e,
                                        d(g, this.$element.val().split(this._valueSeparator))
                                    );
                                }
                                c(e);
                            }),
                            (b.prototype.select = function(b, c) {
                                if (this.options.get("multiple")) {
                                    var d = this.$element.val();
                                    (d += this._valueSeparator + c.id),
                                    this.$element.val(d),
                                        this.$element.trigger("change");
                                } else
                                    this.current(function(b) {
                                        a.map(b, function(a) {
                                            a.selected = !1;
                                        });
                                    }),
                                    this.$element.val(c.id),
                                    this.$element.trigger("change");
                            }),
                            (b.prototype.unselect = function(a, b) {
                                var c = this;
                                (b.selected = !1),
                                this.current(function(a) {
                                    for (var d = [], e = 0; e < a.length; e++) {
                                        var f = a[e];
                                        b.id != f.id && d.push(f.id);
                                    }
                                    c.$element.val(d.join(c._valueSeparator)),
                                        c.$element.trigger("change");
                                });
                            }),
                            (b.prototype.query = function(a, b, c) {
                                for (var d = [], e = 0; e < this._currentData.length; e++) {
                                    var f = this._currentData[e],
                                        g = this.matches(b, f);
                                    null !== g && d.push(g);
                                }
                                c({ results: d });
                            }),
                            (b.prototype.addOptions = function(b, c) {
                                var d = a.map(c, function(b) {
                                    return a.data(b[0], "data");
                                });
                                this._currentData.push.apply(this._currentData, d);
                            }),
                            b
                        );
                    }),
                    b.define("select2/compat/matcher", ["jquery"], function(a) {
                        function b(b) {
                            function c(c, d) {
                                var e = a.extend(!0, {}, d);
                                if (null == c.term || "" === a.trim(c.term)) return e;
                                if (d.children) {
                                    for (var f = d.children.length - 1; f >= 0; f--) {
                                        var g = d.children[f],
                                            h = b(c.term, g.text, g);
                                        h || e.children.splice(f, 1);
                                    }
                                    if (e.children.length > 0) return e;
                                }
                                return b(c.term, d.text, d) ? e : null;
                            }
                            return c;
                        }
                        return b;
                    }),
                    b.define("select2/compat/query", [], function() {
                        function a(a, b, c) {
                            c.get("debug") &&
                                window.console &&
                                console.warn &&
                                console.warn(
                                    "Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."
                                ),
                                a.call(this, b, c);
                        }
                        return (
                            (a.prototype.query = function(a, b, c) {
                                b.callback = c;
                                var d = this.options.get("query");
                                d.call(null, b);
                            }),
                            a
                        );
                    }),
                    b.define("select2/dropdown/attachContainer", [], function() {
                        function a(a, b, c) {
                            a.call(this, b, c);
                        }
                        return (
                            (a.prototype.position = function(a, b, c) {
                                var d = c.find(".dropdown-wrapper");
                                d.append(b),
                                    b.addClass("select2-dropdown--below"),
                                    c.addClass("select2-container--below");
                            }),
                            a
                        );
                    }),
                    b.define("select2/dropdown/stopPropagation", [], function() {
                        function a() {}
                        return (
                            (a.prototype.bind = function(a, b, c) {
                                a.call(this, b, c);
                                var d = [
                                    "blur",
                                    "change",
                                    "click",
                                    "dblclick",
                                    "focus",
                                    "focusin",
                                    "focusout",
                                    "input",
                                    "keydown",
                                    "keyup",
                                    "keypress",
                                    "mousedown",
                                    "mouseenter",
                                    "mouseleave",
                                    "mousemove",
                                    "mouseover",
                                    "mouseup",
                                    "search",
                                    "touchend",
                                    "touchstart"
                                ];
                                this.$dropdown.on(d.join(" "), function(a) {
                                    a.stopPropagation();
                                });
                            }),
                            a
                        );
                    }),
                    b.define("select2/selection/stopPropagation", [], function() {
                        function a() {}
                        return (
                            (a.prototype.bind = function(a, b, c) {
                                a.call(this, b, c);
                                var d = [
                                    "blur",
                                    "change",
                                    "click",
                                    "dblclick",
                                    "focus",
                                    "focusin",
                                    "focusout",
                                    "input",
                                    "keydown",
                                    "keyup",
                                    "keypress",
                                    "mousedown",
                                    "mouseenter",
                                    "mouseleave",
                                    "mousemove",
                                    "mouseover",
                                    "mouseup",
                                    "search",
                                    "touchend",
                                    "touchstart"
                                ];
                                this.$selection.on(d.join(" "), function(a) {
                                    a.stopPropagation();
                                });
                            }),
                            a
                        );
                    }),
                    (function(c) {
                        "function" == typeof b.define && b.define.amd ?
                            b.define("jquery-mousewheel", ["jquery"], c) :
                            "object" == typeof exports ?
                            (module.exports = c) :
                            c(a);
                    })(function(a) {
                        function b(b) {
                            var g = b || window.event,
                                h = i.call(arguments, 1),
                                j = 0,
                                l = 0,
                                m = 0,
                                n = 0,
                                o = 0,
                                p = 0;
                            if (
                                ((b = a.event.fix(g)),
                                    (b.type = "mousewheel"),
                                    "detail" in g && (m = -1 * g.detail),
                                    "wheelDelta" in g && (m = g.wheelDelta),
                                    "wheelDeltaY" in g && (m = g.wheelDeltaY),
                                    "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX),
                                    "axis" in g &&
                                    g.axis === g.HORIZONTAL_AXIS &&
                                    ((l = -1 * m), (m = 0)),
                                    (j = 0 === m ? l : m),
                                    "deltaY" in g && ((m = -1 * g.deltaY), (j = m)),
                                    "deltaX" in g && ((l = g.deltaX), 0 === m && (j = -1 * l)),
                                    0 !== m || 0 !== l)
                            ) {
                                if (1 === g.deltaMode) {
                                    var q = a.data(this, "mousewheel-line-height");
                                    (j *= q), (m *= q), (l *= q);
                                } else if (2 === g.deltaMode) {
                                    var r = a.data(this, "mousewheel-page-height");
                                    (j *= r), (m *= r), (l *= r);
                                }
                                if (
                                    ((n = Math.max(Math.abs(m), Math.abs(l))),
                                        (!f || f > n) && ((f = n), d(g, n) && (f /= 40)),
                                        d(g, n) && ((j /= 40), (l /= 40), (m /= 40)),
                                        (j = Math[j >= 1 ? "floor" : "ceil"](j / f)),
                                        (l = Math[l >= 1 ? "floor" : "ceil"](l / f)),
                                        (m = Math[m >= 1 ? "floor" : "ceil"](m / f)),
                                        k.settings.normalizeOffset && this.getBoundingClientRect)
                                ) {
                                    var s = this.getBoundingClientRect();
                                    (o = b.clientX - s.left), (p = b.clientY - s.top);
                                }
                                return (
                                    (b.deltaX = l),
                                    (b.deltaY = m),
                                    (b.deltaFactor = f),
                                    (b.offsetX = o),
                                    (b.offsetY = p),
                                    (b.deltaMode = 0),
                                    h.unshift(b, j, l, m),
                                    e && clearTimeout(e),
                                    (e = setTimeout(c, 200)),
                                    (a.event.dispatch || a.event.handle).apply(this, h)
                                );
                            }
                        }

                        function c() {
                            f = null;
                        }

                        function d(a, b) {
                            return (
                                k.settings.adjustOldDeltas &&
                                "mousewheel" === a.type &&
                                b % 120 === 0
                            );
                        }
                        var e,
                            f,
                            g = [
                                "wheel",
                                "mousewheel",
                                "DOMMouseScroll",
                                "MozMousePixelScroll"
                            ],
                            h =
                            "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
                            i = Array.prototype.slice;
                        if (a.event.fixHooks)
                            for (var j = g.length; j;)
                                a.event.fixHooks[g[--j]] = a.event.mouseHooks;
                        var k = (a.event.special.mousewheel = {
                            version: "3.1.12",
                            setup: function() {
                                if (this.addEventListener)
                                    for (var c = h.length; c;)
                                        this.addEventListener(h[--c], b, !1);
                                else this.onmousewheel = b;
                                a.data(this, "mousewheel-line-height", k.getLineHeight(this)),
                                    a.data(this, "mousewheel-page-height", k.getPageHeight(this));
                            },
                            teardown: function() {
                                if (this.removeEventListener)
                                    for (var c = h.length; c;)
                                        this.removeEventListener(h[--c], b, !1);
                                else this.onmousewheel = null;
                                a.removeData(this, "mousewheel-line-height"),
                                    a.removeData(this, "mousewheel-page-height");
                            },
                            getLineHeight: function(b) {
                                var c = a(b),
                                    d = c["offsetParent" in a.fn ? "offsetParent" : "parent"]();
                                return (
                                    d.length || (d = a("body")),
                                    parseInt(d.css("fontSize"), 10) ||
                                    parseInt(c.css("fontSize"), 10) ||
                                    16
                                );
                            },
                            getPageHeight: function(b) {
                                return a(b).height();
                            },
                            settings: { adjustOldDeltas: !0, normalizeOffset: !0 }
                        });
                        a.fn.extend({
                            mousewheel: function(a) {
                                return a ?
                                    this.bind("mousewheel", a) :
                                    this.trigger("mousewheel");
                            },
                            unmousewheel: function(a) {
                                return this.unbind("mousewheel", a);
                            }
                        });
                    }),
                    b.define(
                        "jquery.select2", [
                            "jquery",
                            "jquery-mousewheel",
                            "./select2/core",
                            "./select2/defaults"
                        ],
                        function(a, b, c, d) {
                            if (null == a.fn.select2) {
                                var e = ["open", "close", "destroy"];
                                a.fn.select2 = function(b) {
                                    if (((b = b || {}), "object" == typeof b))
                                        return (
                                            this.each(function() {
                                                var d = a.extend(!0, {}, b);
                                                new c(a(this), d);
                                            }),
                                            this
                                        );
                                    if ("string" == typeof b) {
                                        var d,
                                            f = Array.prototype.slice.call(arguments, 1);
                                        return (
                                            this.each(function() {
                                                var c = a(this).data("select2");
                                                null == c &&
                                                    window.console &&
                                                    console.error &&
                                                    console.error(
                                                        "The select2('" +
                                                        b +
                                                        "') method was called on an element that is not using Select2."
                                                    ),
                                                    (d = c[b].apply(c, f));
                                            }),
                                            a.inArray(b, e) > -1 ? this : d
                                        );
                                    }
                                    throw new Error("Invalid arguments for Select2: " + b);
                                };
                            }
                            return (
                                null == a.fn.select2.defaults && (a.fn.select2.defaults = d), c
                            );
                        }
                    ), { define: b.define, require: b.require }
                );
            })(),
            c = b.require("jquery.select2");
        return (a.fn.select2.amd = b), c;
    }),
    (function(a, b, c) {
        "use strict";
        !(function d(a, b, c) {
            function e(g, h) {
                if (!b[g]) {
                    if (!a[g]) {
                        var i = "function" == typeof require && require;
                        if (!h && i) return i(g, !0);
                        if (f) return f(g, !0);
                        var j = new Error("Cannot find module '" + g + "'");
                        throw ((j.code = "MODULE_NOT_FOUND"), j);
                    }
                    var k = (b[g] = { exports: {} });
                    a[g][0].call(
                        k.exports,
                        function(b) {
                            var c = a[g][1][b];
                            return e(c ? c : b);
                        },
                        k,
                        k.exports,
                        d,
                        a,
                        b,
                        c
                    );
                }
                return b[g].exports;
            }
            for (
                var f = "function" == typeof require && require, g = 0; g < c.length; g++
            )
                e(c[g]);
            return e;
        })({
            1: [
                function(d, e, f) {
                    var g = function(a) {
                        return a && a.__esModule ? a : { default: a };
                    };
                    Object.defineProperty(f, "__esModule", { value: !0 });
                    var h,
                        i,
                        j,
                        k,
                        l = d("./modules/handle-dom"),
                        m = d("./modules/utils"),
                        n = d("./modules/handle-swal-dom"),
                        o = d("./modules/handle-click"),
                        p = d("./modules/handle-key"),
                        q = g(p),
                        r = d("./modules/default-params"),
                        s = g(r),
                        t = d("./modules/set-params"),
                        u = g(t);
                    (f["default"] = j = k = function() {
                        function d(a) {
                            var b = e;
                            return b[a] === c ? s["default"][a] : b[a];
                        }
                        var e = arguments[0];
                        if (
                            (l.addClass(b.body, "stop-scrolling"), n.resetInput(), e === c)
                        )
                            return m.logStr("SweetAlert expects at least 1 attribute!"), !1;
                        var f = m.extend({}, s["default"]);
                        switch (typeof e) {
                            case "string":
                                (f.title = e),
                                (f.text = arguments[1] || ""),
                                (f.type = arguments[2] || "");
                                break;
                            case "object":
                                if (e.title === c)
                                    return m.logStr('Missing "title" argument!'), !1;
                                f.title = e.title;
                                for (var g in s["default"]) f[g] = d(g);
                                (f.confirmButtonText = f.showCancelButton ?
                                    "Confirm" :
                                    s["default"].confirmButtonText),
                                (f.confirmButtonText = d("confirmButtonText")),
                                (f.doneFunction = arguments[1] || null);
                                break;
                            default:
                                return (
                                    m.logStr(
                                        'Unexpected type of argument! Expected "string" or "object", got ' +
                                        typeof e
                                    ), !1
                                );
                        }
                        u["default"](f),
                            n.fixVerticalPosition(),
                            n.openModal(arguments[1]);
                        for (
                            var j = n.getModal(),
                                p = j.querySelectorAll("button"),
                                r = [
                                    "onclick",
                                    "onmouseover",
                                    "onmouseout",
                                    "onmousedown",
                                    "onmouseup",
                                    "onfocus"
                                ],
                                t = function(a) {
                                    return o.handleButton(a, f, j);
                                },
                                v = 0; v < p.length; v++
                        )
                            for (var w = 0; w < r.length; w++) {
                                var x = r[w];
                                p[v][x] = t;
                            }
                            (n.getOverlay().onclick = t), (h = a.onkeydown);
                        var y = function(a) {
                            return q["default"](a, f, j);
                        };
                        (a.onkeydown = y),
                        (a.onfocus = function() {
                            setTimeout(function() {
                                i !== c && (i.focus(), (i = c));
                            }, 0);
                        }),
                        k.enableButtons();
                    }),
                    (j.setDefaults = k.setDefaults = function(a) {
                        if (!a) throw new Error("userParams is required");
                        if ("object" != typeof a)
                            throw new Error("userParams has to be a object");
                        m.extend(s["default"], a);
                    }),
                    (j.close = k.close = function() {
                        var d = n.getModal();
                        l.fadeOut(n.getOverlay(), 5),
                            l.fadeOut(d, 5),
                            l.removeClass(d, "showSweetAlert"),
                            l.addClass(d, "hideSweetAlert"),
                            l.removeClass(d, "visible");
                        var e = d.querySelector(".sa-icon.sa-success");
                        l.removeClass(e, "animate"),
                            l.removeClass(
                                e.querySelector(".sa-tip"),
                                "animateSuccessTip"
                            ),
                            l.removeClass(
                                e.querySelector(".sa-long"),
                                "animateSuccessLong"
                            );
                        var f = d.querySelector(".sa-icon.sa-error");
                        l.removeClass(f, "animateErrorIcon"),
                            l.removeClass(f.querySelector(".sa-x-mark"), "animateXMark");
                        var g = d.querySelector(".sa-icon.sa-warning");
                        return (
                            l.removeClass(g, "pulseWarning"),
                            l.removeClass(g.querySelector(".sa-body"), "pulseWarningIns"),
                            l.removeClass(g.querySelector(".sa-dot"), "pulseWarningIns"),
                            setTimeout(function() {
                                var a = d.getAttribute("data-custom-class");
                                l.removeClass(d, a);
                            }, 300),
                            l.removeClass(b.body, "stop-scrolling"),
                            (a.onkeydown = h),
                            a.previousActiveElement && a.previousActiveElement.focus(),
                            (i = c),
                            clearTimeout(d.timeout), !0
                        );
                    }),
                    (j.showInputError = k.showInputError = function(a) {
                        var b = n.getModal(),
                            c = b.querySelector(".sa-input-error");
                        l.addClass(c, "show");
                        var d = b.querySelector(".sa-error-container");
                        l.addClass(d, "show"),
                            (d.querySelector("p").innerHTML = a),
                            setTimeout(function() {
                                j.enableButtons();
                            }, 1),
                            b.querySelector("input").focus();
                    }),
                    (j.resetInputError = k.resetInputError = function(a) {
                        if (a && 13 === a.keyCode) return !1;
                        var b = n.getModal(),
                            c = b.querySelector(".sa-input-error");
                        l.removeClass(c, "show");
                        var d = b.querySelector(".sa-error-container");
                        l.removeClass(d, "show");
                    }),
                    (j.disableButtons = k.disableButtons = function(a) {
                        var b = n.getModal(),
                            c = b.querySelector("button.confirm"),
                            d = b.querySelector("button.cancel");
                        (c.disabled = !0), (d.disabled = !0);
                    }),
                    (j.enableButtons = k.enableButtons = function(a) {
                        var b = n.getModal(),
                            c = b.querySelector("button.confirm"),
                            d = b.querySelector("button.cancel");
                        (c.disabled = !1), (d.disabled = !1);
                    }),
                    "undefined" != typeof a
                        ?
                        (a.sweetAlert = a.swal = j) :
                        m.logStr("SweetAlert is a frontend module!"),
                        (e.exports = f["default"]);
                },
                {
                    "./modules/default-params": 2,
                    "./modules/handle-click": 3,
                    "./modules/handle-dom": 4,
                    "./modules/handle-key": 5,
                    "./modules/handle-swal-dom": 6,
                    "./modules/set-params": 8,
                    "./modules/utils": 9
                }
            ],
            2: [
                function(a, b, c) {
                    Object.defineProperty(c, "__esModule", { value: !0 });
                    var d = {
                        title: "",
                        text: "",
                        type: null,
                        allowOutsideClick: !1,
                        showConfirmButton: !0,
                        showCancelButton: !1,
                        closeOnConfirm: !0,
                        closeOnCancel: !0,
                        confirmButtonText: "OK",
                        confirmButtonColor: "#8CD4F5",
                        cancelButtonText: "Cancel",
                        imageUrl: null,
                        imageSize: null,
                        timer: null,
                        customClass: "",
                        html: !1,
                        animation: !0,
                        allowEscapeKey: !0,
                        inputType: "text",
                        inputPlaceholder: "",
                        inputValue: "",
                        showLoaderOnConfirm: !1
                    };
                    (c["default"] = d), (b.exports = c["default"]);
                },
                {}
            ],
            3: [
                function(b, c, d) {
                    Object.defineProperty(d, "__esModule", { value: !0 });
                    var e = b("./utils"),
                        f = (b("./handle-swal-dom"), b("./handle-dom")),
                        g = function(b, c, d) {
                            function g(a) {
                                o && c.confirmButtonColor && (n.style.backgroundColor = a);
                            }
                            var j,
                                k,
                                l,
                                m = b || a.event,
                                n = m.target || m.srcElement,
                                o = -1 !== n.className.indexOf("confirm"),
                                p = -1 !== n.className.indexOf("sweet-overlay"),
                                q = f.hasClass(d, "visible"),
                                r =
                                c.doneFunction &&
                                "true" === d.getAttribute("data-has-done-function");
                            switch (
                                (o &&
                                    c.confirmButtonColor &&
                                    ((j = c.confirmButtonColor),
                                        (k = e.colorLuminance(j, -0.04)),
                                        (l = e.colorLuminance(j, -0.14))),
                                    m.type)
                            ) {
                                case "mouseover":
                                    g(k);
                                    break;
                                case "mouseout":
                                    g(j);
                                    break;
                                case "mousedown":
                                    g(l);
                                    break;
                                case "mouseup":
                                    g(k);
                                    break;
                                case "focus":
                                    var s = d.querySelector("button.confirm"),
                                        t = d.querySelector("button.cancel");
                                    o
                                        ?
                                        (t.style.boxShadow = "none") :
                                        (s.style.boxShadow = "none");
                                    break;
                                case "click":
                                    var u = d === n,
                                        v = f.isDescendant(d, n);
                                    if (!u && !v && q && !c.allowOutsideClick) break;
                                    o && r && q ?
                                        h(d, c) :
                                        (r && q) || p ?
                                        i(d, c) :
                                        f.isDescendant(d, n) &&
                                        "BUTTON" === n.tagName &&
                                        sweetAlert.close();
                            }
                        },
                        h = function(a, b) {
                            var c = !0;
                            f.hasClass(a, "show-input") &&
                                ((c = a.querySelector("input").value), c || (c = "")),
                                b.doneFunction(c),
                                b.closeOnConfirm && sweetAlert.close(),
                                b.showLoaderOnConfirm && sweetAlert.disableButtons();
                        },
                        i = function(a, b) {
                            var c = String(b.doneFunction).replace(/\s/g, ""),
                                d =
                                "function(" === c.substring(0, 9) &&
                                ")" !== c.substring(9, 10);
                            d && b.doneFunction(!1), b.closeOnCancel && sweetAlert.close();
                        };
                    (d["default"] = {
                        handleButton: g,
                        handleConfirm: h,
                        handleCancel: i
                    }),
                    (c.exports = d["default"]);
                },
                { "./handle-dom": 4, "./handle-swal-dom": 6, "./utils": 9 }
            ],
            4: [
                function(c, d, e) {
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var f = function(a, b) {
                            return new RegExp(" " + b + " ").test(" " + a.className + " ");
                        },
                        g = function(a, b) {
                            f(a, b) || (a.className += " " + b);
                        },
                        h = function(a, b) {
                            var c = " " + a.className.replace(/[\t\r\n]/g, " ") + " ";
                            if (f(a, b)) {
                                for (; c.indexOf(" " + b + " ") >= 0;)
                                    c = c.replace(" " + b + " ", " ");
                                a.className = c.replace(/^\s+|\s+$/g, "");
                            }
                        },
                        i = function(a) {
                            var c = b.createElement("div");
                            return c.appendChild(b.createTextNode(a)), c.innerHTML;
                        },
                        j = function(a) {
                            (a.style.opacity = ""), (a.style.display = "block");
                        },
                        k = function(a) {
                            if (a && !a.length) return j(a);
                            for (var b = 0; b < a.length; ++b) j(a[b]);
                        },
                        l = function(a) {
                            (a.style.opacity = ""), (a.style.display = "none");
                        },
                        m = function(a) {
                            if (a && !a.length) return l(a);
                            for (var b = 0; b < a.length; ++b) l(a[b]);
                        },
                        n = function(a, b) {
                            for (var c = b.parentNode; null !== c;) {
                                if (c === a) return !0;
                                c = c.parentNode;
                            }
                            return !1;
                        },
                        o = function(a) {
                            (a.style.left = "-9999px"), (a.style.display = "block");
                            var b,
                                c = a.clientHeight;
                            return (
                                (b =
                                    "undefined" != typeof getComputedStyle ?
                                    parseInt(
                                        getComputedStyle(a).getPropertyValue("padding-top"),
                                        10
                                    ) :
                                    parseInt(a.currentStyle.padding)),
                                (a.style.left = ""),
                                (a.style.display = "none"),
                                "-" + parseInt((c + b) / 2) + "px"
                            );
                        },
                        p = function(a, b) {
                            if (+a.style.opacity < 1) {
                                (b = b || 16),
                                (a.style.opacity = 0),
                                (a.style.display = "block");
                                var c = +new Date(),
                                    d = (function(a) {
                                        function b() {
                                            return a.apply(this, arguments);
                                        }
                                        return (
                                            (b.toString = function() {
                                                return a.toString();
                                            }),
                                            b
                                        );
                                    })(function() {
                                        (a.style.opacity = +a.style.opacity + (new Date() - c) / 100),
                                        (c = +new Date()), +a.style.opacity < 1 && setTimeout(d, b);
                                    });
                                d();
                            }
                            a.style.display = "block";
                        },
                        q = function(a, b) {
                            (b = b || 16), (a.style.opacity = 1);
                            var c = +new Date(),
                                d = (function(a) {
                                    function b() {
                                        return a.apply(this, arguments);
                                    }
                                    return (
                                        (b.toString = function() {
                                            return a.toString();
                                        }),
                                        b
                                    );
                                })(function() {
                                    (a.style.opacity = +a.style.opacity - (new Date() - c) / 100),
                                    (c = +new Date()), +a.style.opacity > 0 ?
                                        setTimeout(d, b) :
                                        (a.style.display = "none");
                                });
                            d();
                        },
                        r = function(c) {
                            if ("function" == typeof MouseEvent) {
                                var d = new MouseEvent("click", {
                                    view: a,
                                    bubbles: !1,
                                    cancelable: !0
                                });
                                c.dispatchEvent(d);
                            } else if (b.createEvent) {
                                var e = b.createEvent("MouseEvents");
                                e.initEvent("click", !1, !1), c.dispatchEvent(e);
                            } else
                                b.createEventObject ?
                                c.fireEvent("onclick") :
                                "function" == typeof c.onclick && c.onclick();
                        },
                        s = function(b) {
                            "function" == typeof b.stopPropagation ?
                                (b.stopPropagation(), b.preventDefault()) :
                                a.event &&
                                a.event.hasOwnProperty("cancelBubble") &&
                                (a.event.cancelBubble = !0);
                        };
                    (e.hasClass = f),
                    (e.addClass = g),
                    (e.removeClass = h),
                    (e.escapeHtml = i),
                    (e._show = j),
                    (e.show = k),
                    (e._hide = l),
                    (e.hide = m),
                    (e.isDescendant = n),
                    (e.getTopMargin = o),
                    (e.fadeIn = p),
                    (e.fadeOut = q),
                    (e.fireClick = r),
                    (e.stopEventPropagation = s);
                },
                {}
            ],
            5: [
                function(b, d, e) {
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var f = b("./handle-dom"),
                        g = b("./handle-swal-dom"),
                        h = function(b, d, e) {
                            var h = b || a.event,
                                i = h.keyCode || h.which,
                                j = e.querySelector("button.confirm"),
                                k = e.querySelector("button.cancel"),
                                l = e.querySelectorAll("button[tabindex]");
                            if (-1 !== [9, 13, 32, 27].indexOf(i)) {
                                for (
                                    var m = h.target || h.srcElement, n = -1, o = 0; o < l.length; o++
                                )
                                    if (m === l[o]) {
                                        n = o;
                                        break;
                                    }
                                9 === i ?
                                    ((m = -1 === n ? j : n === l.length - 1 ? l[0] : l[n + 1]),
                                        f.stopEventPropagation(h),
                                        m.focus(),
                                        d.confirmButtonColor &&
                                        g.setFocusStyle(m, d.confirmButtonColor)) :
                                    13 === i ?
                                    ("INPUT" === m.tagName && ((m = j), j.focus()),
                                        (m = -1 === n ? j : c)) :
                                    27 === i && d.allowEscapeKey === !0 ?
                                    ((m = k), f.fireClick(m, h)) :
                                    (m = c);
                            }
                        };
                    (e["default"] = h), (d.exports = e["default"]);
                },
                { "./handle-dom": 4, "./handle-swal-dom": 6 }
            ],
            6: [
                function(c, d, e) {
                    var f = function(a) {
                        return a && a.__esModule ? a : { default: a };
                    };
                    Object.defineProperty(e, "__esModule", { value: !0 });
                    var g = c("./utils"),
                        h = c("./handle-dom"),
                        i = c("./default-params"),
                        j = f(i),
                        k = c("./injected-html"),
                        l = f(k),
                        m = ".sweet-alert",
                        n = ".sweet-overlay",
                        o = function() {
                            var a = b.createElement("div");
                            for (a.innerHTML = l["default"]; a.firstChild;)
                                b.body.appendChild(a.firstChild);
                        },
                        p = (function(a) {
                            function b() {
                                return a.apply(this, arguments);
                            }
                            return (
                                (b.toString = function() {
                                    return a.toString();
                                }),
                                b
                            );
                        })(function() {
                            var a = b.querySelector(m);
                            return a || (o(), (a = p())), a;
                        }),
                        q = function() {
                            var a = p();
                            return a ? a.querySelector("input") : void 0;
                        },
                        r = function() {
                            return b.querySelector(n);
                        },
                        s = function(a, b) {
                            var c = g.hexToRgb(b);
                            a.style.boxShadow =
                                "0 0 2px rgba(" +
                                c +
                                ", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)";
                        },
                        t = function(c) {
                            var d = p();
                            h.fadeIn(r(), 10),
                                h.show(d),
                                h.addClass(d, "showSweetAlert"),
                                h.removeClass(d, "hideSweetAlert"),
                                (a.previousActiveElement = b.activeElement);
                            var e = d.querySelector("button.confirm");
                            e.focus(),
                                setTimeout(function() {
                                    h.addClass(d, "visible");
                                }, 500);
                            var f = d.getAttribute("data-timer");
                            if ("null" !== f && "" !== f) {
                                var g = c;
                                d.timeout = setTimeout(function() {
                                    var a =
                                        (g || null) &&
                                        "true" === d.getAttribute("data-has-done-function");
                                    a ? g(null) : sweetAlert.close();
                                }, f);
                            }
                        },
                        u = function() {
                            var a = p(),
                                b = q();
                            h.removeClass(a, "show-input"),
                                (b.value = j["default"].inputValue),
                                b.setAttribute("type", j["default"].inputType),
                                b.setAttribute("placeholder", j["default"].inputPlaceholder),
                                v();
                        },
                        v = function(a) {
                            if (a && 13 === a.keyCode) return !1;
                            var b = p(),
                                c = b.querySelector(".sa-input-error");
                            h.removeClass(c, "show");
                            var d = b.querySelector(".sa-error-container");
                            h.removeClass(d, "show");
                        },
                        w = function() {
                            var a = p();
                            a.style.marginTop = h.getTopMargin(p());
                        };
                    (e.sweetAlertInitialize = o),
                    (e.getModal = p),
                    (e.getOverlay = r),
                    (e.getInput = q),
                    (e.setFocusStyle = s),
                    (e.openModal = t),
                    (e.resetInput = u),
                    (e.resetInputError = v),
                    (e.fixVerticalPosition = w);
                },
                {
                    "./default-params": 2,
                    "./handle-dom": 4,
                    "./injected-html": 7,
                    "./utils": 9
                }
            ],
            7: [
                function(a, b, c) {
                    Object.defineProperty(c, "__esModule", { value: !0 });
                    var d =
                        '<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';
                    (c["default"] = d), (b.exports = c["default"]);
                },
                {}
            ],
            8: [
                function(a, b, d) {
                    Object.defineProperty(d, "__esModule", { value: !0 });
                    var e = a("./utils"),
                        f = a("./handle-swal-dom"),
                        g = a("./handle-dom"),
                        h = ["error", "warning", "info", "success", "input", "prompt"],
                        i = function(a) {
                            var b = f.getModal(),
                                d = b.querySelector("h2"),
                                i = b.querySelector("p"),
                                j = b.querySelector("button.cancel"),
                                k = b.querySelector("button.confirm");
                            if (
                                ((d.innerHTML = a.html ?
                                        a.title :
                                        g
                                        .escapeHtml(a.title)
                                        .split("\n")
                                        .join("<br>")),
                                    (i.innerHTML = a.html ?
                                        a.text :
                                        g
                                        .escapeHtml(a.text || "")
                                        .split("\n")
                                        .join("<br>")),
                                    a.text && g.show(i),
                                    a.customClass)
                            )
                                g.addClass(b, a.customClass),
                                b.setAttribute("data-custom-class", a.customClass);
                            else {
                                var l = b.getAttribute("data-custom-class");
                                g.removeClass(b, l), b.setAttribute("data-custom-class", "");
                            }
                            if (
                                (g.hide(b.querySelectorAll(".sa-icon")), a.type && !e.isIE8())
                            ) {
                                var m = (function() {
                                    for (var d = !1, e = 0; e < h.length; e++)
                                        if (a.type === h[e]) {
                                            d = !0;
                                            break;
                                        }
                                    if (!d)
                                        return logStr("Unknown alert type: " + a.type), { v: !1 };
                                    var i = ["success", "error", "warning", "info"],
                                        j = c; -
                                    1 !== i.indexOf(a.type) &&
                                        ((j = b.querySelector(".sa-icon.sa-" + a.type)),
                                            g.show(j));
                                    var k = f.getInput();
                                    switch (a.type) {
                                        case "success":
                                            g.addClass(j, "animate"),
                                                g.addClass(
                                                    j.querySelector(".sa-tip"),
                                                    "animateSuccessTip"
                                                ),
                                                g.addClass(
                                                    j.querySelector(".sa-long"),
                                                    "animateSuccessLong"
                                                );
                                            break;
                                        case "error":
                                            g.addClass(j, "animateErrorIcon"),
                                                g.addClass(
                                                    j.querySelector(".sa-x-mark"),
                                                    "animateXMark"
                                                );
                                            break;
                                        case "warning":
                                            g.addClass(j, "pulseWarning"),
                                                g.addClass(
                                                    j.querySelector(".sa-body"),
                                                    "pulseWarningIns"
                                                ),
                                                g.addClass(
                                                    j.querySelector(".sa-dot"),
                                                    "pulseWarningIns"
                                                );
                                            break;
                                        case "input":
                                        case "prompt":
                                            k.setAttribute("type", a.inputType),
                                                (k.value = a.inputValue),
                                                k.setAttribute("placeholder", a.inputPlaceholder),
                                                g.addClass(b, "show-input"),
                                                setTimeout(function() {
                                                    k.focus(),
                                                        k.addEventListener("keyup", swal.resetInputError);
                                                }, 400);
                                    }
                                })();
                                if ("object" == typeof m) return m.v;
                            }
                            if (a.imageUrl) {
                                var n = b.querySelector(".sa-icon.sa-custom");
                                (n.style.backgroundImage = "url(" + a.imageUrl + ")"),
                                g.show(n);
                                var o = 80,
                                    p = 80;
                                if (a.imageSize) {
                                    var q = a.imageSize.toString().split("x"),
                                        r = q[0],
                                        s = q[1];
                                    r && s ?
                                        ((o = r), (p = s)) :
                                        logStr(
                                            "Parameter imageSize expects value with format WIDTHxHEIGHT, got " +
                                            a.imageSize
                                        );
                                }
                                n.setAttribute(
                                    "style",
                                    n.getAttribute("style") +
                                    "width:" +
                                    o +
                                    "px; height:" +
                                    p +
                                    "px"
                                );
                            }
                            b.setAttribute("data-has-cancel-button", a.showCancelButton),
                                a.showCancelButton ?
                                (j.style.display = "inline-block") :
                                g.hide(j),
                                b.setAttribute(
                                    "data-has-confirm-button",
                                    a.showConfirmButton
                                ),
                                a.showConfirmButton ?
                                (k.style.display = "inline-block") :
                                g.hide(k),
                                a.cancelButtonText &&
                                (j.innerHTML = g.escapeHtml(a.cancelButtonText)),
                                a.confirmButtonText &&
                                (k.innerHTML = g.escapeHtml(a.confirmButtonText)),
                                a.confirmButtonColor &&
                                ((k.style.backgroundColor = a.confirmButtonColor),
                                    (k.style.borderLeftColor = a.confirmLoadingButtonColor),
                                    (k.style.borderRightColor = a.confirmLoadingButtonColor),
                                    f.setFocusStyle(k, a.confirmButtonColor)),
                                b.setAttribute(
                                    "data-allow-outside-click",
                                    a.allowOutsideClick
                                );
                            var t = !!a.doneFunction;
                            b.setAttribute("data-has-done-function", t),
                                a.animation ?
                                "string" == typeof a.animation ?
                                b.setAttribute("data-animation", a.animation) :
                                b.setAttribute("data-animation", "pop") :
                                b.setAttribute("data-animation", "none"),
                                b.setAttribute("data-timer", a.timer);
                        };
                    (d["default"] = i), (b.exports = d["default"]);
                },
                { "./handle-dom": 4, "./handle-swal-dom": 6, "./utils": 9 }
            ],
            9: [
                function(b, c, d) {
                    Object.defineProperty(d, "__esModule", { value: !0 });
                    var e = function(a, b) {
                            for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]);
                            return a;
                        },
                        f = function(a) {
                            var b = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
                            return b ?
                                parseInt(b[1], 16) +
                                ", " +
                                parseInt(b[2], 16) +
                                ", " +
                                parseInt(b[3], 16) :
                                null;
                        },
                        g = function() {
                            return a.attachEvent && !a.addEventListener;
                        },
                        h = function(b) {
                            a.console && a.console.log("SweetAlert: " + b);
                        },
                        i = function(a, b) {
                            (a = String(a).replace(/[^0-9a-f]/gi, "")),
                            a.length < 6 && (a = a[0] + a[0] + a[1] + a[1] + a[2] + a[2]),
                                (b = b || 0);
                            var c,
                                d,
                                e = "#";
                            for (d = 0; 3 > d; d++)
                                (c = parseInt(a.substr(2 * d, 2), 16)),
                                (c = Math.round(
                                    Math.min(Math.max(0, c + c * b), 255)
                                ).toString(16)),
                                (e += ("00" + c).substr(c.length));
                            return e;
                        };
                    (d.extend = e),
                    (d.hexToRgb = f),
                    (d.isIE8 = g),
                    (d.logStr = h),
                    (d.colorLuminance = i);
                },
                {}
            ]
        }, {}, [1]),
        "function" == typeof define && define.amd ?
            define(function() {
                return sweetAlert;
            }) :
            "undefined" != typeof module &&
            module.exports &&
            (module.exports = sweetAlert);
    })(window, document), !(function(a) {
        "use strict";
        var b = function(b, c) {
            (this.el = a(b)),
            (this.options = a.extend({}, a.fn.typed.defaults, c)),
            (this.isInput = this.el.is("input")),
            (this.attr = this.options.attr),
            (this.showCursor = this.isInput ? !1 : this.options.showCursor),
            (this.elContent = this.attr ? this.el.attr(this.attr) : this.el.text()),
            (this.contentType = this.options.contentType),
            (this.typeSpeed = this.options.typeSpeed),
            (this.startDelay = this.options.startDelay),
            (this.backSpeed = this.options.backSpeed),
            (this.backDelay = this.options.backDelay),
            (this.stringsElement = this.options.stringsElement),
            (this.strings = this.options.strings),
            (this.strPos = 0),
            (this.arrayPos = 0),
            (this.stopNum = 0),
            (this.loop = this.options.loop),
            (this.loopCount = this.options.loopCount),
            (this.curLoop = 0),
            (this.stop = !1),
            (this.cursorChar = this.options.cursorChar),
            (this.shuffle = this.options.shuffle),
            (this.sequence = []),
            this.build();
        };
        (b.prototype = {
            constructor: b,
            init: function() {
                var a = this;
                a.timeout = setTimeout(function() {
                    for (var b = 0; b < a.strings.length; ++b) a.sequence[b] = b;
                    a.shuffle && (a.sequence = a.shuffleArray(a.sequence)),
                        a.typewrite(a.strings[a.sequence[a.arrayPos]], a.strPos);
                }, a.startDelay);
            },
            build: function() {
                var b = this;
                if (
                    (this.showCursor === !0 &&
                        ((this.cursor = a(
                                '<span class="typed-cursor">' + this.cursorChar + "</span>"
                            )),
                            this.el.after(this.cursor)),
                        this.stringsElement)
                ) {
                    (b.strings = []), this.stringsElement.hide();
                    var c = this.stringsElement.find("p");
                    a.each(c, function(c, d) {
                        b.strings.push(a(d).html());
                    });
                }
                this.init();
            },
            typewrite: function(a, b) {
                if (this.stop !== !0) {
                    var c = Math.round(70 * Math.random()) + this.typeSpeed,
                        d = this;
                    d.timeout = setTimeout(function() {
                        var c = 0,
                            e = a.substr(b);
                        if ("^" === e.charAt(0)) {
                            var f = 1;
                            /^\^\d+/.test(e) &&
                                ((e = /\d+/.exec(e)[0]), (f += e.length), (c = parseInt(e))),
                                (a = a.substring(0, b) + a.substring(b + f));
                        }
                        if ("html" === d.contentType) {
                            var g = a.substr(b).charAt(0);
                            if ("<" === g || "&" === g) {
                                var h = "",
                                    i = "";
                                for (i = "<" === g ? ">" : ";"; a.substr(b).charAt(0) !== i;)
                                    (h += a.substr(b).charAt(0)), b++;
                                b++, (h += i);
                            }
                        }
                        d.timeout = setTimeout(function() {
                            if (b === a.length) {
                                if (
                                    (d.options.onStringTyped(d.arrayPos),
                                        d.arrayPos === d.strings.length - 1 &&
                                        (d.options.callback(),
                                            d.curLoop++,
                                            d.loop === !1 || d.curLoop === d.loopCount))
                                )
                                    return;
                                d.timeout = setTimeout(function() {
                                    d.backspace(a, b);
                                }, d.backDelay);
                            } else {
                                0 === b && d.options.preStringTyped(d.arrayPos);
                                var c = a.substr(0, b + 1);
                                d.attr ?
                                    d.el.attr(d.attr, c) :
                                    d.isInput ?
                                    d.el.val(c) :
                                    "html" === d.contentType ?
                                    d.el.html(c) :
                                    d.el.text(c),
                                    b++,
                                    d.typewrite(a, b);
                            }
                        }, c);
                    }, c);
                }
            },
            backspace: function(a, b) {
                if (this.stop !== !0) {
                    var c = Math.round(70 * Math.random()) + this.backSpeed,
                        d = this;
                    d.timeout = setTimeout(function() {
                        if ("html" === d.contentType && ">" === a.substr(b).charAt(0)) {
                            for (var c = "";
                                "<" !== a.substr(b).charAt(0);)
                                (c -= a.substr(b).charAt(0)), b--;
                            b--, (c += "<");
                        }
                        var e = a.substr(0, b);
                        d.attr ?
                            d.el.attr(d.attr, e) :
                            d.isInput ?
                            d.el.val(e) :
                            "html" === d.contentType ?
                            d.el.html(e) :
                            d.el.text(e),
                            b > d.stopNum ?
                            (b--, d.backspace(a, b)) :
                            b <= d.stopNum &&
                            (d.arrayPos++,
                                d.arrayPos === d.strings.length ?
                                ((d.arrayPos = 0),
                                    d.shuffle && (d.sequence = d.shuffleArray(d.sequence)),
                                    d.init()) :
                                d.typewrite(d.strings[d.sequence[d.arrayPos]], b));
                    }, c);
                }
            },
            shuffleArray: function(a) {
                var b,
                    c,
                    d = a.length;
                if (d)
                    for (; --d;)
                        (c = Math.floor(Math.random() * (d + 1))),
                        (b = a[c]),
                        (a[c] = a[d]),
                        (a[d] = b);
                return a;
            },
            reset: function() {
                var a = this;
                clearInterval(a.timeout);
                var b = this.el.attr("id");
                this.el.after('<span id="' + b + '"/>'),
                    this.el.remove(),
                    "undefined" != typeof this.cursor && this.cursor.remove(),
                    a.options.resetCallback();
            }
        }),
        (a.fn.typed = function(c) {
            return this.each(function() {
                var d = a(this),
                    e = d.data("typed"),
                    f = "object" == typeof c && c;
                e || d.data("typed", (e = new b(this, f))),
                    "string" == typeof c && e[c]();
            });
        }),
        (a.fn.typed.defaults = {
            strings: [
                "These are the default values...",
                "You know what you should do?",
                "Use your own!",
                "Have a great day!"
            ],
            stringsElement: null,
            typeSpeed: 0,
            startDelay: 0,
            backSpeed: 0,
            shuffle: !1,
            backDelay: 500,
            loop: !1,
            loopCount: !1,
            showCursor: !0,
            cursorChar: "|",
            attr: null,
            contentType: "html",
            callback: function() {},
            preStringTyped: function() {},
            onStringTyped: function() {},
            resetCallback: function() {}
        });
    })(window.jQuery),
    function() {
        var a,
            b,
            c,
            d,
            e,
            f = function(a, b) {
                return function() {
                    return a.apply(b, arguments);
                };
            },
            g = [].indexOf ||
            function(a) {
                for (var b = 0, c = this.length; c > b; b++)
                    if (b in this && this[b] === a) return b;
                return -1;
            };
        (b = (function() {
            function a() {}
            return (
                (a.prototype.extend = function(a, b) {
                    var c, d;
                    for (c in b)(d = b[c]), null == a[c] && (a[c] = d);
                    return a;
                }),
                (a.prototype.isMobile = function(a) {
                    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
                        a
                    );
                }),
                (a.prototype.createEvent = function(a, b, c, d) {
                    var e;
                    return (
                        null == b && (b = !1),
                        null == c && (c = !1),
                        null == d && (d = null),
                        null != document.createEvent ?
                        ((e = document.createEvent("CustomEvent")),
                            e.initCustomEvent(a, b, c, d)) :
                        null != document.createEventObject ?
                        ((e = document.createEventObject()), (e.eventType = a)) :
                        (e.eventName = a),
                        e
                    );
                }),
                (a.prototype.emitEvent = function(a, b) {
                    return null != a.dispatchEvent ?
                        a.dispatchEvent(b) :
                        b in (null != a) ?
                        a[b]() :
                        "on" + b in (null != a) ?
                        a["on" + b]() :
                        void 0;
                }),
                (a.prototype.addEvent = function(a, b, c) {
                    return null != a.addEventListener ?
                        a.addEventListener(b, c, !1) :
                        null != a.attachEvent ?
                        a.attachEvent("on" + b, c) :
                        (a[b] = c);
                }),
                (a.prototype.removeEvent = function(a, b, c) {
                    return null != a.removeEventListener ?
                        a.removeEventListener(b, c, !1) :
                        null != a.detachEvent ?
                        a.detachEvent("on" + b, c) :
                        delete a[b];
                }),
                (a.prototype.innerHeight = function() {
                    return "innerHeight" in window ?
                        window.innerHeight :
                        document.documentElement.clientHeight;
                }),
                a
            );
        })()),
        (c =
            this.WeakMap ||
            this.MozWeakMap ||
            (c = (function() {
                function a() {
                    (this.keys = []), (this.values = []);
                }
                return (
                    (a.prototype.get = function(a) {
                        var b, c, d, e, f;
                        for (f = this.keys, b = d = 0, e = f.length; e > d; b = ++d)
                            if (((c = f[b]), c === a)) return this.values[b];
                    }),
                    (a.prototype.set = function(a, b) {
                        var c, d, e, f, g;
                        for (g = this.keys, c = e = 0, f = g.length; f > e; c = ++e)
                            if (((d = g[c]), d === a)) return void(this.values[c] = b);
                        return this.keys.push(a), this.values.push(b);
                    }),
                    a
                );
            })())),
        (a =
            this.MutationObserver ||
            this.WebkitMutationObserver ||
            this.MozMutationObserver ||
            (a = (function() {
                function a() {
                    "undefined" != typeof console &&
                        null !== console &&
                        console.warn(
                            "MutationObserver is not supported by your browser."
                        ),
                        "undefined" != typeof console &&
                        null !== console &&
                        console.warn(
                            "WOW.js cannot detect dom mutations, please call .sync() after loading new content."
                        );
                }
                return (
                    (a.notSupported = !0), (a.prototype.observe = function() {}), a
                );
            })())),
        (d =
            this.getComputedStyle ||
            function(a, b) {
                return (
                    (this.getPropertyValue = function(b) {
                        var c;
                        return (
                            "float" === b && (b = "styleFloat"),
                            e.test(b) &&
                            b.replace(e, function(a, b) {
                                return b.toUpperCase();
                            }),
                            (null != (c = a.currentStyle) ? c[b] : void 0) || null
                        );
                    }),
                    this
                );
            }),
        (e = /(\-([a-z]){1})/g),
        (this.WOW = (function() {
            function e(a) {
                null == a && (a = {}),
                    (this.scrollCallback = f(this.scrollCallback, this)),
                    (this.scrollHandler = f(this.scrollHandler, this)),
                    (this.resetAnimation = f(this.resetAnimation, this)),
                    (this.start = f(this.start, this)),
                    (this.scrolled = !0),
                    (this.config = this.util().extend(a, this.defaults)),
                    null != a.scrollContainer &&
                    (this.config.scrollContainer = document.querySelector(
                        a.scrollContainer
                    )),
                    (this.animationNameCache = new c()),
                    (this.wowEvent = this.util().createEvent(this.config.boxClass));
            }
            return (
                (e.prototype.defaults = {
                    boxClass: "wow",
                    animateClass: "animated",
                    offset: 0,
                    mobile: !0,
                    live: !0,
                    callback: null,
                    scrollContainer: null
                }),
                (e.prototype.init = function() {
                    var a;
                    return (
                        (this.element = window.document.documentElement),
                        "interactive" === (a = document.readyState) || "complete" === a ?
                        this.start() :
                        this.util().addEvent(
                            document,
                            "DOMContentLoaded",
                            this.start
                        ),
                        (this.finished = [])
                    );
                }),
                (e.prototype.start = function() {
                    var b, c, d, e;
                    if (
                        ((this.stopped = !1),
                            (this.boxes = function() {
                                var a, c, d, e;
                                for (
                                    d = this.element.querySelectorAll("." + this.config.boxClass),
                                    e = [],
                                    a = 0,
                                    c = d.length; c > a; a++
                                )
                                    (b = d[a]), e.push(b);
                                return e;
                            }.call(this)),
                            (this.all = function() {
                                var a, c, d, e;
                                for (d = this.boxes, e = [], a = 0, c = d.length; c > a; a++)
                                    (b = d[a]), e.push(b);
                                return e;
                            }.call(this)),
                            this.boxes.length)
                    )
                        if (this.disabled()) this.resetStyle();
                        else
                            for (e = this.boxes, c = 0, d = e.length; d > c; c++)
                                (b = e[c]), this.applyStyle(b, !0);
                    return (
                        this.disabled() ||
                        (this.util().addEvent(
                                this.config.scrollContainer || window,
                                "scroll",
                                this.scrollHandler
                            ),
                            this.util().addEvent(window, "resize", this.scrollHandler),
                            (this.interval = setInterval(this.scrollCallback, 50))),
                        this.config.live ?
                        new a(
                            (function(a) {
                                return function(b) {
                                    var c, d, e, f, g;
                                    for (g = [], c = 0, d = b.length; d > c; c++)
                                        (f = b[c]),
                                        g.push(
                                            function() {
                                                var a, b, c, d;
                                                for (
                                                    c = f.addedNodes || [],
                                                    d = [],
                                                    a = 0,
                                                    b = c.length; b > a; a++
                                                )
                                                    (e = c[a]), d.push(this.doSync(e));
                                                return d;
                                            }.call(a)
                                        );
                                    return g;
                                };
                            })(this)
                        ).observe(document.body, { childList: !0, subtree: !0 }) :
                        void 0
                    );
                }),
                (e.prototype.stop = function() {
                    return (
                        (this.stopped = !0),
                        this.util().removeEvent(
                            this.config.scrollContainer || window,
                            "scroll",
                            this.scrollHandler
                        ),
                        this.util().removeEvent(window, "resize", this.scrollHandler),
                        null != this.interval ? clearInterval(this.interval) : void 0
                    );
                }),
                (e.prototype.sync = function(b) {
                    return a.notSupported ? this.doSync(this.element) : void 0;
                }),
                (e.prototype.doSync = function(a) {
                    var b, c, d, e, f;
                    if ((null == a && (a = this.element), 1 === a.nodeType)) {
                        for (
                            a = a.parentNode || a,
                            e = a.querySelectorAll("." + this.config.boxClass),
                            f = [],
                            c = 0,
                            d = e.length; d > c; c++
                        )
                            (b = e[c]),
                            g.call(this.all, b) < 0 ?
                            (this.boxes.push(b),
                                this.all.push(b),
                                this.stopped || this.disabled() ?
                                this.resetStyle() :
                                this.applyStyle(b, !0),
                                f.push((this.scrolled = !0))) :
                            f.push(void 0);
                        return f;
                    }
                }),
                (e.prototype.show = function(a) {
                    return (
                        this.applyStyle(a),
                        (a.className = a.className + " " + this.config.animateClass),
                        null != this.config.callback && this.config.callback(a),
                        this.util().emitEvent(a, this.wowEvent),
                        this.util().addEvent(a, "animationend", this.resetAnimation),
                        this.util().addEvent(a, "oanimationend", this.resetAnimation),
                        this.util().addEvent(
                            a,
                            "webkitAnimationEnd",
                            this.resetAnimation
                        ),
                        this.util().addEvent(a, "MSAnimationEnd", this.resetAnimation),
                        a
                    );
                }),
                (e.prototype.applyStyle = function(a, b) {
                    var c, d, e;
                    return (
                        (d = a.getAttribute("data-wow-duration")),
                        (c = a.getAttribute("data-wow-delay")),
                        (e = a.getAttribute("data-wow-iteration")),
                        this.animate(
                            (function(f) {
                                return function() {
                                    return f.customStyle(a, b, d, c, e);
                                };
                            })(this)
                        )
                    );
                }),
                (e.prototype.animate = (function() {
                    return "requestAnimationFrame" in window ?

                        function(a) {
                            return window.requestAnimationFrame(a);
                        } :
                        function(a) {
                            return a();
                        };
                })()),
                (e.prototype.resetStyle = function() {
                    var a, b, c, d, e;
                    for (d = this.boxes, e = [], b = 0, c = d.length; c > b; b++)
                        (a = d[b]), e.push((a.style.visibility = "visible"));
                    return e;
                }),
                (e.prototype.resetAnimation = function(a) {
                    var b;
                    return a.type.toLowerCase().indexOf("animationend") >= 0 ?
                        ((b = a.target || a.srcElement),
                            (b.className = b.className
                                .replace(this.config.animateClass, "")
                                .trim())) :
                        void 0;
                }),
                (e.prototype.customStyle = function(a, b, c, d, e) {
                    return (
                        b && this.cacheAnimationName(a),
                        (a.style.visibility = b ? "hidden" : "visible"),
                        c && this.vendorSet(a.style, { animationDuration: c }),
                        d && this.vendorSet(a.style, { animationDelay: d }),
                        e && this.vendorSet(a.style, { animationIterationCount: e }),
                        this.vendorSet(a.style, {
                            animationName: b ? "none" : this.cachedAnimationName(a)
                        }),
                        a
                    );
                }),
                (e.prototype.vendors = ["moz", "webkit"]),
                (e.prototype.vendorSet = function(a, b) {
                    var c, d, e, f;
                    d = [];
                    for (c in b)
                        (e = b[c]),
                        (a["" + c] = e),
                        d.push(
                            function() {
                                var b, d, g, h;
                                for (
                                    g = this.vendors, h = [], b = 0, d = g.length; d > b; b++
                                )
                                    (f = g[b]),
                                    h.push(
                                        (a[
                                            "" + f + c.charAt(0).toUpperCase() + c.substr(1)
                                        ] = e)
                                    );
                                return h;
                            }.call(this)
                        );
                    return d;
                }),
                (e.prototype.vendorCSS = function(a, b) {
                    var c, e, f, g, h, i;
                    for (
                        h = d(a),
                        g = h.getPropertyCSSValue(b),
                        f = this.vendors,
                        c = 0,
                        e = f.length; e > c; c++
                    )
                        (i = f[c]), (g = g || h.getPropertyCSSValue("-" + i + "-" + b));
                    return g;
                }),
                (e.prototype.animationName = function(a) {
                    var b;
                    try {
                        b = this.vendorCSS(a, "animation-name").cssText;
                    } catch (c) {
                        b = d(a).getPropertyValue("animation-name");
                    }
                    return "none" === b ? "" : b;
                }),
                (e.prototype.cacheAnimationName = function(a) {
                    return this.animationNameCache.set(a, this.animationName(a));
                }),
                (e.prototype.cachedAnimationName = function(a) {
                    return this.animationNameCache.get(a);
                }),
                (e.prototype.scrollHandler = function() {
                    return (this.scrolled = !0);
                }),
                (e.prototype.scrollCallback = function() {
                    var a;
                    return !this.scrolled ||
                        ((this.scrolled = !1),
                            (this.boxes = function() {
                                var b, c, d, e;
                                for (d = this.boxes, e = [], b = 0, c = d.length; c > b; b++)
                                    (a = d[b]),
                                    a && (this.isVisible(a) ? this.show(a) : e.push(a));
                                return e;
                            }.call(this)),
                            this.boxes.length || this.config.live) ?
                        void 0 :
                        this.stop();
                }),
                (e.prototype.offsetTop = function(a) {
                    for (var b; void 0 === a.offsetTop;) a = a.parentNode;
                    for (b = a.offsetTop;
                        (a = a.offsetParent);) b += a.offsetTop;
                    return b;
                }),
                (e.prototype.isVisible = function(a) {
                    var b, c, d, e, f;
                    return (
                        (c = a.getAttribute("data-wow-offset") || this.config.offset),
                        (f =
                            (this.config.scrollContainer &&
                                this.config.scrollContainer.scrollTop) ||
                            window.pageYOffset),
                        (e =
                            f +
                            Math.min(this.element.clientHeight, this.util().innerHeight()) -
                            c),
                        (d = this.offsetTop(a)),
                        (b = d + a.clientHeight),
                        e >= d && b >= f
                    );
                }),
                (e.prototype.util = function() {
                    return null != this._util ? this._util : (this._util = new b());
                }),
                (e.prototype.disabled = function() {
                    return (!this.config.mobile && this.util().isMobile(navigator.userAgent));
                }),
                e
            );
        })());
    }.call(this),
    ($.FE.LANGUAGE.ar = {
        translation: {
            "Type something": " ",
            Bold: "",
            Italic: "",
            Underline: "",
            Strikethrough: " ",
            Insert: "",
            Delete: "",
            Cancel: "",
            OK: "",
            Back: "",
            Remove: "",
            More: "",
            Update: "",
            Style: "",
            "Font Family": " ",
            "Font Size": " ",
            Colors: "",
            Background: "",
            Text: "",
            "Paragraph Format": " ",
            Normal: "",
            Code: "",
            "Heading 1": " 1",
            "Heading 2": " 2",
            "Heading 3": " 3",
            "Heading 4": " 4",
            "Paragraph Style": " ",
            "Inline Style": " ",
            Align: "",
            "Align Left": "  ",
            "Align Center": "",
            "Align Right": "  ",
            "Align Justify": "",
            None: " ",
            "Ordered List": " ",
            "Unordered List": "  ",
            "Decrease Indent": "  ",
            "Increase Indent": "  ",
            "Insert Link": " ",
            "Open in new tab": "    ",
            "Open Link": " ",
            "Edit Link": " ",
            Unlink: " ",
            "Choose Link": " ",
            "Insert Image": " ",
            "Upload Image": " ",
            "By URL": " URL",
            Browse: "",
            "Drop image": " ",
            "or click": "  ",
            "Manage Images": " ",
            Loading: "",
            Deleting: "",
            Tags: "",
            "Are you sure? Image will be deleted.": "     .",
            Replace: "",
            Uploading: "",
            "Loading image": " ",
            Display: "",
            Inline: " ",
            "Break Text": " ",
            "Alternate Text": " ",
            "Change Size": " ",
            Width: "",
            Height: "",
            "Something went wrong. Please try again.": ".  .   ",
            "Insert Video": " ",
            "Embedded Code": "  ",
            "Insert Table": " ",
            "Table Header": " ",
            "Remove Table": " ",
            "Table Style": " ",
            "Horizontal Align": " ",
            Row: "",
            "Insert row above": "  ",
            "Insert row below": "  ",
            "Delete row": " ",
            Column: "",
            "Insert column before": "  ",
            "Insert column after": "  ",
            "Delete column": " ",
            Cell: "",
            "Merge cells": " ",
            "Horizontal split": " ",
            "Vertical split": " ",
            "Cell Background": " ",
            "Vertical Align": " ",
            Top: "",
            Middle: "",
            Bottom: "",
            "Align Top": " ",
            "Align Middle": " ",
            "Align Bottom": " ",
            "Cell Style": " ",
            "Upload File": " ",
            "Drop file": " ",
            Emoticons: "",
            "Grinning face": " ",
            "Grinning face with smiling eyes": "    ",
            "Face with tears of joy": "   ",
            "Smiling face with open mouth": "    ",
            "Smiling face with open mouth and smiling eyes": "      ",
            "Smiling face with open mouth and cold sweat": "      ",
            "Smiling face with open mouth and tightly-closed eyes": "       ",
            "Smiling face with halo": "   ",
            "Smiling face with horns": "  ",
            "Winking face": " ",
            "Smiling face with smiling eyes": "    ",
            "Face savoring delicious food": "    ",
            "Relieved face": " ",
            "Smiling face with heart-shaped eyes": "     ",
            "Smiling face with sunglasses": "    ",
            "Smirking face": " ",
            "Neutral face": " ",
            "Expressionless face": " ",
            "Unamused face": "  ",
            "Face with cold sweat": "   ",
            "Pensive face": " ",
            "Confused face": " ",
            "Confounded face": " ",
            "Kissing face": " ",
            "Face throwing a kiss": "  ",
            "Kissing face with smiling eyes": "    ",
            "Kissing face with closed eyes": "    ",
            "Face with stuck out tongue": "    ",
            "Face with stuck out tongue and winking eye": "      ",
            "Face with stuck out tongue and tightly-closed eyes": "       -",
            "Disappointed face": "  ",
            "Worried face": " ",
            "Angry face": " ",
            "Pouting face": " ",
            "Crying face": " ",
            "Persevering face": " ",
            "Face with look of triumph": "   ",
            "Disappointed but relieved face": "    ",
            "Frowning face with open mouth": "    ",
            "Anguished face": " ",
            "Fearful face": " ",
            "Weary face": " ",
            "Sleepy face": " ",
            "Tired face": " ",
            "Grimacing face": "  ",
            "Loudly crying face": "   ",
            "Face with open mouth": "   ",
            "Hushed face": " ",
            "Face with open mouth and cold sweat": "     ",
            "Face screaming in fear": "   ",
            "Astonished face": " ",
            "Flushed face": " ",
            "Sleeping face": " ",
            "Dizzy face": " ",
            "Face without mouth": "  ",
            "Face with medical mask": "   ",
            Break: "",
            Subscript: "",
            Superscript: " ",
            Fullscreen: " ",
            "Insert Horizontal Line": "  ",
            "Clear Formatting": " ",
            Undo: "",
            Redo: "",
            "Select All": " ",
            "Code View": "  ",
            Quote: "",
            Increase: "",
            Decrease: "",
            "Quick Insert": " "
        },
        direction: "rtl"
    }),
    (function() {
        if (jQuery && jQuery.fn && jQuery.fn.select2 && jQuery.fn.select2.amd)
            var a = jQuery.fn.select2.amd;
        return (
            a.define("select2/i18n/ar", [], function() {
                return {
                    errorLoading: function() {
                        return "   ";
                    },
                    inputTooLong: function(a) {
                        var b = a.input.length - a.maximum,
                            c = "  " + b + " ";
                        return c;
                    },
                    inputTooShort: function(a) {
                        var b = a.minimum - a.input.length,
                            c = "  " + b + " ";
                        return c;
                    },
                    loadingMore: function() {
                        return "   ...";
                    },
                    maximumSelected: function(a) {
                        var b = "  " + a.maximum + "  ";
                        return b;
                    },
                    noResults: function() {
                        return "     ";
                    },
                    searching: function() {
                        return " ";
                    }
                };
            }), { define: a.define, require: a.require }
        );
    })(),
    new WOW().init();
var defaultLogo = $(".navbar-brand img").attr("src"),
    didScroll,
    lastScrollTop = 0,
    delta = 5,
    navbarHeight = $(".nav-container>.navbar").outerHeight();
$(window).scroll(function(a) {
        didScroll = !0;
    }),
    setInterval(function() {
        didScroll && (hasScrolled(), (didScroll = !1));
    }, 250),
    $(function() {
        ($editor = $(".editor")),
        (editorHeight = $editor.attr("height") ?
            parseInt($editor.attr("height")) :
            300),
        $(".editor").froalaEditor({
            language: $editor.attr("lang"),
            heightMin: editorHeight,
            toolbarSticky: !1,
            imageInsertButtons: ["imageBack", "|", "imageUpload", "imageByURL"],
            imageUploadURL: "/upload/img",
            imageUploadMethod: "POST",
            requestHeaders: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            }
        });
    }),
    jQuery(document).ready(function() {
        $.ajaxSetup({
            headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") }
        });
        var a = "rtl" == $("html").attr("dir");
        if ($("body.blog-page").length) {
            var b = $("head>title").text();
            $(window)
                .focus(function() {
                    $("head>title").text(b);
                })
                .blur(function() {
                    a
                        ?
                        $("head>title").text("     ..") :
                        $("head>title").text("Don't forget to read this..");
                });
        }
        alignVertical(),
            stick(),
            hasScrolled(),
            $('[data-toggle="tooltip"]').tooltip(),
            $(".works").imagesLoaded(function() {
                alignVertical();
            }),
            $("a[smooth]").click(function(a) {
                a.preventDefault(),
                    $(this)
                    .parents(".navbar-nav")
                    .find("li")
                    .removeClass("active"),
                    $(this)
                    .parent()
                    .addClass("active"),
                    $(this).addClass("active"),
                    $("html,body").animate({ scrollTop: $(this.hash).offset().top },
                        "slow"
                    );
            }),
            $(".blog-hero h2").animate({ opacity: "1" }, 2e3),
            $(function() {
                $(window).on("scroll", function() {
                    (st = $(this).scrollTop()),
                    (translate = 50 - st / 10),
                    $(".blog-hero .valign").css({
                        transform: "translate(-50%, -" + translate + "%)",
                        opacity: 1 - st / 375
                    });
                });
            }),
            $(".share").on("click", function(a) {
                $(".fab").removeClass("no"),
                    a.target == this &&
                    ($(".share, .fab").toggleClass("active"),
                        $("body").toggleClass("overflow-hidden"));
            }),
            $(".share .fab").on("click", function(a) {
                (win = window.open(
                    $(this)
                    .find("a")
                    .attr("href"),
                    "_blank"
                )),
                win.focus();
            }),
            $(".btn-logout").click(function(a) {
                a.preventDefault(),
                    $.post($(this).attr("href"), function() {
                        window.location = "/";
                    });
            });
        var c = $(".owlCarousel");
        c.length &&
            c.owlCarousel({
                items: c.data("items") ? c.data("items") : 4,
                loop: !1,
                nav: !1,
                margin: 40,
                dots: !1,
                rtl: a,
                responsive: { 0: { items: 1 }, 768: { items: 4 }, 1e3: { items: 4 } }
            }),
            $(".hero-carousel").owlCarousel({
                items: 1,
                loop: !0,
                autoplay: !0,
                nav: !1,
                margin: 0,
                dots: !0,
                rtl: a,
                responsive: { 0: { items: 1 }, 768: { items: 1 }, 1e3: { items: 1 } }
            }),
            $(".testimonials-carousel").owlCarousel({
                items: 1,
                loop: !1,
                nav: !1,
                margin: 0,
                dots: !0,
                rtl: a,
                responsive: { 0: { items: 1 }, 600: { items: 1 }, 1e3: { items: 1 } }
            }),
            $(".autotype").length &&
            $(".autotype").typed({
                strings: ["GET", "IN", "THE", "CYBER", "GAME"],
                typeSpeed: 100,
                loop: !0
            }),
            $(".autotype2").length &&
            $(".autotype2").typed({
                strings: ["", "", "", "", ""],
                typeSpeed: 100,
                loop: !0
            }),
            $(".autotype3").length &&
            $(".autotype3").typed({
                strings: ["Siber", "Dnyada", "Yerini", "Al"],
                typeSpeed: 100,
                loop: !0
            }),
            Pace.on("done", function() {
                $(".loading-overlay").addClass("done");
            });
    }),
    $(window).scroll(function() {
        stick();
    }),
    $(window).load(function() {}),
    $(window).resize(function() {
        alignVertical();
    });

(function() {
    // Variables
    var $curve = document.getElementById("curve");
    var last_known_scroll_position = 0;
    var defaultCurveValue = 350;
    var curveRate = 3;
    var ticking = false;
    var curveValue;

    // Handle the functionality
    function scrollEvent(scrollPos) {
        if (scrollPos >= 0 && scrollPos < defaultCurveValue) {
            curveValue = defaultCurveValue - parseFloat(scrollPos / curveRate);
            $curve.setAttribute(
                "d",
                "M 800 300 Q 400 " + curveValue + " 0 300 L 0 0 L 800 0 L 800 300 Z"
            );
        }
    }

    // Scroll Listener
    // https://developer.mozilla.org/en-US/docs/Web/Events/scroll
    window.addEventListener("scroll", function(e) {
        last_known_scroll_position = window.scrollY;

        if (!ticking) {
            window.requestAnimationFrame(function() {
                scrollEvent(last_known_scroll_position);
                ticking = false;
            });
        }

        ticking = true;
    });
})();